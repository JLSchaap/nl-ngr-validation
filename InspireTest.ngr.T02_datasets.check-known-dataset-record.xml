<testsuite failures="6" name="InspireTest/ngr/T02_datasets/check-known-dataset-record.feature" skipped="0" tests="6" time="20.850547">
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Kaart van de bodemopbouw in Nederland 1:50.000 onder INSPIRE" time="3.832141">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 0&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)&#10;-------&#10;feature call (loop) failed at index: 1&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://rdfdata.eionet.europa.eu/inspirethemes/themes/16&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)&#10;-------&#10;feature call (loop) failed at index: 2&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://geonetwork-opensource.org/inspire-theme#&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)&#10;-------&#10;feature call (loop) failed at index: 3&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Zeegebieden" time="1.34465">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 0&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e&quot;}&#10;checkxlinkurl.template.feature:21 - &#10;java.net.UnknownHostException: kadaster: Temporary failure in name resolution">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "9d9f1738-aced-47c9-aaa0-c62474a2dcfb" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster: Temporary failure in name resolution
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"9d9f1738-aced-47c9-aaa0-c62474a2dcfb","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Monitoring stations (Nitraatrichtlijn) diepe filters" time="1.980947">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 0&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f&quot;}&#10;checkxlinkurl.template.feature:21 - &#10;javax.net.ssl.SSLException: Connection reset">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "9d9f1738-aced-47c9-aaa0-c62474a2dcfb" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster: Temporary failure in name resolution
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"9d9f1738-aced-47c9-aaa0-c62474a2dcfb","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '36a7e8cb-8300-4602-93d2-135943365a6f' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '36a7e8cb-8300-4602-93d2-135943365a6f' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "36a7e8cb-8300-4602-93d2-135943365a6f" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f"}
checkxlinkurl.template.feature:21 - 
javax.net.ssl.SSLException: Connection reset
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"36a7e8cb-8300-4602-93d2-135943365a6f","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Blokindeling Nederlands Continentaal Plat" time="2.283099">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=http://www.opengis.net/def/crs/EPSG/0/https://www.opengis.net/def/crs/EPSG/0/4258}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 1&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "9d9f1738-aced-47c9-aaa0-c62474a2dcfb" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster: Temporary failure in name resolution
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"9d9f1738-aced-47c9-aaa0-c62474a2dcfb","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '36a7e8cb-8300-4602-93d2-135943365a6f' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '36a7e8cb-8300-4602-93d2-135943365a6f' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "36a7e8cb-8300-4602-93d2-135943365a6f" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f"}
checkxlinkurl.template.feature:21 - 
javax.net.ssl.SSLException: Connection reset
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"36a7e8cb-8300-4602-93d2-135943365a6f","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "c2225e5d-b46f-4e38-8445-ab10fd40c0dc" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://www.opengis.net/def/crs/EPSG/0/https://www.opengis.net/def/crs/EPSG/0/4258}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"c2225e5d-b46f-4e38-8445-ab10fd40c0dc","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Vervoersnetwerken - Spoorwegen (INSPIRE geharmoniseerd)" time="1.728881">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=http://www.opengis.net/def/crs/EPSG/0/http://www.opengis.net/def/crs/EPSG/0/4258}, {link=http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 1&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526&quot;}&#10;checkxlinkurl.template.feature:21 - &#10;java.net.UnknownHostException: kadaster">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "9d9f1738-aced-47c9-aaa0-c62474a2dcfb" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster: Temporary failure in name resolution
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"9d9f1738-aced-47c9-aaa0-c62474a2dcfb","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '36a7e8cb-8300-4602-93d2-135943365a6f' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '36a7e8cb-8300-4602-93d2-135943365a6f' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "36a7e8cb-8300-4602-93d2-135943365a6f" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f"}
checkxlinkurl.template.feature:21 - 
javax.net.ssl.SSLException: Connection reset
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"36a7e8cb-8300-4602-93d2-135943365a6f","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "c2225e5d-b46f-4e38-8445-ab10fd40c0dc" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://www.opengis.net/def/crs/EPSG/0/https://www.opengis.net/def/crs/EPSG/0/4258}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"c2225e5d-b46f-4e38-8445-ab10fd40c0dc","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '3a7dd0a6-d130-4c4c-b0ba-24365cf036e2' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '3a7dd0a6-d130-4c4c-b0ba-24365cf036e2' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "3a7dd0a6-d130-4c4c-b0ba-24365cf036e2" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://www.opengis.net/def/crs/EPSG/0/http://www.opengis.net/def/crs/EPSG/0/4258}, {link=http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"3a7dd0a6-d130-4c4c-b0ba-24365cf036e2","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
  <testcase classname="InspireTest.ngr.T02_datasets.check-known-dataset-record" name="Geluidbelasting rijkswegen in Nederland 2011 (24-uurs gemiddelde)" time="9.680829">
    <failure message="check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature&#10;items: [{link=https://www.nationaalgeoregister.nl/geonetwork/srv/dut/catalog.search#/metadata/8de2f5eb-b09f-4f6d-8397-8878a1b86238}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/18}, {link=http://inspire.ec.europa.eu/metadata-codelist/PriorityDataset#}, {link=https://ngr.geocat.live/geonetwork/srv/eng/thesaurus.download?ref=external.theme.httpinspireeceuropaeumetadatacodelistPrioritydataset-Prioritydataset}, {link=urn:ogc:def:crs:EPSG::5709}]&#10;errors:&#10;-------&#10;feature call (loop) failed at index: 1&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://rdfdata.eionet.europa.eu/inspirethemes/themes/18&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)&#10;-------&#10;feature call (loop) failed at index: 2&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;http://inspire.ec.europa.eu/metadata-codelist/PriorityDataset#&quot;}&#10;checkxlinkurl.template.feature:21 - &#10;java.net.SocketTimeoutException: Read timed out&#10;-------&#10;feature call (loop) failed at index: 3&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;https://ngr.geocat.live/geonetwork/srv/eng/thesaurus.download?ref=external.theme.httpinspireeceuropaeumetadatacodelistPrioritydataset-Prioritydataset&quot;}&#10;checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)&#10;-------&#10;feature call (loop) failed at index: 4&#10;caller: classpath:InspireTest/def/checkxlinkurl.template.feature&#10;arg: {&quot;link&quot;:&quot;urn:ogc:def:crs:EPSG::5709&quot;}&#10;checkxlinkurl.template.feature:21 - &#10;org.apache.http.client.ClientProtocolException: URI does not specify a valid host name: urn:ogc:def:crs:EPSG::5709">* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'a7fb2234-f7b4-4a03-b282-f10947f42fb1' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "a7fb2234-f7b4-4a03-b282-f10947f42fb1" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/16}, {link=http://geonetwork-opensource.org/inspire-theme#}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.acceptatie.nationaalgeoregister.nl/geonetwork/srv/resourcesbbe3c19d-12b0-4912-a6f4-46eb189e85ac"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/16"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://geonetwork-opensource.org/inspire-theme#"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"a7fb2234-f7b4-4a03-b282-f10947f42fb1","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '9d9f1738-aced-47c9-aaa0-c62474a2dcfb' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "9d9f1738-aced-47c9-aaa0-c62474a2dcfb" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/7c22107ea-5e31-4bbc-8e24-d15fe230062e"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster: Temporary failure in name resolution
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"9d9f1738-aced-47c9-aaa0-c62474a2dcfb","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '36a7e8cb-8300-4602-93d2-135943365a6f' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '36a7e8cb-8300-4602-93d2-135943365a6f' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "36a7e8cb-8300-4602-93d2-135943365a6f" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f}]
errors:
-------
feature call (loop) failed at index: 0
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://data.rivm.nl/inspire/id#36a7e8cb-8300-4602-93d2-135943365a6f"}
checkxlinkurl.template.feature:21 - 
javax.net.ssl.SSLException: Connection reset
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"36a7e8cb-8300-4602-93d2-135943365a6f","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == 'c2225e5d-b46f-4e38-8445-ab10fd40c0dc' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "c2225e5d-b46f-4e38-8445-ab10fd40c0dc" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://www.opengis.net/def/crs/EPSG/0/https://www.opengis.net/def/crs/EPSG/0/4258}, {link=https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://www.nationaalgeoregister.nl/geonetwork/srv/api/recordsc2225e5d-b46f-4e38-8445-ab10fd40c0dc"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"c2225e5d-b46f-4e38-8445-ab10fd40c0dc","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '3a7dd0a6-d130-4c4c-b0ba-24365cf036e2' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '3a7dd0a6-d130-4c4c-b0ba-24365cf036e2' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "3a7dd0a6-d130-4c4c-b0ba-24365cf036e2" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=http://www.opengis.net/def/crs/EPSG/0/http://www.opengis.net/def/crs/EPSG/0/4258}, {link=http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://kadaster/cb4edbd2-2dca-4d44-92bb-b2202048b526"}
checkxlinkurl.template.feature:21 - 
java.net.UnknownHostException: kadaster
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"3a7dd0a6-d130-4c4c-b0ba-24365cf036e2","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped
* configure readTimeout = 5000 ............................................ passed
* def knownlinks = karate.jsonPath(karate.read('classpath:InspireTest/def/knownlink.csv') , '[*].knownlink') . passed
* def datasetsresult = callonce read('classpath:InspireTest/def/getdataset.template.feature') . passed
* print datasetsresult .................................................... passed
* csv datasets = datasetsresult.response .................................. passed
* print datasets .......................................................... passed
* url 'http://nationaalgeoregister.nl/' ................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecordById' ....................................... passed
And param id = '8de2f5eb-b09f-4f6d-8397-8878a1b86238' ..................... passed
And param elementsetname = 'full' ......................................... passed
And param outputSchema = 'http://www.isotc211.org/2005/gmd' ............... passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
And match /GetRecordByIdResponse/MD_Metadata/fileIdentifier/CharacterString == '8de2f5eb-b09f-4f6d-8397-8878a1b86238' . passed
* def title =  get response //citation/CI_Citation/title/CharacterString .. passed
* def email = get response //electronicMailAddress/CharacterString ........ passed
* def organisationpath = karate.get('//organisationName/CharacterString') . passed
* def organisation =  organisationpath ? organisationpath : 'no organisationName found in dataset record' . passed
* def xlinks = get response /GetRecordByIdResponse//@href ................. passed
* def ObjectValues = ...................................................... passed
* def filterx = ........................................................... passed
* def nlinks = filterx(ObjectValues(xlinks), ObjectValues(knownlinks)) .... passed
* def id = "8de2f5eb-b09f-4f6d-8397-8878a1b86238" ......................... passed
* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: check-known-dataset-record.feature:72 - feature call (loop) failed: classpath:InspireTest/def/checkxlinkurl.template.feature
caller: classpath:InspireTest/ngr/T02_datasets/check-known-dataset-record.feature
items: [{link=https://www.nationaalgeoregister.nl/geonetwork/srv/dut/catalog.search#/metadata/8de2f5eb-b09f-4f6d-8397-8878a1b86238}, {link=http://rdfdata.eionet.europa.eu/inspirethemes/themes/18}, {link=http://inspire.ec.europa.eu/metadata-codelist/PriorityDataset#}, {link=https://ngr.geocat.live/geonetwork/srv/eng/thesaurus.download?ref=external.theme.httpinspireeceuropaeumetadatacodelistPrioritydataset-Prioritydataset}, {link=urn:ogc:def:crs:EPSG::5709}]
errors:
-------
feature call (loop) failed at index: 1
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://rdfdata.eionet.europa.eu/inspirethemes/themes/18"}
checkxlinkurl.template.feature:28 - path: $, actual: 404, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 2
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"http://inspire.ec.europa.eu/metadata-codelist/PriorityDataset#"}
checkxlinkurl.template.feature:21 - 
java.net.SocketTimeoutException: Read timed out
-------
feature call (loop) failed at index: 3
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"https://ngr.geocat.live/geonetwork/srv/eng/thesaurus.download?ref=external.theme.httpinspireeceuropaeumetadatacodelistPrioritydataset-Prioritydataset"}
checkxlinkurl.template.feature:28 - path: $, actual: 500, expected: 200, reason: not equal (Integer)
-------
feature call (loop) failed at index: 4
caller: classpath:InspireTest/def/checkxlinkurl.template.feature
arg: {"link":"urn:ogc:def:crs:EPSG::5709"}
checkxlinkurl.template.feature:21 - 
org.apache.http.client.ClientProtocolException: URI does not specify a valid host name: urn:ogc:def:crs:EPSG::5709
	at âœ½.* call read('classpath:InspireTest/def/checkxlinkurl.template.feature') karate.mapWithKey(nlinks ,'link') (check-known-dataset-record.feature:72)

* def mystorage = Java.type('storage.DataStorage') ........................ skipped
* def db = new mystorage .................................................. skipped
* eval db.writeln('"8de2f5eb-b09f-4f6d-8397-8878a1b86238","'+ title + '","' + organisation + '","'+ email +'",' , 'target/surefire-reports/datasetsOkay.csv') . skipped</failure>
  </testcase>
</testsuite>
