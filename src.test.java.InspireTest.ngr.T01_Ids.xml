<testsuite failures="1" name="src/test/java/InspireTest/ngr/T01_Ids.feature" skipped="0" tests="1" time="1.480296">
  <testcase classname="src.test.java.InspireTest.ngr.T01_Ids" name="getbrief list" time="1.480296">
    <failure message="T01_Ids.feature:34 - evaluation (js) failed: db.writeln(karate.pretty(list),outputpath + 'ids.json'), java.lang.RuntimeException: java.io.FileNotFoundException: /home/runner/work/nl-ngr-validation/nl-ngr-validation/output/T01_ids/ids.json (No such file or directory)&#10;stack trace: jdk.scripting.nashorn/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)">* url 'http://nationaalgeoregister.nl/' ................................... passed
* configure readTimeout = 240000 .......................................... passed
Given path 'geonetwork/srv/dut/inspire' ................................... passed
And param service = 'CSW' ................................................. passed
And param version = '2.0.2' ............................................... passed
And param request = 'GetRecords' .......................................... passed
And param propertyName = 'identifier' ..................................... passed
And param typeNames = 'csw:Record' ........................................ passed
And param elementsetname = "brief" ........................................ passed
And param resultType = 'results' .......................................... passed
And param startposition = 1 ............................................... passed
And param maxRecords = 5 .................................................. passed
When method get ........................................................... passed
Then status 200 ........................................................... passed
* eval karate.embed(responseBytes,'application/xml') ...................... passed
* def tempdir = java.lang.System.getProperty('user.dir') .................. passed
* def separator = java.lang.System.getProperty("file.separator") .......... passed
* def outputpath = tempdir + separator + 'output' + separator + "T01_ids" + separator . passed
* def mystorage = Java.type('storage.DataStorage') ........................ passed
* def db = new mystorage .................................................. passed
* eval db.setOverwrite() .................................................. passed
* def briefarray = get response /GetRecordsResponse/SearchResults/BriefRecord[*]/identifier . passed
* def list = karate.mapWithKey(briefarray ,'datasetIdentifierCode') ....... passed
* eval db.writeln(karate.pretty(list),outputpath + 'ids.json') ............ failed

Stack Trace:
com.intuit.karate.exception.KarateException: T01_Ids.feature:34 - evaluation (js) failed: db.writeln(karate.pretty(list),outputpath + 'ids.json'), java.lang.RuntimeException: java.io.FileNotFoundException: /home/runner/work/nl-ngr-validation/nl-ngr-validation/output/T01_ids/ids.json (No such file or directory)
stack trace: jdk.scripting.nashorn/jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:531)
	at âœ½.* eval db.writeln(karate.pretty(list),outputpath + 'ids.json') (T01_Ids.feature:34)

* def servicearray = get response /GetRecordsResponse/SearchResults/BriefRecord[type='service']/identifier . skipped
* def servicelist = karate.mapWithKey(servicearray,'datasetIdentifierCode') . skipped
* eval db.writeln(karate.pretty(servicelist),outputpath + 'idsService.json') . skipped
* def datasetarray = get response /GetRecordsResponse/SearchResults/BriefRecord[type='dataset']/identifier . skipped
* def datasetlist = karate.mapWithKey(datasetarray,'datasetIdentifierCode') . skipped
* eval db.writeln(karate.pretty(datasetlist ),outputpath + 'idsDataset.json') . skipped</failure>
  </testcase>
</testsuite>
