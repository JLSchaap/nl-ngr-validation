{"failedCount":0,"prefixedPath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","packageQualifiedName":"src.test.java.InspireTest.ngr.T02_Services","loopIndex":-1,"relativePath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":170300,"millis":0.1703,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.087 karate.env system property was: null \n"},{"result":{"nanos":167300,"millis":0.1673,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":198400,"millis":0.1984,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":219500,"millis":0.2195,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2265002,"millis":2.265002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":190400,"millis":0.1904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":6204605,"millis":6.204605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":202000,"millis":0.202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1379201,"millis":1.379201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":379300,"millis":0.3793,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":640185178,"millis":640.185178,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1011900,"millis":1.0119,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":950501,"millis":0.950501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799601,"millis":0.799601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":937700,"millis":0.9377,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":975601,"millis":0.975601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2914102,"millis":2.914102,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":147200,"millis":0.1472,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":843601,"millis":0.843601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1377201,"millis":1.377201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":892701,"millis":0.892701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":316100,"millis":0.3161,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":291900,"millis":0.2919,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:22.752 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":824801,"millis":0.824801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":314700,"millis":0.3147,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:22.753 [print] #notpresent \n"},{"result":{"nanos":6961905,"millis":6.961905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":321701,"millis":0.321701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:22.760 [print] OGC:WMS \n"},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":382200,"millis":0.3822,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:22.761 [print] #notpresent \n"},{"result":{"nanos":774101,"millis":0.774101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":427000,"millis":0.427,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:22.762 [print] RIVM \n"},{"result":{"nanos":283400,"millis":0.2834,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:22.762 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":1039301,"millis":1.039301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1401001,"millis":1.401001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":199500,"millis":0.1995,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":373200,"millis":0.3732,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:22.766 [print] #notpresent \n"},{"result":{"nanos":3116102,"millis":3.116102,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":210900,"millis":0.2109,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":2616902,"millis":2.616902,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:22.772 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1032601,"millis":1.032601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":182300,"millis":0.1823,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":339000,"millis":0.339,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:22.773 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":499601,"millis":0.499601,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":846000,"millis":0.846,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2641302,"millis":2.641302,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":688.220213,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","startTime":1647665722046,"refId":"[1.1:82]","endTime":1647665722777,"exampleData":{"datasetIdentifierCode":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":162000,"millis":0.162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.050 karate.env system property was: null \n"},{"result":{"nanos":129700,"millis":0.1297,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":190700,"millis":0.1907,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":256600,"millis":0.2566,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":557101,"millis":0.557101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":496701,"millis":0.496701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":798300,"millis":0.7983,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":173200,"millis":0.1732,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":10706808,"millis":10.706808,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":709011430,"millis":709.01143,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1057601,"millis":1.057601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":877600,"millis":0.8776,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":827701,"millis":0.827701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1264001,"millis":1.264001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1127801,"millis":1.127801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":201500,"millis":0.2015,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1082901,"millis":1.082901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":826700,"millis":0.8267,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":896501,"millis":0.896501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":223300,"millis":0.2233,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":541100,"millis":0.5411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:22.810 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":1339701,"millis":1.339701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":622000,"millis":0.622,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:22.812 [print] OGC:WFS \n"},{"result":{"nanos":999201,"millis":0.999201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":473600,"millis":0.4736,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:22.813 [print] #notpresent \n"},{"result":{"nanos":164600,"millis":0.1646,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":557501,"millis":0.557501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:22.814 [print] OGC:WFS \n"},{"result":{"nanos":834300,"millis":0.8343,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":513901,"millis":0.513901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:22.815 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":186600,"millis":0.1866,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:22.816 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1142401,"millis":1.142401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":772700,"millis":0.7727,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":223901,"millis":0.223901,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":486200,"millis":0.4862,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:22.818 [print] #notpresent \n"},{"result":{"nanos":758801,"millis":0.758801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":182100,"millis":0.1821,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1740201,"millis":1.740201,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:22.821 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":1033001,"millis":1.033001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":1272901,"millis":1.272901,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":639700,"millis":0.6397,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:22.824 [print] \"true\";\"true\" \n"},{"result":{"nanos":3506603,"millis":3.506603,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1161901,"millis":1.161901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":570000,"millis":0.57,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":751.739061,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","startTime":1647665722039,"refId":"[1.2:82]","endTime":1647665722829,"exampleData":{"datasetIdentifierCode":"76342a6d-452e-4e21-b5c0-81ff7b1be90e"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.086 karate.env system property was: null \n"},{"result":{"nanos":137000,"millis":0.137,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":1155601,"millis":1.155601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":256800,"millis":0.2568,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":495101,"millis":0.495101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":253400,"millis":0.2534,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":641800,"millis":0.6418,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":140901,"millis":0.140901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2350401,"millis":2.350401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37701,"millis":0.037701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":748300159,"millis":748.300159,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":839301,"millis":0.839301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":699100,"millis":0.6991,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":661101,"millis":0.661101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":729401,"millis":0.729401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1396401,"millis":1.396401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":859300,"millis":0.8593,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":159200,"millis":0.1592,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":897201,"millis":0.897201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1972302,"millis":1.972302,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710700,"millis":0.7107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":443000,"millis":0.443,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":467501,"millis":0.467501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:22.857 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":3470502,"millis":3.470502,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":619101,"millis":0.619101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:22.861 [print] #notpresent \n"},{"result":{"nanos":827101,"millis":0.827101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":576800,"millis":0.5768,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:22.862 [print] OGC:WMS \n"},{"result":{"nanos":180400,"millis":0.1804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":411000,"millis":0.411,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:22.863 [print] #notpresent \n"},{"result":{"nanos":924501,"millis":0.924501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":804901,"millis":0.804901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:22.865 [print] RIVM \n"},{"result":{"nanos":513800,"millis":0.5138,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:22.865 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":725701,"millis":0.725701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":756600,"millis":0.7566,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":175600,"millis":0.1756,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":432701,"millis":0.432701,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:22.868 [print] #notpresent \n"},{"result":{"nanos":1371601,"millis":1.371601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":216600,"millis":0.2166,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":846101,"millis":0.846101,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:22.870 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":754900,"millis":0.7549,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":171700,"millis":0.1717,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":445901,"millis":0.445901,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:22.871 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":372800,"millis":0.3728,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":853401,"millis":0.853401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":616900,"millis":0.6169,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":780.129684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"755d488b-7b94-4883-95be-6aa279604f85","startTime":1647665722054,"refId":"[1.3:82]","endTime":1647665722873,"exampleData":{"datasetIdentifierCode":"755d488b-7b94-4883-95be-6aa279604f85"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":174500,"millis":0.1745,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.087 karate.env system property was: null \n"},{"result":{"nanos":165100,"millis":0.1651,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":187400,"millis":0.1874,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":211300,"millis":0.2113,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":644701,"millis":0.644701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":213100,"millis":0.2131,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":615100,"millis":0.6151,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1314201,"millis":1.314201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":162400,"millis":0.1624,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":627250569,"millis":627.250569,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1908902,"millis":1.908902,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":912400,"millis":0.9124,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1110601,"millis":1.110601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":951401,"millis":0.951401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1095701,"millis":1.095701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1007301,"millis":1.007301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":185400,"millis":0.1854,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":913400,"millis":0.9134,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":818601,"millis":0.818601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":819001,"millis":0.819001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":425900,"millis":0.4259,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":340800,"millis":0.3408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:22.730 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":908001,"millis":0.908001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":224300,"millis":0.2243,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:22.732 [print] #notpresent \n"},{"result":{"nanos":875801,"millis":0.875801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":242800,"millis":0.2428,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:22.733 [print] OGC:WMS \n"},{"result":{"nanos":274500,"millis":0.2745,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":245700,"millis":0.2457,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:22.733 [print] #notpresent \n"},{"result":{"nanos":952901,"millis":0.952901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":229900,"millis":0.2299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:22.735 [print] RIVM \n"},{"result":{"nanos":281901,"millis":0.281901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:22.735 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":979000,"millis":0.979,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1276201,"millis":1.276201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":344301,"millis":0.344301,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":192500,"millis":0.1925,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:22.738 [print] #notpresent \n"},{"result":{"nanos":1201300,"millis":1.2013,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":6531605,"millis":6.531605,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1082001,"millis":1.082001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:22.748 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":915101,"millis":0.915101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":196600,"millis":0.1966,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":588200,"millis":0.5882,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:22.749 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":589901,"millis":0.589901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":18789814,"millis":18.789814,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1352701,"millis":1.352701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":680.170408,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","startTime":1647665722056,"refId":"[1.4:82]","endTime":1647665722770,"exampleData":{"datasetIdentifierCode":"7dc30aed-0940-4e69-b34c-9f24b34078eb"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.780 karate.env system property was: null \n"},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":171800,"millis":0.1718,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":202700,"millis":0.2027,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":575300,"millis":0.5753,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":227700,"millis":0.2277,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":575001,"millis":0.575001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":183700,"millis":0.1837,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2284502,"millis":2.284502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547600410,"millis":547.60041,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1080201,"millis":1.080201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":1452701,"millis":1.452701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":658500,"millis":0.6585,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682701,"millis":0.682701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":888500,"millis":0.8885,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":980201,"millis":0.980201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1223101,"millis":1.223101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":773701,"millis":0.773701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":826300,"millis":0.8263,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":240601,"millis":0.240601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":225400,"millis":0.2254,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.342 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n"},{"result":{"nanos":678200,"millis":0.6782,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197000,"millis":0.197,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.343 [print] #notpresent \n"},{"result":{"nanos":739001,"millis":0.739001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":148100,"millis":0.1481,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.344 [print] OGC:WMS \n"},{"result":{"nanos":60400,"millis":0.0604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121800,"millis":0.1218,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.344 [print] #notpresent \n"},{"result":{"nanos":807701,"millis":0.807701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.345 [print] Informatiehuis Water \n"},{"result":{"nanos":97600,"millis":0.0976,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.345 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":1328501,"millis":1.328501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":836901,"millis":0.836901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":139700,"millis":0.1397,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.348 [print] #notpresent \n"},{"result":{"nanos":1089901,"millis":1.089901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":169100,"millis":0.1691,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":240500,"millis":0.2405,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.349 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Zie de gerefereerde specificatie.\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":870801,"millis":0.870801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":161000,"millis":0.161,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":147600,"millis":0.1476,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.350 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":576200,"millis":0.5762,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":728001,"millis":0.728001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":632400,"millis":0.6324,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.421128,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","startTime":1647665722775,"refId":"[1.5:82]","endTime":1647665723352,"exampleData":{"datasetIdentifierCode":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":169200,"millis":0.1692,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.786 karate.env system property was: null \n"},{"result":{"nanos":82301,"millis":0.082301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":140100,"millis":0.1401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":188000,"millis":0.188,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":342700,"millis":0.3427,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":177000,"millis":0.177,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452001,"millis":0.452001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":270700,"millis":0.2707,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '589a9223-7588-4cd7-93aa-5373a12d8cea'"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":579181533,"millis":579.181533,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":972501,"millis":0.972501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '589a9223-7588-4cd7-93aa-5373a12d8cea'"}},{"result":{"nanos":886901,"millis":0.886901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":847100,"millis":0.8471,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690601,"millis":0.690601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1643901,"millis":1.643901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2689402,"millis":2.689402,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":111600,"millis":0.1116,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":668301,"millis":0.668301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":624200,"millis":0.6242,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636701,"millis":0.636701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185700,"millis":0.1857,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":324600,"millis":0.3246,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.379 [print] https:\/\/service.pdok.nl\/kadaster\/hy\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":2364602,"millis":2.364602,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":3567003,"millis":3.567003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.385 [print] OGC:WMS \n"},{"result":{"nanos":1451301,"millis":1.451301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":196400,"millis":0.1964,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.387 [print] #notpresent \n"},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":173600,"millis":0.1736,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.387 [print] OGC:WMS \n"},{"result":{"nanos":840401,"millis":0.840401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145600,"millis":0.1456,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.388 [print] Beheer PDOK \n"},{"result":{"nanos":225800,"millis":0.2258,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.388 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification\"] \n"},{"result":{"nanos":666901,"millis":0.666901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1184501,"millis":1.184501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.390 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":835200,"millis":0.8352,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":200900,"millis":0.2009,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.391 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1289501,"millis":1.289501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":166000,"millis":0.166,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.393 [print] \"true\";\"true\" \n"},{"result":{"nanos":573400,"millis":0.5734,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"589a9223-7588-4cd7-93aa-5373a12d8cea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":975801,"millis":0.975801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"589a9223-7588-4cd7-93aa-5373a12d8cea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":962901,"millis":0.962901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"589a9223-7588-4cd7-93aa-5373a12d8cea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":608.081255,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"589a9223-7588-4cd7-93aa-5373a12d8cea","startTime":1647665722779,"refId":"[1.6:82]","endTime":1647665723396,"exampleData":{"datasetIdentifierCode":"589a9223-7588-4cd7-93aa-5373a12d8cea"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.832 karate.env system property was: null \n"},{"result":{"nanos":2422602,"millis":2.422602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":213900,"millis":0.2139,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":186500,"millis":0.1865,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":418800,"millis":0.4188,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":227801,"millis":0.227801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":493100,"millis":0.4931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":148900,"millis":0.1489,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":388800,"millis":0.3888,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":61901,"millis":0.061901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567877524,"millis":567.877524,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1421801,"millis":1.421801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":659800,"millis":0.6598,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":768301,"millis":0.768301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":936400,"millis":0.9364,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":944701,"millis":0.944701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1501501,"millis":1.501501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":579601,"millis":0.579601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":584300,"millis":0.5843,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674001,"millis":0.674001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":188200,"millis":0.1882,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":172500,"millis":0.1725,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.415 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":644501,"millis":0.644501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157500,"millis":0.1575,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.416 [print] #notpresent \n"},{"result":{"nanos":689700,"millis":0.6897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213700,"millis":0.2137,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.416 [print] OGC:WMS \n"},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138400,"millis":0.1384,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.417 [print] #notpresent \n"},{"result":{"nanos":1353201,"millis":1.353201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168000,"millis":0.168,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.418 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":191500,"millis":0.1915,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.418 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":819800,"millis":0.8198,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":776601,"millis":0.776601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":167600,"millis":0.1676,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.420 [print] #notpresent \n"},{"result":{"nanos":909901,"millis":0.909901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":211300,"millis":0.2113,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.422 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\" \n"},{"result":{"nanos":807601,"millis":0.807601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":166800,"millis":0.1668,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.423 [print] \"true\";\"true\" \n"},{"result":{"nanos":374700,"millis":0.3747,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":522701,"millis":0.522701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":568700,"millis":0.5687,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":590.50074,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","startTime":1647665722831,"refId":"[1.7:82]","endTime":1647665723424,"exampleData":{"datasetIdentifierCode":"7af7b20d-3f8a-4d7f-8124-73980535a4f6"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:22.877 karate.env system property was: null \n"},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157500,"millis":0.1575,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":217300,"millis":0.2173,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":443801,"millis":0.443801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":167400,"millis":0.1674,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":900200,"millis":0.9002,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":140100,"millis":0.1401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":444101,"millis":0.444101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552201013,"millis":552.201013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":622901,"millis":0.622901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":739600,"millis":0.7396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":755501,"millis":0.755501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":670400,"millis":0.6704,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":765801,"millis":0.765801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1345201,"millis":1.345201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2622102,"millis":2.622102,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":733200,"millis":0.7332,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":759901,"millis":0.759901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1742801,"millis":1.742801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":192301,"millis":0.192301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.443 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":1329901,"millis":1.329901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1837101,"millis":1.837101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.447 [print] #notpresent \n"},{"result":{"nanos":891801,"millis":0.891801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":237800,"millis":0.2378,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.448 [print] OGC:WFS \n"},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147800,"millis":0.1478,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.448 [print] #notpresent \n"},{"result":{"nanos":715601,"millis":0.715601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":201800,"millis":0.2018,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.449 [print] RIVM \n"},{"result":{"nanos":165300,"millis":0.1653,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.449 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":848901,"millis":0.848901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1480301,"millis":1.480301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":173700,"millis":0.1737,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":199100,"millis":0.1991,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.452 [print] #notpresent \n"},{"result":{"nanos":740001,"millis":0.740001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":106000,"millis":0.106,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":186500,"millis":0.1865,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.453 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":717400,"millis":0.7174,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":202500,"millis":0.2025,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.454 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":439800,"millis":0.4398,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":755001,"millis":0.755001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":836900,"millis":0.8369,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.527633,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"03c39474-aef9-4169-95da-9890af440b14","startTime":1647665722876,"refId":"[1.8:82]","endTime":1647665723456,"exampleData":{"datasetIdentifierCode":"03c39474-aef9-4169-95da-9890af440b14"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.355 karate.env system property was: null \n"},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382100,"millis":0.3821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91500,"millis":0.0915,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1100101,"millis":1.100101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117600,"millis":0.1176,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558580018,"millis":558.580018,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1022001,"millis":1.022001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":680801,"millis":0.680801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":735500,"millis":0.7355,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":634401,"millis":0.634401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1450701,"millis":1.450701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":820800,"millis":0.8208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":535501,"millis":0.535501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1238601,"millis":1.238601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":746700,"millis":0.7467,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":870701,"millis":0.870701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.925 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":830401,"millis":0.830401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130800,"millis":0.1308,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.926 [print] #notpresent \n"},{"result":{"nanos":1560601,"millis":1.560601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":133300,"millis":0.1333,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.928 [print] OGC:WFS \n"},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":206401,"millis":0.206401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.929 [print] #notpresent \n"},{"result":{"nanos":674600,"millis":0.6746,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":182100,"millis":0.1821,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.930 [print] RIVM \n"},{"result":{"nanos":112701,"millis":0.112701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.930 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":743000,"millis":0.743,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":708401,"millis":0.708401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":171300,"millis":0.1713,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.932 [print] #notpresent \n"},{"result":{"nanos":789401,"millis":0.789401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":137400,"millis":0.1374,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":251500,"millis":0.2515,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.933 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1908802,"millis":1.908802,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115800,"millis":0.1158,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.936 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":548900,"millis":0.5489,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":804001,"millis":0.804001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":547800,"millis":0.5478,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.498235,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","startTime":1647665723355,"refId":"[1.9:82]","endTime":1647665723938,"exampleData":{"datasetIdentifierCode":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.398 karate.env system property was: null \n"},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143400,"millis":0.1434,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":412901,"millis":0.412901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408600,"millis":0.4086,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1074101,"millis":1.074101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":144200,"millis":0.1442,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549374711,"millis":549.374711,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1254201,"millis":1.254201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":613101,"millis":0.613101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":782600,"millis":0.7826,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":745200,"millis":0.7452,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":890701,"millis":0.890701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1293301,"millis":1.293301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":677201,"millis":0.677201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":768300,"millis":0.7683,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":635301,"millis":0.635301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":649200,"millis":0.6492,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.960 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":747601,"millis":0.747601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":526900,"millis":0.5269,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:23.962 [print] OGC:WFS \n"},{"result":{"nanos":683901,"millis":0.683901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":432700,"millis":0.4327,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:23.963 [print] #notpresent \n"},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":545700,"millis":0.5457,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:23.963 [print] OGC:WFS \n"},{"result":{"nanos":1609702,"millis":1.609702,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":581800,"millis":0.5818,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:23.966 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":576601,"millis":0.576601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:23.966 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":743100,"millis":0.7431,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":746501,"millis":0.746501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":448700,"millis":0.4487,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:23.968 [print] #notpresent \n"},{"result":{"nanos":760401,"millis":0.760401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":719800,"millis":0.7198,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:23.970 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Dataset is geharmoniseerd\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":657201,"millis":0.657201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":485300,"millis":0.4853,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:23.971 [print] \"true\";\"true\" \n"},{"result":{"nanos":468801,"millis":0.468801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":695700,"millis":0.6957,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":498001,"millis":0.498001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.43273,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5be1b57b-2cac-4119-92eb-700346543d47","startTime":1647665723398,"refId":"[1.10:82]","endTime":1647665723973,"exampleData":{"datasetIdentifierCode":"5be1b57b-2cac-4119-92eb-700346543d47"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.439 karate.env system property was: null \n"},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141900,"millis":0.1419,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93300,"millis":0.0933,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2578101,"millis":2.578101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":132301,"millis":0.132301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436100,"millis":0.4361,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2317102,"millis":2.317102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545278008,"millis":545.278008,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":752100,"millis":0.7521,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":652201,"millis":0.652201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1251301,"millis":1.251301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":817800,"millis":0.8178,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":741301,"millis":0.741301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":694000,"millis":0.694,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":533800,"millis":0.5338,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":744001,"millis":0.744001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1166400,"millis":1.1664,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":428801,"millis":0.428801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":538400,"millis":0.5384,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:23.999 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":593301,"millis":0.593301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":529200,"millis":0.5292,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.000 [print] #notpresent \n"},{"result":{"nanos":555500,"millis":0.5555,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":499801,"millis":0.499801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.001 [print] OGC:WMS \n"},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":399700,"millis":0.3997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.002 [print] #notpresent \n"},{"result":{"nanos":681901,"millis":0.681901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":412600,"millis":0.4126,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.003 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":559300,"millis":0.5593,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.004 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":794701,"millis":0.794701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":667401,"millis":0.667401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74800,"millis":0.0748,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":530600,"millis":0.5306,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.006 [print] #notpresent \n"},{"result":{"nanos":1472101,"millis":1.472101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":562701,"millis":0.562701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.008 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"De service voldoet niet aan de richtlijnen van INSPIRE vanwege technische beperkingen\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":693300,"millis":0.6933,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":2033802,"millis":2.033802,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.011 [print] \"false\";\"false\" \n"},{"result":{"nanos":459100,"millis":0.4591,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1942702,"millis":1.942702,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":675300,"millis":0.6753,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.039229,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","startTime":1647665723438,"refId":"[1.11:82]","endTime":1647665724014,"exampleData":{"datasetIdentifierCode":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.460 karate.env system property was: null \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108100,"millis":0.1081,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":288100,"millis":0.2881,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408901,"millis":0.408901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198300,"millis":0.1983,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1492fa63-96e2-406d-9a27-6affe281d848'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566168024,"millis":566.168024,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":766800,"millis":0.7668,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1492fa63-96e2-406d-9a27-6affe281d848'"}},{"result":{"nanos":666301,"millis":0.666301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":694200,"millis":0.6942,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":878401,"millis":0.878401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1284301,"millis":1.284301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":686500,"millis":0.6865,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":584701,"millis":0.584701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":748501,"millis":0.748501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":761300,"millis":0.7613,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":518500,"millis":0.5185,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":568800,"millis":0.5688,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:24.036 [print] https:\/\/inspire.caris.nl\/geoserver2\/mu\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":623700,"millis":0.6237,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118700,"millis":0.1187,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.038 [print] OGC:WFS \n"},{"result":{"nanos":793001,"millis":0.793001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137400,"millis":0.1374,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.039 [print] #notpresent \n"},{"result":{"nanos":244800,"millis":0.2448,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.039 [print] OGC:WFS \n"},{"result":{"nanos":855201,"millis":0.855201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141000,"millis":0.141,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.040 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":319500,"millis":0.3195,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.040 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":892701,"millis":0.892701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":648100,"millis":0.6481,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":108000,"millis":0.108,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.042 [print] #notpresent \n"},{"result":{"nanos":870501,"millis":0.870501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.043 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":1703501,"millis":1.703501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":80201,"millis":0.080201,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.045 [print] \"true\";\"true\" \n"},{"result":{"nanos":562100,"millis":0.5621,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1492fa63-96e2-406d-9a27-6affe281d848\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":578200,"millis":0.5782,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1492fa63-96e2-406d-9a27-6affe281d848\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5608904,"millis":5.608904,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1492fa63-96e2-406d-9a27-6affe281d848\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":590.49674,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1492fa63-96e2-406d-9a27-6affe281d848","startTime":1647665723459,"refId":"[1.12:82]","endTime":1647665724052,"exampleData":{"datasetIdentifierCode":"1492fa63-96e2-406d-9a27-6affe281d848"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.940 karate.env system property was: null \n"},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":327800,"millis":0.3278,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":495300,"millis":0.4953,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":122201,"millis":0.122201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":188500,"millis":0.1885,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531677197,"millis":531.677197,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1202700,"millis":1.2027,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":1166201,"millis":1.166201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":955201,"millis":0.955201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":871101,"millis":0.871101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":917900,"millis":0.9179,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1207101,"millis":1.207101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":111400,"millis":0.1114,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":705801,"millis":0.705801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":749001,"millis":0.749001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":621600,"millis":0.6216,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":613101,"millis":0.613101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":411400,"millis":0.4114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:24.484 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n"},{"result":{"nanos":774500,"millis":0.7745,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":324601,"millis":0.324601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.485 [print] #notpresent \n"},{"result":{"nanos":2115001,"millis":2.115001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":336801,"millis":0.336801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.488 [print] OGC:WMS \n"},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":433700,"millis":0.4337,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.488 [print] #notpresent \n"},{"result":{"nanos":782101,"millis":0.782101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":335500,"millis":0.3355,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.489 [print] RIVM \n"},{"result":{"nanos":427100,"millis":0.4271,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.490 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":850201,"millis":0.850201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":942201,"millis":0.942201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":339100,"millis":0.3391,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.492 [print] #notpresent \n"},{"result":{"nanos":1150301,"millis":1.150301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":207700,"millis":0.2077,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":699800,"millis":0.6998,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.494 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":798801,"millis":0.798801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":328900,"millis":0.3289,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.495 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":732901,"millis":0.732901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":803201,"millis":0.803201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":547600,"millis":0.5476,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.088315,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","startTime":1647665723940,"refId":"[1.13:82]","endTime":1647665724498,"exampleData":{"datasetIdentifierCode":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:23.976 karate.env system property was: null \n"},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427000,"millis":0.427,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404301,"millis":0.404301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":472600,"millis":0.4726,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533907999,"millis":533.907999,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":826700,"millis":0.8267,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":709101,"millis":0.709101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":704300,"millis":0.7043,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":918301,"millis":0.918301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":712000,"millis":0.712,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1629402,"millis":1.629402,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":727300,"millis":0.7273,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":780801,"millis":0.780801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":929401,"millis":0.929401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":410900,"millis":0.4109,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":395700,"millis":0.3957,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:24.522 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":1184501,"millis":1.184501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":377600,"millis":0.3776,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.524 [print] #notpresent \n"},{"result":{"nanos":1119801,"millis":1.119801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":384001,"millis":0.384001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.525 [print] OGC:WMS \n"},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":335100,"millis":0.3351,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.526 [print] #notpresent \n"},{"result":{"nanos":873101,"millis":0.873101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":464600,"millis":0.4646,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.527 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":569200,"millis":0.5692,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.528 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":2634202,"millis":2.634202,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":813101,"millis":0.813101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":406200,"millis":0.4062,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.532 [print] #notpresent \n"},{"result":{"nanos":785101,"millis":0.785101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":87200,"millis":0.0872,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":458900,"millis":0.4589,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.533 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":864301,"millis":0.864301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":543901,"millis":0.543901,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":340300,"millis":0.3403,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.535 [print] \"true\";\"false\" \n"},{"result":{"nanos":485000,"millis":0.485,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":647701,"millis":0.647701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":626000,"millis":0.626,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.652817,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","startTime":1647665723976,"refId":"[1.14:82]","endTime":1647665724537,"exampleData":{"datasetIdentifierCode":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.017 karate.env system property was: null \n"},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":288400,"millis":0.2884,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458500,"millis":0.4585,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":419001,"millis":0.419001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561471120,"millis":561.47112,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":810101,"millis":0.810101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":924100,"millis":0.9241,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688701,"millis":0.688701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":716500,"millis":0.7165,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":703501,"millis":0.703501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":769500,"millis":0.7695,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":723001,"millis":0.723001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":904601,"millis":0.904601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":805300,"millis":0.8053,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":796800,"millis":0.7968,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:24.589 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n"},{"result":{"nanos":737001,"millis":0.737001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134700,"millis":0.1347,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.590 [print] #notpresent \n"},{"result":{"nanos":756700,"millis":0.7567,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":336200,"millis":0.3362,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.591 [print] INSPIRE Atom \n"},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":427400,"millis":0.4274,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.591 [print] #notpresent \n"},{"result":{"nanos":868201,"millis":0.868201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":399000,"millis":0.399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.593 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":387300,"millis":0.3873,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.593 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":809201,"millis":0.809201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":714001,"millis":0.714001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":328100,"millis":0.3281,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.595 [print] #notpresent \n"},{"result":{"nanos":738100,"millis":0.7381,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":86601,"millis":0.086601,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":475000,"millis":0.475,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.596 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Dataset is geharmoniseerd\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":1096601,"millis":1.096601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":107600,"millis":0.1076,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":445200,"millis":0.4452,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.598 [print] \"true\";\"true\" \n"},{"result":{"nanos":438501,"millis":0.438501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":662500,"millis":0.6625,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":487500,"millis":0.4875,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":581.706733,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0bb27a13-76f1-4374-8d44-76e937198e8d","startTime":1647665724016,"refId":"[1.15:82]","endTime":1647665724600,"exampleData":{"datasetIdentifierCode":"0bb27a13-76f1-4374-8d44-76e937198e8d"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.055 karate.env system property was: null \n"},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89300,"millis":0.0893,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":391200,"millis":0.3912,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2838802,"millis":2.838802,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97601,"millis":0.097601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98800,"millis":0.0988,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":103700,"millis":0.1037,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545079808,"millis":545.079808,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":921700,"millis":0.9217,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":796701,"millis":0.796701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1050601,"millis":1.050601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":731500,"millis":0.7315,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":833901,"millis":0.833901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":735401,"millis":0.735401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":651500,"millis":0.6515,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":720501,"millis":0.720501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":645300,"millis":0.6453,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":363000,"millis":0.363,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1767902,"millis":1.767902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:24.619 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":1070501,"millis":1.070501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":556400,"millis":0.5564,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:24.621 [print] OGC:WMS \n"},{"result":{"nanos":741301,"millis":0.741301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":559200,"millis":0.5592,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:24.622 [print] #notpresent \n"},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":423800,"millis":0.4238,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:24.623 [print] OGC:WMS \n"},{"result":{"nanos":725701,"millis":0.725701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":377800,"millis":0.3778,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:24.624 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":389001,"millis":0.389001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:24.624 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":823000,"millis":0.823,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":721201,"millis":0.721201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":726400,"millis":0.7264,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":345101,"millis":0.345101,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:24.627 [print] #notpresent \n"},{"result":{"nanos":939300,"millis":0.9393,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1599802,"millis":1.599802,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:24.630 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":953900,"millis":0.9539,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":323200,"millis":0.3232,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:24.631 [print] \"false\";\"false\" \n"},{"result":{"nanos":463400,"millis":0.4634,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":608101,"millis":0.608101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":710500,"millis":0.7105,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.888327,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","startTime":1647665724054,"refId":"[1.16:82]","endTime":1647665724633,"exampleData":{"datasetIdentifierCode":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.505 karate.env system property was: null \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":555601,"millis":0.555601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":600800,"millis":0.6008,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":328001,"millis":0.328001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":164500,"millis":0.1645,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566093923,"millis":566.093923,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1106201,"millis":1.106201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":846001,"millis":0.846001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":870601,"millis":0.870601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":707600,"millis":0.7076,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":843701,"millis":0.843701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":800500,"millis":0.8005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":771501,"millis":0.771501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":649500,"millis":0.6495,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":860901,"millis":0.860901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128400,"millis":0.1284,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":617201,"millis":0.617201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.083 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":720500,"millis":0.7205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107500,"millis":0.1075,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.084 [print] OGC:WMS \n"},{"result":{"nanos":1149201,"millis":1.149201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.085 [print] #notpresent \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.085 [print] OGC:WMS \n"},{"result":{"nanos":1029900,"millis":1.0299,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":264801,"millis":0.264801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.087 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":609900,"millis":0.6099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.087 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":771501,"millis":0.771501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853800,"millis":0.8538,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":184201,"millis":0.184201,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.089 [print] #notpresent \n"},{"result":{"nanos":1241501,"millis":1.241501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":133700,"millis":0.1337,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":203800,"millis":0.2038,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.091 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":956401,"millis":0.956401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":114300,"millis":0.1143,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":138800,"millis":0.1388,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.093 [print] \"true\";\"true\" \n"},{"result":{"nanos":790901,"millis":0.790901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":584900,"millis":0.5849,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1011501,"millis":1.011501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":587.67064,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","startTime":1647665724504,"refId":"[1.17:82]","endTime":1647665725095,"exampleData":{"datasetIdentifierCode":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.540 karate.env system property was: null \n"},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101300,"millis":0.1013,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":494001,"millis":0.494001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1302601,"millis":1.302601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":881301,"millis":0.881301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556464216,"millis":556.464216,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":809701,"millis":0.809701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":754500,"millis":0.7545,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":709701,"millis":0.709701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":677800,"millis":0.6778,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":772601,"millis":0.772601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":839201,"millis":0.839201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":647000,"millis":0.647,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":839801,"millis":0.839801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":846000,"millis":0.846,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":181201,"millis":0.181201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184800,"millis":0.1848,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.108 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":795000,"millis":0.795,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":271201,"millis":0.271201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.109 [print] OGC:WMS \n"},{"result":{"nanos":764500,"millis":0.7645,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":204100,"millis":0.2041,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.110 [print] #notpresent \n"},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168000,"millis":0.168,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.111 [print] OGC:WMS \n"},{"result":{"nanos":1073801,"millis":1.073801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":455101,"millis":0.455101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.112 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":441500,"millis":0.4415,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.113 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":848201,"millis":0.848201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":782700,"millis":0.7827,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":382601,"millis":0.382601,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.115 [print] #notpresent \n"},{"result":{"nanos":942800,"millis":0.9428,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88000,"millis":0.088,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":470701,"millis":0.470701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.116 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":911200,"millis":0.9112,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94401,"millis":0.094401,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":347200,"millis":0.3472,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.118 [print] \"false\";\"false\" \n"},{"result":{"nanos":312000,"millis":0.312,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":589801,"millis":0.589801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":535400,"millis":0.5354,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":577.669133,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"777f41ee-8269-4bbc-b0e4-f889c62be099","startTime":1647665724540,"refId":"[1.18:82]","endTime":1647665725119,"exampleData":{"datasetIdentifierCode":"777f41ee-8269-4bbc-b0e4-f889c62be099"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.603 karate.env system property was: null \n"},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87200,"millis":0.0872,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373400,"millis":0.3734,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1446602,"millis":1.446602,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":425200,"millis":0.4252,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":283500,"millis":0.2835,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e2cb7d4-934a-437a-809e-fda67b4a8824'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554102015,"millis":554.102015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":984301,"millis":0.984301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e2cb7d4-934a-437a-809e-fda67b4a8824'"}},{"result":{"nanos":764100,"millis":0.7641,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":853801,"millis":0.853801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":753000,"millis":0.753,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":923901,"millis":0.923901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":813001,"millis":0.813001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":653500,"millis":0.6535,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":17258013,"millis":17.258013,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1126001,"millis":1.126001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":180500,"millis":0.1805,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":189200,"millis":0.1892,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.185 [print] https:\/\/inspire.caris.nl\/geoserver1\/mu\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":1402501,"millis":1.402501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":565801,"millis":0.565801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.187 [print] OGC:WFS \n"},{"result":{"nanos":962601,"millis":0.962601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":407800,"millis":0.4078,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.189 [print] #notpresent \n"},{"result":{"nanos":180600,"millis":0.1806,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":481800,"millis":0.4818,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.189 [print] OGC:WFS \n"},{"result":{"nanos":1105901,"millis":1.105901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":521701,"millis":0.521701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.191 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":638800,"millis":0.6388,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.192 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":848301,"millis":0.848301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1641501,"millis":1.641501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":173800,"millis":0.1738,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":497700,"millis":0.4977,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.195 [print] #notpresent \n"},{"result":{"nanos":770800,"millis":0.7708,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":179200,"millis":0.1792,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":552701,"millis":0.552701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.196 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":779100,"millis":0.7791,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":724001,"millis":0.724001,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":469700,"millis":0.4697,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.198 [print] \"true\";\"true\" \n"},{"result":{"nanos":399000,"millis":0.399,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1e2cb7d4-934a-437a-809e-fda67b4a8824\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":534000,"millis":0.534,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1e2cb7d4-934a-437a-809e-fda67b4a8824\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":981801,"millis":0.981801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1e2cb7d4-934a-437a-809e-fda67b4a8824\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":596.466345,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1e2cb7d4-934a-437a-809e-fda67b4a8824","startTime":1647665724602,"refId":"[1.19:82]","endTime":1647665725200,"exampleData":{"datasetIdentifierCode":"1e2cb7d4-934a-437a-809e-fda67b4a8824"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:24.635 karate.env system property was: null \n"},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337001,"millis":0.337001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369600,"millis":0.3696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":388400,"millis":0.3884,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":338301,"millis":0.338301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":574407629,"millis":574.407629,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1452401,"millis":1.452401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":738100,"millis":0.7381,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":956701,"millis":0.956701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":854201,"millis":0.854201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1166100,"millis":1.1661,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1206100,"millis":1.2061,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":189101,"millis":0.189101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":764800,"millis":0.7648,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":719101,"millis":0.719101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":760500,"millis":0.7605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":287801,"millis":0.287801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":313400,"millis":0.3134,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.222 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":819300,"millis":0.8193,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":297901,"millis":0.297901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.223 [print] #notpresent \n"},{"result":{"nanos":768800,"millis":0.7688,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":267500,"millis":0.2675,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.224 [print] OGC:WMS \n"},{"result":{"nanos":123201,"millis":0.123201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":235300,"millis":0.2353,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.225 [print] #notpresent \n"},{"result":{"nanos":690400,"millis":0.6904,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":263400,"millis":0.2634,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.226 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":325401,"millis":0.325401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.226 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":691000,"millis":0.691,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":836601,"millis":0.836601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":150900,"millis":0.1509,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":3223502,"millis":3.223502,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.231 [print] #notpresent \n"},{"result":{"nanos":759701,"millis":0.759701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":191000,"millis":0.191,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":784901,"millis":0.784901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.233 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\" \n"},{"result":{"nanos":938700,"millis":0.9387,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":232501,"millis":0.232501,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":5668804,"millis":5.668804,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.240 [print] \"true\";\"true\" \n"},{"result":{"nanos":300700,"millis":0.3007,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":541101,"millis":0.541101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":494300,"millis":0.4943,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":604.466451,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"feeae7d3-7485-4a39-895c-ed65e945ced0","startTime":1647665724635,"refId":"[1.20:82]","endTime":1647665725241,"exampleData":{"datasetIdentifierCode":"feeae7d3-7485-4a39-895c-ed65e945ced0"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.098 karate.env system property was: null \n"},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":299401,"millis":0.299401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372300,"millis":0.3723,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415400,"millis":0.4154,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100601,"millis":0.100601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548487510,"millis":548.48751,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1484401,"millis":1.484401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":851001,"millis":0.851001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":944500,"millis":0.9445,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":779001,"millis":0.779001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1101801,"millis":1.101801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":837601,"millis":0.837601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":224100,"millis":0.2241,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":917500,"millis":0.9175,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":750701,"millis":0.750701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":749801,"millis":0.749801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":235300,"millis":0.2353,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":490100,"millis":0.4901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.658 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":893601,"millis":0.893601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221800,"millis":0.2218,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.659 [print] OGC:WMS \n"},{"result":{"nanos":973801,"millis":0.973801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":201400,"millis":0.2014,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.661 [print] #notpresent \n"},{"result":{"nanos":227400,"millis":0.2274,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":260900,"millis":0.2609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.661 [print] OGC:WMS \n"},{"result":{"nanos":957201,"millis":0.957201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":561701,"millis":0.561701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.663 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":173800,"millis":0.1738,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.663 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":1163701,"millis":1.163701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":976300,"millis":0.9763,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":185000,"millis":0.185,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":362901,"millis":0.362901,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.666 [print] #notpresent \n"},{"result":{"nanos":887300,"millis":0.8873,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":222401,"millis":0.222401,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":322900,"millis":0.3229,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.667 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":853600,"millis":0.8536,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":208800,"millis":0.2088,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":245000,"millis":0.245,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.669 [print] \"false\";\"false\" \n"},{"result":{"nanos":372000,"millis":0.372,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":565601,"millis":0.565601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":576600,"millis":0.5766,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.902627,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bd14098b-44e6-47e5-959d-f40dda65da5a","startTime":1647665725098,"refId":"[1.21:82]","endTime":1647665725670,"exampleData":{"datasetIdentifierCode":"bd14098b-44e6-47e5-959d-f40dda65da5a"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.122 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93100,"millis":0.0931,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":293800,"millis":0.2938,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348100,"millis":0.3481,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":294200,"millis":0.2942,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":559993919,"millis":559.993919,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":783501,"millis":0.783501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":722200,"millis":0.7222,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705701,"millis":0.705701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":770700,"millis":0.7707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":977301,"millis":0.977301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":821301,"millis":0.821301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110500,"millis":0.1105,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":770300,"millis":0.7703,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":767301,"millis":0.767301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":881101,"millis":0.881101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":199600,"millis":0.1996,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":457700,"millis":0.4577,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.692 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1088701,"millis":1.088701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":247700,"millis":0.2477,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.693 [print] OGC:WMS \n"},{"result":{"nanos":850401,"millis":0.850401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":340700,"millis":0.3407,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.694 [print] #notpresent \n"},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":256900,"millis":0.2569,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.695 [print] OGC:WMS \n"},{"result":{"nanos":871101,"millis":0.871101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":634101,"millis":0.634101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.696 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":254600,"millis":0.2546,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.697 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":707600,"millis":0.7076,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":736701,"millis":0.736701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":189900,"millis":0.1899,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":365100,"millis":0.3651,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.699 [print] #notpresent \n"},{"result":{"nanos":816601,"millis":0.816601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":200000,"millis":0.2,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":287400,"millis":0.2874,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.700 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":802801,"millis":0.802801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":157100,"millis":0.1571,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":256000,"millis":0.256,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.701 [print] \"true\";\"true\" \n"},{"result":{"nanos":274201,"millis":0.274201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":746200,"millis":0.7462,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":465400,"millis":0.4654,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.063333,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"17ad94f6-4961-448b-a6f5-5368b7870409","startTime":1647665725121,"refId":"[1.22:82]","endTime":1647665725703,"exampleData":{"datasetIdentifierCode":"17ad94f6-4961-448b-a6f5-5368b7870409"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.205 karate.env system property was: null \n"},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":223700,"millis":0.2237,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":262400,"millis":0.2624,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":599701,"millis":0.599701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":208300,"millis":0.2083,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":590900,"millis":0.5909,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":507501,"millis":0.507501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":130400,"millis":0.1304,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '823c5f01-5d11-481b-aa5f-e191d129365f'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554362115,"millis":554.362115,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":988100,"millis":0.9881,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '823c5f01-5d11-481b-aa5f-e191d129365f'"}},{"result":{"nanos":680201,"millis":0.680201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716401,"millis":0.716401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":646000,"millis":0.646,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1047301,"millis":1.047301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":815500,"millis":0.8155,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":764300,"millis":0.7643,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":778801,"millis":0.778801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":716400,"millis":0.7164,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":662701,"millis":0.662701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":700300,"millis":0.7003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.772 [print] https:\/\/service.pdok.nl\/kadaster\/gn\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":849101,"millis":0.849101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":515300,"millis":0.5153,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.774 [print] OGC:WMS \n"},{"result":{"nanos":794701,"millis":0.794701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":346300,"millis":0.3463,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.775 [print] #notpresent \n"},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.775 [print] OGC:WMS \n"},{"result":{"nanos":766100,"millis":0.7661,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.776 [print] Beheer PDOK \n"},{"result":{"nanos":293000,"millis":0.293,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.776 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification\"] \n"},{"result":{"nanos":1529302,"millis":1.529302,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":742200,"millis":0.7422,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":121300,"millis":0.1213,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.779 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":1112601,"millis":1.112601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.780 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1261801,"millis":1.261801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.782 [print] \"true\";\"true\" \n"},{"result":{"nanos":657001,"millis":0.657001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"823c5f01-5d11-481b-aa5f-e191d129365f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":826701,"millis":0.826701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"823c5f01-5d11-481b-aa5f-e191d129365f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":610000,"millis":0.61,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"823c5f01-5d11-481b-aa5f-e191d129365f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":577.251331,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"823c5f01-5d11-481b-aa5f-e191d129365f","startTime":1647665725204,"refId":"[1.23:82]","endTime":1647665725784,"exampleData":{"datasetIdentifierCode":"823c5f01-5d11-481b-aa5f-e191d129365f"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.252 karate.env system property was: null \n"},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":168400,"millis":0.1684,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":206100,"millis":0.2061,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":482900,"millis":0.4829,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":239901,"millis":0.239901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523100,"millis":0.5231,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1115301,"millis":1.115301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545491708,"millis":545.491708,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":715301,"millis":0.715301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":884401,"millis":0.884401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":709100,"millis":0.7091,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":670301,"millis":0.670301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":813800,"millis":0.8138,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":932801,"millis":0.932801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":639600,"millis":0.6396,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":679001,"millis":0.679001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":743101,"millis":0.743101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":430800,"millis":0.4308,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:25.809 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":677001,"millis":0.677001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":496900,"millis":0.4969,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:25.810 [print] #notpresent \n"},{"result":{"nanos":747701,"millis":0.747701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":468700,"millis":0.4687,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:25.812 [print] OGC:WMS \n"},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:25.812 [print] #notpresent \n"},{"result":{"nanos":984901,"millis":0.984901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":98300,"millis":0.0983,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:25.813 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:25.814 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1146800,"millis":1.1468,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757901,"millis":0.757901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:25.816 [print] #notpresent \n"},{"result":{"nanos":1309401,"millis":1.309401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:25.818 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":8115106,"millis":8.115106,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":117000,"millis":0.117,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:25.827 [print] \"true\";\"false\" \n"},{"result":{"nanos":932201,"millis":0.932201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":639800,"millis":0.6398,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":502601,"millis":0.502601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.88463,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","startTime":1647665725244,"refId":"[1.24:82]","endTime":1647665725829,"exampleData":{"datasetIdentifierCode":"7b4a0b26-5885-45cd-a99d-27887cff68e5"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.674 karate.env system property was: null \n"},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":191100,"millis":0.1911,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":209301,"millis":0.209301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":455900,"millis":0.4559,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":164600,"millis":0.1646,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":613701,"millis":0.613701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":135300,"millis":0.1353,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":190800,"millis":0.1908,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546322009,"millis":546.322009,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1088201,"millis":1.088201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":745500,"millis":0.7455,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":862201,"millis":0.862201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":994301,"millis":0.994301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":937800,"millis":0.9378,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":997101,"millis":0.997101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":841501,"millis":0.841501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":620100,"millis":0.6201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":703601,"millis":0.703601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":153700,"millis":0.1537,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":756301,"millis":0.756301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.232 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":818100,"millis":0.8181,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129800,"millis":0.1298,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.234 [print] OGC:WMS \n"},{"result":{"nanos":757100,"millis":0.7571,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127100,"millis":0.1271,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.235 [print] #notpresent \n"},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109500,"millis":0.1095,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.235 [print] OGC:WMS \n"},{"result":{"nanos":829000,"millis":0.829,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":334901,"millis":0.334901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.237 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":433300,"millis":0.4333,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.237 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":1118401,"millis":1.118401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":930001,"millis":0.930001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.240 [print] #notpresent \n"},{"result":{"nanos":1097301,"millis":1.097301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":119100,"millis":0.1191,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.241 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1227701,"millis":1.227701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":124100,"millis":0.1241,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.243 [print] \"false\";\"false\" \n"},{"result":{"nanos":887101,"millis":0.887101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":674300,"millis":0.6743,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":811101,"millis":0.811101,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.543326,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0426f471-f325-42ed-a775-81c397592e86","startTime":1647665725673,"refId":"[1.25:82]","endTime":1647665726245,"exampleData":{"datasetIdentifierCode":"0426f471-f325-42ed-a775-81c397592e86"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.706 karate.env system property was: null \n"},{"result":{"nanos":135600,"millis":0.1356,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181700,"millis":0.1817,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":197600,"millis":0.1976,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":825301,"millis":0.825301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":239300,"millis":0.2393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":445101,"millis":0.445101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":341700,"millis":0.3417,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548348010,"millis":548.34801,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":822300,"millis":0.8223,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":786301,"millis":0.786301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":755000,"millis":0.755,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":730700,"millis":0.7307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":759101,"millis":0.759101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":908000,"millis":0.908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":676501,"millis":0.676501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":805401,"millis":0.805401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633000,"millis":0.633,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":293300,"millis":0.2933,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":363201,"millis":0.363201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.266 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":827400,"millis":0.8274,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":343700,"millis":0.3437,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.267 [print] #notpresent \n"},{"result":{"nanos":661600,"millis":0.6616,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":266900,"millis":0.2669,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.268 [print] OGC:WMS \n"},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":195000,"millis":0.195,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.268 [print] #notpresent \n"},{"result":{"nanos":846201,"millis":0.846201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1496101,"millis":1.496101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.271 [print] RIVM \n"},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.271 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":825601,"millis":0.825601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":833301,"millis":0.833301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":99600,"millis":0.0996,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.273 [print] #notpresent \n"},{"result":{"nanos":3980903,"millis":3.980903,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":937701,"millis":0.937701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.278 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":5289304,"millis":5.289304,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83000,"millis":0.083,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.283 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":811200,"millis":0.8112,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":3932603,"millis":3.932603,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":576301,"millis":0.576301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":581.271733,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"95e2c712-1b91-4f24-9453-c56b95227717","startTime":1647665725705,"refId":"[1.26:82]","endTime":1647665726289,"exampleData":{"datasetIdentifierCode":"95e2c712-1b91-4f24-9453-c56b95227717"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.787 karate.env system property was: null \n"},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":497100,"millis":0.4971,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457501,"millis":0.457501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":431200,"millis":0.4312,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72200,"millis":0.0722,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546955409,"millis":546.955409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1142001,"millis":1.142001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":1217801,"millis":1.217801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":987001,"millis":0.987001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":787100,"millis":0.7871,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":731701,"millis":0.731701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":762601,"millis":0.762601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":751700,"millis":0.7517,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":619701,"millis":0.619701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":744800,"millis":0.7448,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":260800,"millis":0.2608,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":228401,"millis":0.228401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.346 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":744900,"millis":0.7449,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":381801,"millis":0.381801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.347 [print] #notpresent \n"},{"result":{"nanos":926300,"millis":0.9263,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1518801,"millis":1.518801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.350 [print] OGC:WFS \n"},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75201,"millis":0.075201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.350 [print] #notpresent \n"},{"result":{"nanos":2724602,"millis":2.724602,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.353 [print] RIVM \n"},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.353 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":1526701,"millis":1.526701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1055001,"millis":1.055001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":106700,"millis":0.1067,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.356 [print] #notpresent \n"},{"result":{"nanos":1124501,"millis":1.124501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":120200,"millis":0.1202,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":241200,"millis":0.2412,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.357 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1424901,"millis":1.424901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":89300,"millis":0.0893,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.359 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":1775202,"millis":1.775202,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":525700,"millis":0.5257,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":554400,"millis":0.5544,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":572.486028,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","startTime":1647665725786,"refId":"[1.27:82]","endTime":1647665726362,"exampleData":{"datasetIdentifierCode":"b4485d59-a945-4940-a2f5-3ce7de6a947b"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:25.833 karate.env system property was: null \n"},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131800,"millis":0.1318,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":615101,"millis":0.615101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428600,"millis":0.4286,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129401,"millis":0.129401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":328900,"millis":0.3289,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535562501,"millis":535.562501,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":803200,"millis":0.8032,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":739101,"millis":0.739101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":876800,"millis":0.8768,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":710101,"millis":0.710101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":817201,"millis":0.817201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":828200,"millis":0.8282,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":721701,"millis":0.721701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":906600,"millis":0.9066,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":821101,"millis":0.821101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":270400,"millis":0.2704,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":316301,"millis":0.316301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.379 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":857200,"millis":0.8572,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221000,"millis":0.221,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.381 [print] OGC:WMS \n"},{"result":{"nanos":747501,"millis":0.747501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":947901,"millis":0.947901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.382 [print] #notpresent \n"},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":246400,"millis":0.2464,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.383 [print] OGC:WMS \n"},{"result":{"nanos":756901,"millis":0.756901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":208800,"millis":0.2088,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.384 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":171800,"millis":0.1718,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.384 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":849600,"millis":0.8496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":725901,"millis":0.725901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":211500,"millis":0.2115,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.386 [print] #notpresent \n"},{"result":{"nanos":880101,"millis":0.880101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":164400,"millis":0.1644,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":203900,"millis":0.2039,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.387 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":925601,"millis":0.925601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":275200,"millis":0.2752,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.388 [print] \"true\";\"true\" \n"},{"result":{"nanos":390901,"millis":0.390901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":518900,"millis":0.5189,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":479700,"millis":0.4797,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.473416,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","startTime":1647665725831,"refId":"[1.28:82]","endTime":1647665726390,"exampleData":{"datasetIdentifierCode":"f2d2cd9d-7410-485a-95e0-c1b885243eaf"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.248 karate.env system property was: null \n"},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407900,"millis":0.4079,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":490001,"millis":0.490001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120300,"millis":0.1203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":260500,"millis":0.2605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555526116,"millis":555.526116,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1269201,"millis":1.269201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":676000,"millis":0.676,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":609801,"millis":0.609801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":708500,"millis":0.7085,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":903801,"millis":0.903801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":830401,"millis":0.830401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":560600,"millis":0.5606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":629701,"millis":0.629701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655900,"millis":0.6559,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139100,"millis":0.1391,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.814 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":926801,"millis":0.926801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.815 [print] OGC:WMS \n"},{"result":{"nanos":893001,"millis":0.893001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.816 [print] #notpresent \n"},{"result":{"nanos":103700,"millis":0.1037,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104200,"millis":0.1042,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.816 [print] OGC:WMS \n"},{"result":{"nanos":864901,"millis":0.864901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121000,"millis":0.121,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.817 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":113500,"millis":0.1135,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.817 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":803001,"millis":0.803001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":741900,"millis":0.7419,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.819 [print] #notpresent \n"},{"result":{"nanos":777001,"millis":0.777001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79000,"millis":0.079,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.820 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":888401,"millis":0.888401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.821 [print] \"true\";\"true\" \n"},{"result":{"nanos":520300,"millis":0.5203,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":731701,"millis":0.731701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":442400,"millis":0.4424,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.371729,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e29b19de-d191-47f2-b944-5056a7674cce","startTime":1647665726248,"refId":"[1.29:82]","endTime":1647665726823,"exampleData":{"datasetIdentifierCode":"e29b19de-d191-47f2-b944-5056a7674cce"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.292 karate.env system property was: null \n"},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":8644906,"millis":8.644906,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171200,"millis":0.1712,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447300,"millis":0.4473,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":335300,"millis":0.3353,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":575875730,"millis":575.87573,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1096601,"millis":1.096601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":722001,"millis":0.722001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":674400,"millis":0.6744,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":641101,"millis":0.641101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2855802,"millis":2.855802,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":963601,"millis":0.963601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":879500,"millis":0.8795,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1194101,"millis":1.194101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2489302,"millis":2.489302,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":236300,"millis":0.2363,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.891 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":757901,"millis":0.757901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.892 [print] OGC:WFS \n"},{"result":{"nanos":861101,"millis":0.861101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.893 [print] #notpresent \n"},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109100,"millis":0.1091,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.893 [print] OGC:WFS \n"},{"result":{"nanos":814801,"millis":0.814801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.894 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":117400,"millis":0.1174,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.894 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":755900,"millis":0.7559,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":836701,"millis":0.836701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":118500,"millis":0.1185,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.896 [print] #notpresent \n"},{"result":{"nanos":872901,"millis":0.872901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.897 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":841901,"millis":0.841901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":109400,"millis":0.1094,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.898 [print] \"true\";\"true\" \n"},{"result":{"nanos":537000,"millis":0.537,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":664601,"millis":0.664601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":454900,"millis":0.4549,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":606.451853,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","startTime":1647665726292,"refId":"[1.30:82]","endTime":1647665726900,"exampleData":{"datasetIdentifierCode":"923a666c-ee4f-496c-8c85-94d5f81e1f30"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.365 karate.env system property was: null \n"},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379900,"millis":0.3799,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427101,"millis":0.427101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186400,"millis":0.1864,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":563745722,"millis":563.745722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":710300,"millis":0.7103,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":773301,"millis":0.773301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":666700,"millis":0.6667,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":644900,"millis":0.6449,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":722901,"millis":0.722901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":697200,"millis":0.6972,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":865201,"millis":0.865201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":668600,"millis":0.6686,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":774601,"millis":0.774601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":386500,"millis":0.3865,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":470901,"millis":0.470901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.938 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":722700,"millis":0.7227,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":318600,"millis":0.3186,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.939 [print] #notpresent \n"},{"result":{"nanos":632001,"millis":0.632001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":315900,"millis":0.3159,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.940 [print] OGC:WMS \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":300900,"millis":0.3009,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.941 [print] #notpresent \n"},{"result":{"nanos":854001,"millis":0.854001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":186600,"millis":0.1866,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.942 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":116100,"millis":0.1161,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.942 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":706201,"millis":0.706201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1085101,"millis":1.085101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":369600,"millis":0.3696,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.944 [print] #notpresent \n"},{"result":{"nanos":952601,"millis":0.952601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":625900,"millis":0.6259,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.946 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\" \n"},{"result":{"nanos":793101,"millis":0.793101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":3763603,"millis":3.763603,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.951 [print] \"true\";\"true\" \n"},{"result":{"nanos":423800,"millis":0.4238,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":484201,"millis":0.484201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":513600,"millis":0.5136,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":586.267338,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","startTime":1647665726364,"refId":"[1.31:82]","endTime":1647665726952,"exampleData":{"datasetIdentifierCode":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.392 karate.env system property was: null \n"},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66100,"millis":0.0661,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":284901,"millis":0.284901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":344500,"millis":0.3445,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156700,"millis":0.1567,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548543611,"millis":548.543611,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":736500,"millis":0.7365,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":777701,"millis":0.777701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":952801,"millis":0.952801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1002400,"millis":1.0024,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1706502,"millis":1.706502,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":826500,"millis":0.8265,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":603001,"millis":0.603001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":631800,"millis":0.6318,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633401,"millis":0.633401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2560202,"millis":2.560202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":600300,"millis":0.6003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:26.954 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n"},{"result":{"nanos":646701,"millis":0.646701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1795201,"millis":1.795201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:26.956 [print] #notpresent \n"},{"result":{"nanos":770101,"millis":0.770101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":391700,"millis":0.3917,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:26.957 [print] OGC:WMS \n"},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":326300,"millis":0.3263,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:26.958 [print] #notpresent \n"},{"result":{"nanos":899901,"millis":0.899901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":508800,"millis":0.5088,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:26.959 [print] Informatiehuis Water \n"},{"result":{"nanos":491401,"millis":0.491401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:26.960 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":768600,"millis":0.7686,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":763101,"millis":0.763101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":3801103,"millis":3.801103,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:26.965 [print] #notpresent \n"},{"result":{"nanos":1141101,"millis":1.141101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117400,"millis":0.1174,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":771100,"millis":0.7711,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:26.967 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Zie de gerefereerde specificatie.\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":843701,"millis":0.843701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":115800,"millis":0.1158,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":384400,"millis":0.3844,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:26.969 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":300901,"millis":0.300901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":992300,"millis":0.9923,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1093401,"millis":1.093401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.037133,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"539ec652-482d-4806-a830-0458cf8be477","startTime":1647665726392,"refId":"[1.32:82]","endTime":1647665726971,"exampleData":{"datasetIdentifierCode":"539ec652-482d-4806-a830-0458cf8be477"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.826 karate.env system property was: null \n"},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":383100,"millis":0.3831,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390600,"millis":0.3906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76701,"millis":0.076701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545183807,"millis":545.183807,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1112301,"millis":1.112301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":959801,"millis":0.959801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":813601,"millis":0.813601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":772900,"millis":0.7729,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":718500,"millis":0.7185,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":682701,"millis":0.682701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":613400,"millis":0.6134,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":798401,"millis":0.798401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":126200,"millis":0.1262,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":301500,"millis":0.3015,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:27.381 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":812001,"millis":0.812001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":156600,"millis":0.1566,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:27.382 [print] #notpresent \n"},{"result":{"nanos":971601,"millis":0.971601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:27.383 [print] OGC:WMS \n"},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":149700,"millis":0.1497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:27.383 [print] #notpresent \n"},{"result":{"nanos":753201,"millis":0.753201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:27.384 [print] RIVM \n"},{"result":{"nanos":169000,"millis":0.169,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:27.384 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":896801,"millis":0.896801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":918900,"millis":0.9189,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":182800,"millis":0.1828,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:27.386 [print] #notpresent \n"},{"result":{"nanos":938000,"millis":0.938,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":155500,"millis":0.1555,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:27.387 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":808701,"millis":0.808701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":185200,"millis":0.1852,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:27.389 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":510701,"millis":0.510701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":775700,"millis":0.7757,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":450301,"millis":0.450301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.755422,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","startTime":1647665726825,"refId":"[1.33:82]","endTime":1647665727390,"exampleData":{"datasetIdentifierCode":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.903 karate.env system property was: null \n"},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91900,"millis":0.0919,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":589901,"millis":0.589901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411300,"millis":0.4113,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534576500,"millis":534.5765,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":822401,"millis":0.822401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":753000,"millis":0.753,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":789501,"millis":0.789501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":775301,"millis":0.775301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":803200,"millis":0.8032,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":787001,"millis":0.787001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":739500,"millis":0.7395,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":796101,"millis":0.796101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":703401,"millis":0.703401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":343400,"millis":0.3434,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":372000,"millis":0.372,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:27.447 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":649001,"millis":0.649001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":318000,"millis":0.318,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:27.448 [print] #notpresent \n"},{"result":{"nanos":756701,"millis":0.756701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":345600,"millis":0.3456,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:27.449 [print] OGC:WFS \n"},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":380200,"millis":0.3802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:27.450 [print] #notpresent \n"},{"result":{"nanos":703901,"millis":0.703901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:27.451 [print] RIVM \n"},{"result":{"nanos":402200,"millis":0.4022,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:27.451 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":704901,"millis":0.704901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1055601,"millis":1.055601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":471200,"millis":0.4712,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:27.454 [print] #notpresent \n"},{"result":{"nanos":873001,"millis":0.873001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":93100,"millis":0.0931,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":700400,"millis":0.7004,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:27.455 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":901501,"millis":0.901501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":130700,"millis":0.1307,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":445500,"millis":0.4455,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:27.457 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":474700,"millis":0.4747,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":568600,"millis":0.5686,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1767102,"millis":1.767102,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.116416,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","startTime":1647665726902,"refId":"[1.34:82]","endTime":1647665727460,"exampleData":{"datasetIdentifierCode":"0606e8cb-fa51-402c-a3be-19fd724b0a10"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.962 karate.env system property was: null \n"},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":84300,"millis":0.0843,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":388100,"millis":0.3881,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107200,"millis":0.1072,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475501,"millis":0.475501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":307000,"millis":0.307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526908794,"millis":526.908794,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":908201,"millis":0.908201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":954001,"millis":0.954001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":958800,"millis":0.9588,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788601,"millis":0.788601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":799801,"millis":0.799801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":819700,"millis":0.8197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":716001,"millis":0.716001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":707400,"millis":0.7074,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":683501,"millis":0.683501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":339600,"millis":0.3396,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:27.500 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":755801,"millis":0.755801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:27.501 [print] OGC:WMS \n"},{"result":{"nanos":883001,"millis":0.883001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:27.502 [print] #notpresent \n"},{"result":{"nanos":247100,"millis":0.2471,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:27.502 [print] OGC:WMS \n"},{"result":{"nanos":1013701,"millis":1.013701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100500,"millis":0.1005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:27.503 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":469400,"millis":0.4694,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:27.504 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":733101,"millis":0.733101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":747900,"millis":0.7479,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:27.505 [print] #notpresent \n"},{"result":{"nanos":1032500,"millis":1.0325,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":104300,"millis":0.1043,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:27.506 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1328700,"millis":1.3287,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":113200,"millis":0.1132,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:27.508 [print] \"false\";\"false\" \n"},{"result":{"nanos":759800,"millis":0.7598,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":641901,"millis":0.641901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":508000,"millis":0.508,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":546.558107,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","startTime":1647665726956,"refId":"[1.35:82]","endTime":1647665727510,"exampleData":{"datasetIdentifierCode":"f0eb64f9-8888-42e1-9550-bf91c32da4bc"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:26.982 karate.env system property was: null \n"},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":284801,"millis":0.284801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468100,"millis":0.4681,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":567401,"millis":0.567401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554875615,"millis":554.875615,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":786700,"millis":0.7867,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":691801,"millis":0.691801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":633000,"millis":0.633,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":711001,"millis":0.711001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":711500,"millis":0.7115,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":793201,"millis":0.793201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":711601,"millis":0.711601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":647200,"millis":0.6472,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":617301,"millis":0.617301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":571400,"millis":0.5714,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":522400,"millis":0.5224,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:27.547 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":711601,"millis":0.711601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":602900,"millis":0.6029,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:27.548 [print] OGC:WFS \n"},{"result":{"nanos":699300,"millis":0.6993,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":479700,"millis":0.4797,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:27.549 [print] #notpresent \n"},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":436701,"millis":0.436701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:27.550 [print] OGC:WFS \n"},{"result":{"nanos":897800,"millis":0.8978,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":512101,"millis":0.512101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:27.551 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":518000,"millis":0.518,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:27.552 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":713001,"millis":0.713001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680600,"millis":0.6806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":106700,"millis":0.1067,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":717401,"millis":0.717401,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:27.554 [print] #notpresent \n"},{"result":{"nanos":827201,"millis":0.827201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":580800,"millis":0.5808,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:27.555 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":810901,"millis":0.810901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":107000,"millis":0.107,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":732000,"millis":0.732,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:27.557 [print] \"true\";\"true\" \n"},{"result":{"nanos":505501,"millis":0.505501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":697400,"millis":0.6974,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":681801,"millis":0.681801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.273531,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"91041d33-54f8-40f1-8965-a867ba00cab8","startTime":1647665726977,"refId":"[1.36:82]","endTime":1647665727559,"exampleData":{"datasetIdentifierCode":"91041d33-54f8-40f1-8965-a867ba00cab8"},"exampleIndex":35},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:27.393 karate.env system property was: null \n"},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382600,"millis":0.3826,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425401,"millis":0.425401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":193500,"millis":0.1935,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":559687019,"millis":559.687019,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1055101,"millis":1.055101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":849200,"millis":0.8492,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":993901,"millis":0.993901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725201,"millis":0.725201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":936100,"millis":0.9361,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":776601,"millis":0.776601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":607400,"millis":0.6074,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":711901,"millis":0.711901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674800,"millis":0.6748,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128201,"millis":0.128201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":215500,"millis":0.2155,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:27.963 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":1040501,"millis":1.040501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140700,"millis":0.1407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:27.964 [print] #notpresent \n"},{"result":{"nanos":924200,"millis":0.9242,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":116000,"millis":0.116,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:27.965 [print] OGC:WMS \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":188101,"millis":0.188101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:27.965 [print] #notpresent \n"},{"result":{"nanos":964400,"millis":0.9644,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120900,"millis":0.1209,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:27.966 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":90201,"millis":0.090201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:27.966 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1013400,"millis":1.0134,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":738301,"millis":0.738301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":90800,"millis":0.0908,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:27.969 [print] #notpresent \n"},{"result":{"nanos":948801,"millis":0.948801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":94200,"millis":0.0942,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:27.970 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\" \n"},{"result":{"nanos":861701,"millis":0.861701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:27.971 [print] \"true\";\"true\" \n"},{"result":{"nanos":606800,"millis":0.6068,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":526401,"millis":0.526401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":431800,"millis":0.4318,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.169533,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"664862cb-d426-4ee4-97ac-14c12b903b54","startTime":1647665727393,"refId":"[1.37:82]","endTime":1647665727972,"exampleData":{"datasetIdentifierCode":"664862cb-d426-4ee4-97ac-14c12b903b54"},"exampleIndex":36},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:27.463 karate.env system property was: null \n"},{"result":{"nanos":110000,"millis":0.11,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407701,"millis":0.407701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":785800,"millis":0.7858,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":388401,"millis":0.388401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556420816,"millis":556.420816,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":734801,"millis":0.734801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":753500,"millis":0.7535,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783001,"millis":0.783001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":23339317,"millis":23.339317,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1432701,"millis":1.432701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2630002,"millis":2.630002,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":185601,"millis":0.185601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":719000,"millis":0.719,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":770401,"millis":0.770401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":8771706,"millis":8.771706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":618501,"millis":0.618501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":575600,"millis":0.5756,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.064 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":957201,"millis":0.957201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":488000,"millis":0.488,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.065 [print] #notpresent \n"},{"result":{"nanos":965601,"millis":0.965601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":9348707,"millis":9.348707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.075 [print] OGC:WMS \n"},{"result":{"nanos":134300,"millis":0.1343,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":505801,"millis":0.505801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.076 [print] #notpresent \n"},{"result":{"nanos":799600,"millis":0.7996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":3277703,"millis":3.277703,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.080 [print] RIVM \n"},{"result":{"nanos":1125900,"millis":1.1259,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.081 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":3217203,"millis":3.217203,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":847401,"millis":0.847401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":1920701,"millis":1.920701,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":6002204,"millis":6.002204,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.093 [print] #notpresent \n"},{"result":{"nanos":846201,"millis":0.846201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":187800,"millis":0.1878,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":799901,"millis":0.799901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.095 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":796400,"millis":0.7964,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":159801,"millis":0.159801,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":1262001,"millis":1.262001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.098 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":355200,"millis":0.3552,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":2294202,"millis":2.294202,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1686201,"millis":1.686201,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":637.929678,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"745968a3-37af-4406-988e-ec595f58c7fe","startTime":1647665727462,"refId":"[1.38:82]","endTime":1647665728102,"exampleData":{"datasetIdentifierCode":"745968a3-37af-4406-988e-ec595f58c7fe"},"exampleIndex":37},{"sectionIndex":0,"stepResults":[{"result":{"nanos":190200,"millis":0.1902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:27.512 karate.env system property was: null \n"},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77100,"millis":0.0771,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":424800,"millis":0.4248,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453700,"millis":0.4537,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":133601,"millis":0.133601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":259800,"millis":0.2598,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540820004,"millis":540.820004,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":834601,"millis":0.834601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":727601,"millis":0.727601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1204401,"millis":1.204401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":653700,"millis":0.6537,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":924001,"millis":0.924001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":872600,"millis":0.8726,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":106200,"millis":0.1062,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":11725008,"millis":11.725008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":780801,"millis":0.780801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":894401,"millis":0.894401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":7798505,"millis":7.798505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":524401,"millis":0.524401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.083 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":890600,"millis":0.8906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1603002,"millis":1.603002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.086 [print] OGC:WFS \n"},{"result":{"nanos":778500,"millis":0.7785,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1112401,"millis":1.112401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.088 [print] #notpresent \n"},{"result":{"nanos":142200,"millis":0.1422,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":560901,"millis":0.560901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.088 [print] OGC:WFS \n"},{"result":{"nanos":805900,"millis":0.8059,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":508501,"millis":0.508501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.090 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":581700,"millis":0.5817,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.090 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":735701,"millis":0.735701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":877800,"millis":0.8778,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":166101,"millis":0.166101,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":8379306,"millis":8.379306,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.100 [print] #notpresent \n"},{"result":{"nanos":5326604,"millis":5.326604,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":162200,"millis":0.1622,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":898201,"millis":0.898201,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.107 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":784700,"millis":0.7847,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":152300,"millis":0.1523,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":2453602,"millis":2.453602,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.110 [print] \"true\";\"true\" \n"},{"result":{"nanos":367300,"millis":0.3673,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":8449507,"millis":8.449507,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":476000,"millis":0.476,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":606.037952,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","startTime":1647665727512,"refId":"[1.39:82]","endTime":1647665728120,"exampleData":{"datasetIdentifierCode":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2"},"exampleIndex":38},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:27.565 karate.env system property was: null \n"},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":433901,"millis":0.433901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459400,"millis":0.4594,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":440901,"millis":0.440901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81400,"millis":0.0814,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552349413,"millis":552.349413,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":879901,"millis":0.879901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":743600,"millis":0.7436,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814501,"millis":0.814501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":663400,"millis":0.6634,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":865301,"millis":0.865301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791301,"millis":0.791301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107500,"millis":0.1075,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5322004,"millis":5.322004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":951500,"millis":0.9515,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":817301,"millis":0.817301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1918801,"millis":1.918801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":382901,"millis":0.382901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.134 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":812701,"millis":0.812701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":319400,"millis":0.3194,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.135 [print] OGC:WFS \n"},{"result":{"nanos":984301,"millis":0.984301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":220600,"millis":0.2206,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.137 [print] #notpresent \n"},{"result":{"nanos":1283801,"millis":1.283801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155000,"millis":0.155,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.138 [print] OGC:WFS \n"},{"result":{"nanos":6231805,"millis":6.231805,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":237600,"millis":0.2376,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.145 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":362200,"millis":0.3622,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.145 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":1151901,"millis":1.151901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":845800,"millis":0.8458,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":150300,"millis":0.1503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":152700,"millis":0.1527,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.147 [print] #notpresent \n"},{"result":{"nanos":988800,"millis":0.9888,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":156700,"millis":0.1567,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":289600,"millis":0.2896,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.149 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":1221401,"millis":1.221401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":477900,"millis":0.4779,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":168500,"millis":0.1685,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.151 [print] \"true\";\"true\" \n"},{"result":{"nanos":585701,"millis":0.585701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":553500,"millis":0.5535,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":449101,"millis":0.449101,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":586.318438,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","startTime":1647665727564,"refId":"[1.40:82]","endTime":1647665728152,"exampleData":{"datasetIdentifierCode":"c7dad4b9-42a8-452f-a33b-d4938ed22142"},"exampleIndex":39},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:27.975 karate.env system property was: null \n"},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":400401,"millis":0.400401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93200,"millis":0.0932,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414300,"millis":0.4143,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":140500,"millis":0.1405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529278995,"millis":529.278995,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1405002,"millis":1.405002,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":736600,"millis":0.7366,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":642801,"millis":0.642801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757400,"millis":0.7574,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":945301,"millis":0.945301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":807200,"millis":0.8072,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104901,"millis":0.104901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":940200,"millis":0.9402,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":723001,"millis":0.723001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":832300,"millis":0.8323,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154801,"millis":0.154801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":388600,"millis":0.3886,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.515 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":824001,"millis":0.824001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":222700,"millis":0.2227,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.516 [print] #notpresent \n"},{"result":{"nanos":946000,"millis":0.946,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":191701,"millis":0.191701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.517 [print] OGC:WMS \n"},{"result":{"nanos":243300,"millis":0.2433,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203100,"millis":0.2031,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.518 [print] #notpresent \n"},{"result":{"nanos":911701,"millis":0.911701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":200700,"millis":0.2007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.519 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":210300,"millis":0.2103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.519 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":949601,"millis":0.949601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":799200,"millis":0.7992,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":200200,"millis":0.2002,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":144201,"millis":0.144201,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.521 [print] #notpresent \n"},{"result":{"nanos":963200,"millis":0.9632,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":243200,"millis":0.2432,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":218200,"millis":0.2182,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.523 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":2175801,"millis":2.175801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":176000,"millis":0.176,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":300601,"millis":0.300601,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.526 [print] \"true\";\"false\" \n"},{"result":{"nanos":377800,"millis":0.3778,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":537200,"millis":0.5372,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451001,"millis":0.451001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":550.680711,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","startTime":1647665727975,"refId":"[1.41:82]","endTime":1647665728527,"exampleData":{"datasetIdentifierCode":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9"},"exampleIndex":40},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.122 karate.env system property was: null \n"},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":158201,"millis":0.158201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":207200,"millis":0.2072,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":493300,"millis":0.4933,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":160100,"millis":0.1601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496401,"millis":0.496401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":393300,"millis":0.3933,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541934806,"millis":541.934806,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1077301,"millis":1.077301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":969900,"millis":0.9699,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":820601,"millis":0.820601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":810401,"millis":0.810401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":821400,"millis":0.8214,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":882101,"millis":0.882101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":804300,"millis":0.8043,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":841400,"millis":0.8414,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":718901,"millis":0.718901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":437400,"millis":0.4374,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.676 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":919701,"millis":0.919701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.677 [print] #notpresent \n"},{"result":{"nanos":897801,"millis":0.897801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.678 [print] #notpresent \n"},{"result":{"nanos":224100,"millis":0.2241,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151300,"millis":0.1513,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.678 [print] #notpresent \n"},{"result":{"nanos":992701,"millis":0.992701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159200,"millis":0.1592,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.679 [print] KNMI \n"},{"result":{"nanos":414500,"millis":0.4145,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.680 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":736801,"millis":0.736801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":687300,"millis":0.6873,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":95400,"millis":0.0954,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.682 [print] #notpresent \n"},{"result":{"nanos":1017801,"millis":1.017801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":135900,"millis":0.1359,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.683 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1316401,"millis":1.316401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":91500,"millis":0.0915,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.684 [print] true \n"},{"result":{"nanos":805500,"millis":0.8055,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1050401,"millis":1.050401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":616100,"millis":0.6161,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.576121,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","startTime":1647665728118,"refId":"[1.42:82]","endTime":1647665728687,"exampleData":{"datasetIdentifierCode":"1e01d173-96f4-40b1-8236-c6a9cfdac252"},"exampleIndex":41},{"sectionIndex":0,"stepResults":[{"result":{"nanos":195601,"millis":0.195601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.126 karate.env system property was: null \n"},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162000,"millis":0.162,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152700,"millis":0.1527,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":411200,"millis":0.4112,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":209500,"millis":0.2095,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":699301,"millis":0.699301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2977702,"millis":2.977702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":113300,"millis":0.1133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":683971411,"millis":683.971411,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":960401,"millis":0.960401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":790701,"millis":0.790701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799800,"millis":0.7998,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":831601,"millis":0.831601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1056101,"millis":1.056101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":763200,"millis":0.7632,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":692301,"millis":0.692301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":633900,"millis":0.6339,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633501,"millis":0.633501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":623300,"millis":0.6233,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.824 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":969601,"millis":0.969601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.826 [print] #notpresent \n"},{"result":{"nanos":851401,"millis":0.851401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90600,"millis":0.0906,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.827 [print] OGC:WFS \n"},{"result":{"nanos":242700,"millis":0.2427,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.827 [print] #notpresent \n"},{"result":{"nanos":955501,"millis":0.955501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109000,"millis":0.109,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.828 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":295400,"millis":0.2954,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.828 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1016601,"millis":1.016601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":883401,"millis":0.883401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.831 [print] #notpresent \n"},{"result":{"nanos":900200,"millis":0.9002,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":617900,"millis":0.6179,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":142500,"millis":0.1425,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.832 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":796801,"millis":0.796801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.833 [print] \"false\";\"true\" \n"},{"result":{"nanos":548100,"millis":0.5481,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":609201,"millis":0.609201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1015701,"millis":1.015701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":707.84273,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68505be5-45c4-4889-a82a-125043bbdc44","startTime":1647665728122,"refId":"[1.43:82]","endTime":1647665728835,"exampleData":{"datasetIdentifierCode":"68505be5-45c4-4889-a82a-125043bbdc44"},"exampleIndex":42},{"sectionIndex":0,"stepResults":[{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.159 karate.env system property was: null \n"},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":385700,"millis":0.3857,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":253100,"millis":0.2531,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":521101,"millis":0.521101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":184900,"millis":0.1849,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":5730304,"millis":5.730304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":174100,"millis":0.1741,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":2302502,"millis":2.302502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":149500,"millis":0.1495,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":660951695,"millis":660.951695,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":817500,"millis":0.8175,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":770601,"millis":0.770601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3489403,"millis":3.489403,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5978304,"millis":5.978304,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":936201,"millis":0.936201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1068501,"millis":1.068501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":913200,"millis":0.9132,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":719401,"millis":0.719401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":662100,"millis":0.6621,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178100,"millis":0.1781,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:28.848 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":813500,"millis":0.8135,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:28.849 [print] #notpresent \n"},{"result":{"nanos":999501,"millis":0.999501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":165000,"millis":0.165,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:28.850 [print] #notpresent \n"},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":189301,"millis":0.189301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:28.850 [print] #notpresent \n"},{"result":{"nanos":724700,"millis":0.7247,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:28.851 [print] KNMI \n"},{"result":{"nanos":129500,"millis":0.1295,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:28.851 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":756401,"millis":0.756401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":811401,"millis":0.811401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:28.853 [print] #notpresent \n"},{"result":{"nanos":851800,"millis":0.8518,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":74801,"millis":0.074801,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":165700,"millis":0.1657,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:28.854 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":928500,"millis":0.9285,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":154401,"millis":0.154401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:28.856 [print] true \n"},{"result":{"nanos":389500,"millis":0.3895,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":670300,"millis":0.6703,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":495601,"millis":0.495601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":695.57222,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","startTime":1647665728158,"refId":"[1.44:82]","endTime":1647665728857,"exampleData":{"datasetIdentifierCode":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0"},"exampleIndex":43},{"sectionIndex":0,"stepResults":[{"result":{"nanos":97800,"millis":0.0978,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.533 karate.env system property was: null \n"},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":166100,"millis":0.1661,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":184901,"millis":0.184901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":541400,"millis":0.5414,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":207900,"millis":0.2079,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":572301,"millis":0.572301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":139800,"millis":0.1398,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd029f5-6e8f-4d61-b89a-11427c96bf3a'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":593103844,"millis":593.103844,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1252301,"millis":1.252301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd029f5-6e8f-4d61-b89a-11427c96bf3a'"}},{"result":{"nanos":3783903,"millis":3.783903,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":887100,"millis":0.8871,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":914401,"millis":0.914401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":931201,"millis":0.931201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":718400,"millis":0.7184,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718801,"millis":0.718801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":607200,"millis":0.6072,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":671801,"millis":0.671801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138000,"millis":0.138,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":638300,"millis":0.6383,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.141 [print] https:\\\/\\\/inspire.caris.nl\\\/gs4\\\/LAT2018OF\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":874501,"millis":0.874501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":472100,"millis":0.4721,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.143 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":916901,"millis":0.916901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":348100,"millis":0.3481,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.144 [print] #notpresent \n"},{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":462801,"millis":0.462801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.145 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":804800,"millis":0.8048,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91901,"millis":0.091901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.146 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":515400,"millis":0.5154,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.146 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":705300,"millis":0.7053,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":681501,"millis":0.681501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.148 [print] #notpresent \n"},{"result":{"nanos":1310701,"millis":1.310701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.149 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":1056401,"millis":1.056401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.151 [print] \"true\";\"true\" \n"},{"result":{"nanos":867901,"millis":0.867901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ebd029f5-6e8f-4d61-b89a-11427c96bf3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":831801,"millis":0.831801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ebd029f5-6e8f-4d61-b89a-11427c96bf3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":541200,"millis":0.5412,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ebd029f5-6e8f-4d61-b89a-11427c96bf3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":617.994363,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ebd029f5-6e8f-4d61-b89a-11427c96bf3a","startTime":1647665728529,"refId":"[1.45:82]","endTime":1647665729153,"exampleData":{"datasetIdentifierCode":"ebd029f5-6e8f-4d61-b89a-11427c96bf3a"},"exampleIndex":44},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.690 karate.env system property was: null \n"},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":184300,"millis":0.1843,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107301,"millis":0.107301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363300,"millis":0.3633,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476300,"millis":0.4763,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":128700,"millis":0.1287,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":569777626,"millis":569.777626,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1113001,"millis":1.113001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":826400,"millis":0.8264,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":764300,"millis":0.7643,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4631904,"millis":4.631904,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1025700,"millis":1.0257,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":855601,"millis":0.855601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":738001,"millis":0.738001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":822400,"millis":0.8224,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":752001,"millis":0.752001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":135600,"millis":0.1356,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.275 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":749801,"millis":0.749801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.276 [print] #notpresent \n"},{"result":{"nanos":969901,"millis":0.969901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103900,"millis":0.1039,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.277 [print] #notpresent \n"},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84300,"millis":0.0843,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.278 [print] #notpresent \n"},{"result":{"nanos":2219902,"millis":2.219902,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108700,"millis":0.1087,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.280 [print] KNMI \n"},{"result":{"nanos":275000,"millis":0.275,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.280 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1149101,"millis":1.149101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":848401,"millis":0.848401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.282 [print] #notpresent \n"},{"result":{"nanos":1079801,"millis":1.079801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":113700,"millis":0.1137,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.284 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1168801,"millis":1.168801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":106600,"millis":0.1066,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.285 [print] true \n"},{"result":{"nanos":773900,"millis":0.7739,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":581001,"millis":0.581001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":470300,"millis":0.4703,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":594.620444,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","startTime":1647665728689,"refId":"[1.46:82]","endTime":1647665729287,"exampleData":{"datasetIdentifierCode":"1009c2a4-4dba-49a5-b643-914ba8b80b52"},"exampleIndex":45},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.838 karate.env system property was: null \n"},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75900,"millis":0.0759,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":418900,"millis":0.4189,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114301,"millis":0.114301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2504601,"millis":2.504601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":136101,"millis":0.136101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":624767765,"millis":624.767765,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1171499,"millis":1.171499,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":846400,"millis":0.8464,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":818100,"millis":0.8181,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":890199,"millis":0.890199,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1714300,"millis":1.7143,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":759599,"millis":0.759599,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":646300,"millis":0.6463,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":777500,"millis":0.7775,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":826999,"millis":0.826999,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":663200,"millis":0.6632,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.480 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":761899,"millis":0.761899,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143100,"millis":0.1431,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.481 [print] #notpresent \n"},{"result":{"nanos":967200,"millis":0.9672,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.482 [print] #notpresent \n"},{"result":{"nanos":265800,"millis":0.2658,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.482 [print] #notpresent \n"},{"result":{"nanos":911499,"millis":0.911499,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125800,"millis":0.1258,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.483 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":443000,"millis":0.443,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.484 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":982400,"millis":0.9824,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":815799,"millis":0.815799,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.486 [print] #notpresent \n"},{"result":{"nanos":1072900,"millis":1.0729,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":106200,"millis":0.1062,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.487 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1127499,"millis":1.127499,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":95400,"millis":0.0954,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.488 [print] true \n"},{"result":{"nanos":697100,"millis":0.6971,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":516700,"millis":0.5167,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":521699,"millis":0.521699,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":647.800359,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b4b59b2c-156d-412e-b8f0-c0779402de80","startTime":1647665728838,"refId":"[1.47:82]","endTime":1647665729490,"exampleData":{"datasetIdentifierCode":"b4b59b2c-156d-412e-b8f0-c0779402de80"},"exampleIndex":46},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25801,"millis":0.025801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:28.859 karate.env system property was: null \n"},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":103600,"millis":0.1036,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286200,"millis":0.2862,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399100,"millis":0.3991,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":646370037,"millis":646.370037,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":653500,"millis":0.6535,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":803899,"millis":0.803899,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":781500,"millis":0.7815,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":776400,"millis":0.7764,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":752600,"millis":0.7526,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":779800,"millis":0.7798,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":688099,"millis":0.688099,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":646800,"millis":0.6468,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":8022297,"millis":8.022297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":98900,"millis":0.0989,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.522 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1003999,"millis":1.003999,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.523 [print] #notpresent \n"},{"result":{"nanos":889300,"millis":0.8893,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.524 [print] #notpresent \n"},{"result":{"nanos":256800,"millis":0.2568,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92300,"millis":0.0923,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.524 [print] #notpresent \n"},{"result":{"nanos":1635199,"millis":1.635199,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.526 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":246300,"millis":0.2463,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.526 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1107299,"millis":1.107299,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":762000,"millis":0.762,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":133600,"millis":0.1336,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.528 [print] #notpresent \n"},{"result":{"nanos":997399,"millis":0.997399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":106400,"millis":0.1064,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.530 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1247700,"millis":1.2477,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.531 [print] true \n"},{"result":{"nanos":526099,"millis":0.526099,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":483100,"millis":0.4831,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":399900,"millis":0.3999,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":672.371028,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"56093b94-7517-456d-a0d4-338aba3d8c74","startTime":1647665728859,"refId":"[1.48:82]","endTime":1647665729533,"exampleData":{"datasetIdentifierCode":"56093b94-7517-456d-a0d4-338aba3d8c74"},"exampleIndex":47},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.155 karate.env system property was: null \n"},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363101,"millis":0.363101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458900,"millis":0.4589,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":283000,"millis":0.283,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":77201,"millis":0.077201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":560794224,"millis":560.794224,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1258699,"millis":1.258699,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":894200,"millis":0.8942,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":714299,"millis":0.714299,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":836800,"millis":0.8368,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":971900,"millis":0.9719,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":844599,"millis":0.844599,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":625100,"millis":0.6251,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":781600,"millis":0.7816,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":637099,"millis":0.637099,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":228100,"millis":0.2281,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.727 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":804100,"millis":0.8041,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":171000,"millis":0.171,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.728 [print] #notpresent \n"},{"result":{"nanos":1356399,"millis":1.356399,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.729 [print] #notpresent \n"},{"result":{"nanos":271600,"millis":0.2716,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147800,"millis":0.1478,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.730 [print] #notpresent \n"},{"result":{"nanos":1051999,"millis":1.051999,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139100,"millis":0.1391,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.731 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.732 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1072700,"millis":1.0727,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":683199,"millis":0.683199,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":76500,"millis":0.0765,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.734 [print] #notpresent \n"},{"result":{"nanos":928400,"millis":0.9284,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":159700,"millis":0.1597,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":116000,"millis":0.116,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.735 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":831599,"millis":0.831599,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.736 [print] true \n"},{"result":{"nanos":650100,"millis":0.6501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":912800,"millis":0.9128,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2579998,"millis":2.579998,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":582.734616,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"92826f1e-040d-4099-b9e1-cab6bfc520af","startTime":1647665729155,"refId":"[1.49:82]","endTime":1647665729740,"exampleData":{"datasetIdentifierCode":"92826f1e-040d-4099-b9e1-cab6bfc520af"},"exampleIndex":48},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.289 karate.env system property was: null \n"},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402100,"millis":0.4021,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2591702,"millis":2.591702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":602300,"millis":0.6023,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558633564,"millis":558.633564,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933399,"millis":0.933399,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":818400,"millis":0.8184,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":725299,"millis":0.725299,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":706100,"millis":0.7061,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":754700,"millis":0.7547,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":809699,"millis":0.809699,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":892700,"millis":0.8927,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":654000,"millis":0.654,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":686499,"millis":0.686499,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100100,"millis":0.1001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1030500,"millis":1.0305,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:29.861 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":932600,"millis":0.9326,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":206999,"millis":0.206999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:29.863 [print] #notpresent \n"},{"result":{"nanos":858600,"millis":0.8586,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":123900,"millis":0.1239,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:29.864 [print] #notpresent \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:29.864 [print] #notpresent \n"},{"result":{"nanos":820100,"millis":0.8201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135300,"millis":0.1353,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:29.865 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:29.865 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":957199,"millis":0.957199,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":777100,"millis":0.7771,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:29.867 [print] #notpresent \n"},{"result":{"nanos":814799,"millis":0.814799,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:29.868 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":953200,"millis":0.9532,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:29.869 [print] true \n"},{"result":{"nanos":450400,"millis":0.4504,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":549599,"millis":0.549599,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":453900,"millis":0.4539,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":579.594759,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97312a37-4ebf-4526-94e6-b29e90c2944a","startTime":1647665729289,"refId":"[1.50:82]","endTime":1647665729871,"exampleData":{"datasetIdentifierCode":"97312a37-4ebf-4526-94e6-b29e90c2944a"},"exampleIndex":49},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.493 karate.env system property was: null \n"},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":448600,"millis":0.4486,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376999,"millis":0.376999,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":99100,"millis":0.0991,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":247700,"millis":0.2477,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549874463,"millis":549.874463,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":995799,"millis":0.995799,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":861700,"millis":0.8617,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1040599,"millis":1.040599,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1027500,"millis":1.0275,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":863000,"millis":0.863,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1021899,"millis":1.021899,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":640100,"millis":0.6401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":811499,"millis":0.811499,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710000,"millis":0.71,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.053 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":731700,"millis":0.7317,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.054 [print] #notpresent \n"},{"result":{"nanos":676199,"millis":0.676199,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.055 [print] #notpresent \n"},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.055 [print] #notpresent \n"},{"result":{"nanos":823400,"millis":0.8234,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.056 [print] KNMI \n"},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.056 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":797999,"millis":0.797999,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1600600,"millis":1.6006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.059 [print] #notpresent \n"},{"result":{"nanos":890099,"millis":0.890099,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.060 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1065100,"millis":1.0651,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.061 [print] true \n"},{"result":{"nanos":534299,"millis":0.534299,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":572400,"millis":0.5724,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":478500,"millis":0.4785,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.001554,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c6308500-3439-4840-88cb-7532cabbfcb4","startTime":1647665729492,"refId":"[1.51:82]","endTime":1647665730063,"exampleData":{"datasetIdentifierCode":"c6308500-3439-4840-88cb-7532cabbfcb4"},"exampleIndex":50},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.535 karate.env system property was: null \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320299,"millis":0.320299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423300,"millis":0.4233,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":210900,"millis":0.2109,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555812860,"millis":555.81286,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":828100,"millis":0.8281,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":912599,"millis":0.912599,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":833500,"millis":0.8335,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":868099,"millis":0.868099,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":973800,"millis":0.9738,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1787099,"millis":1.787099,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":699400,"millis":0.6994,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":845599,"millis":0.845599,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":721800,"millis":0.7218,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.102 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n"},{"result":{"nanos":682200,"millis":0.6822,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74900,"millis":0.0749,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.103 [print] OGC:WFS \n"},{"result":{"nanos":874899,"millis":0.874899,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.104 [print] #notpresent \n"},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.104 [print] OGC:WFS \n"},{"result":{"nanos":847700,"millis":0.8477,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93200,"millis":0.0932,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.105 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":99600,"millis":0.0996,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.105 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":805699,"millis":0.805699,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":932400,"millis":0.9324,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.107 [print] #notpresent \n"},{"result":{"nanos":828500,"millis":0.8285,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":88099,"millis":0.088099,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.108 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"conformant\" \n"},{"result":{"nanos":783000,"millis":0.783,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.109 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":2296599,"millis":2.296599,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":689900,"millis":0.6899,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":475200,"millis":0.4752,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.205851,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"702060c1-b3fd-44ec-8cc6-d4249d150110","startTime":1647665729534,"refId":"[1.52:82]","endTime":1647665730113,"exampleData":{"datasetIdentifierCode":"702060c1-b3fd-44ec-8cc6-d4249d150110"},"exampleIndex":51},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.743 karate.env system property was: null \n"},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103600,"millis":0.1036,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":400699,"millis":0.400699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425900,"millis":0.4259,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542533166,"millis":542.533166,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1567299,"millis":1.567299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":877000,"millis":0.877,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":621300,"millis":0.6213,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":834699,"millis":0.834699,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":882600,"millis":0.8826,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":660000,"millis":0.66,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":661699,"millis":0.661699,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":598700,"millis":0.5987,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":641100,"millis":0.6411,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":486900,"millis":0.4869,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":591199,"millis":0.591199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.298 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n"},{"result":{"nanos":745500,"millis":0.7455,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":461800,"millis":0.4618,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.299 [print] OGC:WCS \n"},{"result":{"nanos":702100,"millis":0.7021,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":532499,"millis":0.532499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.301 [print] #notpresent \n"},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":533700,"millis":0.5337,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.301 [print] OGC:WCS \n"},{"result":{"nanos":689500,"millis":0.6895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":499200,"millis":0.4992,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.303 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":493899,"millis":0.493899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.303 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":907000,"millis":0.907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":942599,"millis":0.942599,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":689000,"millis":0.689,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.306 [print] #notpresent \n"},{"result":{"nanos":844200,"millis":0.8442,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":694299,"millis":0.694299,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.307 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services 2.0\";\"Webservice is conform\" \n"},{"result":{"nanos":929700,"millis":0.9297,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":612800,"millis":0.6128,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.309 [print] \"true\";\"true\" \n"},{"result":{"nanos":668799,"millis":0.668799,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":742400,"millis":0.7424,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":486100,"millis":0.4861,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.828056,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","startTime":1647665729742,"refId":"[1.53:82]","endTime":1647665730311,"exampleData":{"datasetIdentifierCode":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0"},"exampleIndex":52},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:29.873 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63499,"millis":0.063499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":392700,"millis":0.3927,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426600,"millis":0.4266,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535619669,"millis":535.619669,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1118199,"millis":1.118199,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":795300,"millis":0.7953,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":788599,"millis":0.788599,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1072400,"millis":1.0724,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":833000,"millis":0.833,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":894999,"millis":0.894999,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":763800,"millis":0.7638,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":800399,"millis":0.800399,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":718500,"millis":0.7185,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153200,"millis":0.1532,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.419 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n"},{"result":{"nanos":818100,"millis":0.8181,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140600,"millis":0.1406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.420 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":806199,"millis":0.806199,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.421 [print] #notpresent \n"},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.422 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1023600,"millis":1.0236,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108800,"millis":0.1088,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.423 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.423 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":1018699,"millis":1.018699,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1175900,"millis":1.1759,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.425 [print] #notpresent \n"},{"result":{"nanos":1713399,"millis":1.713399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":115200,"millis":0.1152,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":727499,"millis":0.727499,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.428 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services 3.1\";\"conformant\" \n"},{"result":{"nanos":1024600,"millis":1.0246,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":417200,"millis":0.4172,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.429 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":550599,"millis":0.550599,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":497700,"millis":0.4977,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":418900,"millis":0.4189,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.116959,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","startTime":1647665729873,"refId":"[1.54:82]","endTime":1647665730431,"exampleData":{"datasetIdentifierCode":"c99b1291-c51f-49c8-902d-5bd4148cbbde"},"exampleIndex":53},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.066 karate.env system property was: null \n"},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65400,"millis":0.0654,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374499,"millis":0.374499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500400,"millis":0.5004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86400,"millis":0.0864,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540354167,"millis":540.354167,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":864099,"millis":0.864099,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":800900,"millis":0.8009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":850100,"millis":0.8501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":839899,"millis":0.839899,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":907900,"millis":0.9079,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":953499,"millis":0.953499,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":846800,"millis":0.8468,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":682000,"millis":0.682,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636399,"millis":0.636399,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":332000,"millis":0.332,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.616 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":798400,"millis":0.7984,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":177600,"millis":0.1776,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.617 [print] OGC:WMS \n"},{"result":{"nanos":866599,"millis":0.866599,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.618 [print] #notpresent \n"},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.618 [print] OGC:WMS \n"},{"result":{"nanos":781800,"millis":0.7818,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118200,"millis":0.1182,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.619 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.619 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":889699,"millis":0.889699,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":820400,"millis":0.8204,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.621 [print] #notpresent \n"},{"result":{"nanos":935999,"millis":0.935999,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.622 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":885300,"millis":0.8853,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.623 [print] \"true\";\"true\" \n"},{"result":{"nanos":501900,"millis":0.5019,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":585799,"millis":0.585799,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424000,"millis":0.424,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.301258,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"060d1139-c371-4c1e-9890-55999adfa4f9","startTime":1647665730065,"refId":"[1.55:82]","endTime":1647665730625,"exampleData":{"datasetIdentifierCode":"060d1139-c371-4c1e-9890-55999adfa4f9"},"exampleIndex":54},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.116 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":479200,"millis":0.4792,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417700,"millis":0.4177,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69199,"millis":0.069199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f3e68b05-f5c8-4796-bc67-33a3db1c1d65'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545912265,"millis":545.912265,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":841999,"millis":0.841999,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f3e68b05-f5c8-4796-bc67-33a3db1c1d65'"}},{"result":{"nanos":737900,"millis":0.7379,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":781900,"millis":0.7819,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":805999,"millis":0.805999,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":923600,"millis":0.9236,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":997799,"millis":0.997799,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":739600,"millis":0.7396,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":698100,"millis":0.6981,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":777299,"millis":0.777299,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":313800,"millis":0.3138,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":247600,"millis":0.2476,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.672 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":700400,"millis":0.7004,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":230500,"millis":0.2305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.673 [print] OGC:WFS \n"},{"result":{"nanos":669599,"millis":0.669599,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":216300,"millis":0.2163,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.674 [print] #notpresent \n"},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":224900,"millis":0.2249,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.674 [print] OGC:WFS \n"},{"result":{"nanos":727000,"millis":0.727,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":218200,"millis":0.2182,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.675 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":173700,"millis":0.1737,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.675 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":756299,"millis":0.756299,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":791300,"millis":0.7913,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":278200,"millis":0.2782,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.677 [print] #notpresent \n"},{"result":{"nanos":789300,"millis":0.7893,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":77699,"millis":0.077699,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":186100,"millis":0.1861,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.678 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":737300,"millis":0.7373,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":173900,"millis":0.1739,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.679 [print] \"true\";\"true\" \n"},{"result":{"nanos":272400,"millis":0.2724,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f3e68b05-f5c8-4796-bc67-33a3db1c1d65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":410400,"millis":0.4104,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f3e68b05-f5c8-4796-bc67-33a3db1c1d65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402699,"millis":0.402699,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f3e68b05-f5c8-4796-bc67-33a3db1c1d65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.454256,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f3e68b05-f5c8-4796-bc67-33a3db1c1d65","startTime":1647665730115,"refId":"[1.56:82]","endTime":1647665730680,"exampleData":{"datasetIdentifierCode":"f3e68b05-f5c8-4796-bc67-33a3db1c1d65"},"exampleIndex":55},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.315 karate.env system property was: null \n"},{"result":{"nanos":76600,"millis":0.0766,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":394300,"millis":0.3943,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2676299,"millis":2.676299,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":628500,"millis":0.6285,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552665461,"millis":552.665461,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1130400,"millis":1.1304,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":793600,"millis":0.7936,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":747699,"millis":0.747699,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":26929489,"millis":26.929489,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1290499,"millis":1.290499,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":851000,"millis":0.851,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":125100,"millis":0.1251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":832299,"millis":0.832299,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":796200,"millis":0.7962,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":757400,"millis":0.7574,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":689499,"millis":0.689499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":559200,"millis":0.5592,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.908 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":985600,"millis":0.9856,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":596199,"millis":0.596199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.910 [print] #notpresent \n"},{"result":{"nanos":1032900,"millis":1.0329,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":500000,"millis":0.5,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.912 [print] #notpresent \n"},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":422500,"millis":0.4225,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.912 [print] #notpresent \n"},{"result":{"nanos":757700,"millis":0.7577,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":511000,"millis":0.511,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.914 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":642299,"millis":0.642299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.914 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":736900,"millis":0.7369,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":731600,"millis":0.7316,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":143100,"millis":0.1431,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":417599,"millis":0.417599,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.916 [print] #notpresent \n"},{"result":{"nanos":743500,"millis":0.7435,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":197400,"millis":0.1974,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":604000,"millis":0.604,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.918 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":818199,"millis":0.818199,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":498000,"millis":0.498,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.919 [print] true \n"},{"result":{"nanos":387600,"millis":0.3876,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":521200,"millis":0.5212,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":494700,"millis":0.4947,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":604.483441,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"914a6e0c-2aae-42f8-8425-2a047c245dab","startTime":1647665730314,"refId":"[1.57:82]","endTime":1647665730921,"exampleData":{"datasetIdentifierCode":"914a6e0c-2aae-42f8-8425-2a047c245dab"},"exampleIndex":56},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.433 karate.env system property was: null \n"},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":433199,"millis":0.433199,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":509400,"millis":0.5094,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":236300,"millis":0.2363,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538445667,"millis":538.445667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":978500,"millis":0.9785,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":710500,"millis":0.7105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":738099,"millis":0.738099,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":707600,"millis":0.7076,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":947200,"millis":0.9472,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":822399,"millis":0.822399,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1013100,"millis":1.0131,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":867999,"millis":0.867999,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":949000,"millis":0.949,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":493300,"millis":0.4933,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":586299,"millis":0.586299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:30.983 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":750800,"millis":0.7508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":210100,"millis":0.2101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:30.985 [print] #notpresent \n"},{"result":{"nanos":1016700,"millis":1.0167,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":207000,"millis":0.207,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:30.986 [print] #notpresent \n"},{"result":{"nanos":346700,"millis":0.3467,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131400,"millis":0.1314,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:30.986 [print] #notpresent \n"},{"result":{"nanos":1041600,"millis":1.0416,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158300,"millis":0.1583,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:30.988 [print] KNMI \n"},{"result":{"nanos":493900,"millis":0.4939,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:30.988 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1039699,"millis":1.039699,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":795600,"millis":0.7956,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":169600,"millis":0.1696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":190600,"millis":0.1906,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:30.990 [print] #notpresent \n"},{"result":{"nanos":998599,"millis":0.998599,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":206700,"millis":0.2067,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":530300,"millis":0.5303,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:30.992 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":833499,"millis":0.833499,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":147200,"millis":0.1472,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":196600,"millis":0.1966,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:30.993 [print] true \n"},{"result":{"nanos":304200,"millis":0.3042,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":436100,"millis":0.4361,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":432600,"millis":0.4326,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.724959,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7d533012-21ad-4a5b-a97e-a76988270273","startTime":1647665730433,"refId":"[1.58:82]","endTime":1647665730995,"exampleData":{"datasetIdentifierCode":"7d533012-21ad-4a5b-a97e-a76988270273"},"exampleIndex":57},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.627 karate.env system property was: null \n"},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":447500,"millis":0.4475,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519900,"millis":0.5199,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115899,"millis":0.115899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92700,"millis":0.0927,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547198164,"millis":547.198164,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1234499,"millis":1.234499,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":807200,"millis":0.8072,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":766200,"millis":0.7662,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":766799,"millis":0.766799,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1071700,"millis":1.0717,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1156799,"millis":1.156799,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110100,"millis":0.1101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":944900,"millis":0.9449,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":825400,"millis":0.8254,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":777599,"millis":0.777599,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":179300,"millis":0.1793,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":722600,"millis":0.7226,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.186 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":936199,"millis":0.936199,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":179500,"millis":0.1795,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.188 [print] #notpresent \n"},{"result":{"nanos":802000,"millis":0.802,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147300,"millis":0.1473,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.189 [print] #notpresent \n"},{"result":{"nanos":98700,"millis":0.0987,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":222300,"millis":0.2223,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.189 [print] #notpresent \n"},{"result":{"nanos":766699,"millis":0.766699,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178200,"millis":0.1782,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.190 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":193000,"millis":0.193,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.190 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":759400,"millis":0.7594,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":776200,"millis":0.7762,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":312399,"millis":0.312399,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":211100,"millis":0.2111,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.192 [print] #notpresent \n"},{"result":{"nanos":2123599,"millis":2.123599,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":289200,"millis":0.2892,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":815100,"millis":0.8151,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.195 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":912200,"millis":0.9122,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":134399,"millis":0.134399,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":571700,"millis":0.5717,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.197 [print] true \n"},{"result":{"nanos":328500,"millis":0.3285,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":529900,"millis":0.5299,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":405600,"millis":0.4056,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.831354,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c1fb5983-5642-4334-962a-a341cef8c8ff","startTime":1647665730627,"refId":"[1.59:82]","endTime":1647665731198,"exampleData":{"datasetIdentifierCode":"c1fb5983-5642-4334-962a-a341cef8c8ff"},"exampleIndex":58},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.682 karate.env system property was: null \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63399,"millis":0.063399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286100,"millis":0.2861,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371600,"millis":0.3716,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60400,"millis":0.0604,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547877163,"millis":547.877163,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":965900,"millis":0.9659,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":891300,"millis":0.8913,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":764399,"millis":0.764399,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":668800,"millis":0.6688,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1002799,"millis":1.002799,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":830900,"millis":0.8309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":133900,"millis":0.1339,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":696800,"millis":0.6968,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":849299,"millis":0.849299,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":775800,"millis":0.7758,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":446900,"millis":0.4469,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":454000,"millis":0.454,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.240 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":715599,"millis":0.715599,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":522600,"millis":0.5226,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.242 [print] #notpresent \n"},{"result":{"nanos":851900,"millis":0.8519,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":617099,"millis":0.617099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.243 [print] OGC:WFS \n"},{"result":{"nanos":124700,"millis":0.1247,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":448600,"millis":0.4486,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.244 [print] #notpresent \n"},{"result":{"nanos":869000,"millis":0.869,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":458500,"millis":0.4585,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.245 [print] RIVM \n"},{"result":{"nanos":477899,"millis":0.477899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.246 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":880700,"millis":0.8807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":717700,"millis":0.7177,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":154900,"millis":0.1549,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":442399,"millis":0.442399,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.248 [print] #notpresent \n"},{"result":{"nanos":767100,"millis":0.7671,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":163800,"millis":0.1638,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":751300,"millis":0.7513,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.249 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":778399,"millis":0.778399,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":172600,"millis":0.1726,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":569800,"millis":0.5698,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.251 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":300800,"millis":0.3008,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":562900,"millis":0.5629,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":539399,"millis":0.539399,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.467853,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","startTime":1647665730682,"refId":"[1.60:82]","endTime":1647665731253,"exampleData":{"datasetIdentifierCode":"ff8f6da2-949e-4838-90f6-fd895a4a240f"},"exampleIndex":59},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.924 karate.env system property was: null \n"},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":181900,"millis":0.1819,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":447000,"millis":0.447,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":201400,"millis":0.2014,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468899,"millis":0.468899,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":963300,"millis":0.9633,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554913160,"millis":554.91316,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1060900,"millis":1.0609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":700999,"millis":0.700999,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":960500,"millis":0.9605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":803600,"millis":0.8036,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":876599,"millis":0.876599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":786300,"millis":0.7863,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":595000,"millis":0.595,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":703799,"millis":0.703799,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":632800,"millis":0.6328,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":289000,"millis":0.289,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":575899,"millis":0.575899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.491 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":631200,"millis":0.6312,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87200,"millis":0.0872,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.492 [print] #notpresent \n"},{"result":{"nanos":748300,"millis":0.7483,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.493 [print] OGC:WMS \n"},{"result":{"nanos":508499,"millis":0.508499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":514400,"millis":0.5144,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.494 [print] #notpresent \n"},{"result":{"nanos":999300,"millis":0.9993,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150000,"millis":0.15,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.495 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":512799,"millis":0.512799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.495 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":728000,"millis":0.728,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":874400,"millis":0.8744,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.497 [print] #notpresent \n"},{"result":{"nanos":1057799,"millis":1.057799,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":381800,"millis":0.3818,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.499 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":726900,"millis":0.7269,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.500 [print] \"true\";\"false\" \n"},{"result":{"nanos":465399,"millis":0.465399,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":568200,"millis":0.5682,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437100,"millis":0.4371,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.795351,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","startTime":1647665730923,"refId":"[1.61:82]","endTime":1647665731501,"exampleData":{"datasetIdentifierCode":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6"},"exampleIndex":60},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:30.999 karate.env system property was: null \n"},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":156799,"millis":0.156799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":188600,"millis":0.1886,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":543400,"millis":0.5434,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148500,"millis":0.1485,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":499600,"millis":0.4996,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":141400,"millis":0.1414,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":424900,"millis":0.4249,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":111000,"millis":0.111,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44599,"millis":0.044599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":665478013,"millis":665.478013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":974500,"millis":0.9745,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":774899,"millis":0.774899,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":841900,"millis":0.8419,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":801900,"millis":0.8019,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":790999,"millis":0.790999,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":708600,"millis":0.7086,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":692300,"millis":0.6923,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":692699,"millis":0.692699,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":670900,"millis":0.6709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":731600,"millis":0.7316,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.676 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n"},{"result":{"nanos":870899,"millis":0.870899,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":468200,"millis":0.4682,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.677 [print] #notpresent \n"},{"result":{"nanos":814600,"millis":0.8146,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":578999,"millis":0.578999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.679 [print] OGC:WFS \n"},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":646100,"millis":0.6461,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.679 [print] #notpresent \n"},{"result":{"nanos":787800,"millis":0.7878,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":462499,"millis":0.462499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.681 [print] RIVM \n"},{"result":{"nanos":533900,"millis":0.5339,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.681 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":711900,"millis":0.7119,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1466599,"millis":1.466599,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":113100,"millis":0.1131,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":657200,"millis":0.6572,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.684 [print] #notpresent \n"},{"result":{"nanos":753400,"millis":0.7534,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":732599,"millis":0.732599,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.686 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":937500,"millis":0.9375,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":463100,"millis":0.4631,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.687 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":680499,"millis":0.680499,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":456900,"millis":0.4569,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377200,"millis":0.3772,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":688.587102,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","startTime":1647665730997,"refId":"[1.62:82]","endTime":1647665731689,"exampleData":{"datasetIdentifierCode":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545"},"exampleIndex":61},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.202 karate.env system property was: null \n"},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144300,"millis":0.1443,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":190500,"millis":0.1905,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":448700,"millis":0.4487,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":145800,"millis":0.1458,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474299,"millis":0.474299,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122700,"millis":0.1227,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":375800,"millis":0.3758,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549989962,"millis":549.989962,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":932500,"millis":0.9325,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":774600,"millis":0.7746,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1063499,"millis":1.063499,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":748400,"millis":0.7484,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":873800,"millis":0.8738,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1532099,"millis":1.532099,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718700,"millis":0.7187,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":862299,"millis":0.862299,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":971000,"millis":0.971,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100900,"millis":0.1009,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":666699,"millis":0.666699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.764 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":651300,"millis":0.6513,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":400700,"millis":0.4007,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.765 [print] OGC:WFS \n"},{"result":{"nanos":715800,"millis":0.7158,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":346999,"millis":0.346999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.766 [print] #notpresent \n"},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.767 [print] OGC:WFS \n"},{"result":{"nanos":1505900,"millis":1.5059,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.768 [print] Beheer PDOK \n"},{"result":{"nanos":258100,"millis":0.2581,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.769 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":1026399,"millis":1.026399,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":762400,"millis":0.7624,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":198900,"millis":0.1989,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.771 [print] #notpresent \n"},{"result":{"nanos":794899,"millis":0.794899,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75200,"millis":0.0752,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.772 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":854600,"millis":0.8546,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":97300,"millis":0.0973,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.773 [print] \"true\";\"true\" \n"},{"result":{"nanos":447200,"millis":0.4472,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":491699,"millis":0.491699,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433900,"millis":0.4339,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.219453,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"6b608d4e-5628-4d59-97fc-0322c57357b2","startTime":1647665731201,"refId":"[1.63:82]","endTime":1647665731774,"exampleData":{"datasetIdentifierCode":"6b608d4e-5628-4d59-97fc-0322c57357b2"},"exampleIndex":62},{"sectionIndex":0,"stepResults":[{"result":{"nanos":124500,"millis":0.1245,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.255 karate.env system property was: null \n"},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181800,"millis":0.1818,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":218100,"millis":0.2181,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":448500,"millis":0.4485,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148900,"millis":0.1489,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":471800,"millis":0.4718,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":256700,"millis":0.2567,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":97500,"millis":0.0975,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549525463,"millis":549.525463,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":939799,"millis":0.939799,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":716700,"millis":0.7167,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":861400,"millis":0.8614,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":718499,"millis":0.718499,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":735400,"millis":0.7354,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":733400,"millis":0.7334,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":646299,"millis":0.646299,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":633600,"millis":0.6336,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":719700,"millis":0.7197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138700,"millis":0.1387,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:31.815 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1018399,"millis":1.018399,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140200,"millis":0.1402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:31.816 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1100400,"millis":1.1004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100299,"millis":0.100299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:31.817 [print] #notpresent \n"},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":492000,"millis":0.492,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:31.818 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1339300,"millis":1.3393,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:31.819 [print] Beheer PDOK \n"},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:31.819 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":1261799,"millis":1.261799,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":841700,"millis":0.8417,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":115900,"millis":0.1159,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:31.822 [print] #notpresent \n"},{"result":{"nanos":981799,"millis":0.981799,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:31.823 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1114100,"millis":1.1141,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":102699,"millis":0.102699,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:31.824 [print] \"true\";\"true\" \n"},{"result":{"nanos":537900,"millis":0.5379,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":405600,"millis":0.4056,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":845900,"millis":0.8459,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.740655,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d467c2cc-4026-b80a-d4e1a9d2bf79","startTime":1647665731255,"refId":"[1.64:82]","endTime":1647665731826,"exampleData":{"datasetIdentifierCode":"d467c2cc-4026-b80a-d4e1a9d2bf79"},"exampleIndex":63},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.504 karate.env system property was: null \n"},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":444699,"millis":0.444699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438600,"millis":0.4386,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":140200,"millis":0.1402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534986269,"millis":534.986269,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":973200,"millis":0.9732,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":785799,"millis":0.785799,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":746500,"millis":0.7465,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":770300,"millis":0.7703,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":752599,"millis":0.752599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":834000,"millis":0.834,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":810399,"millis":0.810399,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":646700,"millis":0.6467,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":712100,"millis":0.7121,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":289200,"millis":0.2892,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":288700,"millis":0.2887,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.049 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":675699,"millis":0.675699,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173300,"millis":0.1733,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.050 [print] OGC:WMS \n"},{"result":{"nanos":858100,"millis":0.8581,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193800,"millis":0.1938,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.051 [print] #notpresent \n"},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":240200,"millis":0.2402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.051 [print] OGC:WMS \n"},{"result":{"nanos":2312799,"millis":2.312799,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137499,"millis":0.137499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.053 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.054 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":795500,"millis":0.7955,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":721200,"millis":0.7212,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":76300,"millis":0.0763,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.055 [print] #notpresent \n"},{"result":{"nanos":1524899,"millis":1.524899,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1616999,"millis":1.616999,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.059 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":1499400,"millis":1.4994,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":120199,"millis":0.120199,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.060 [print] \"true\";\"true\" \n"},{"result":{"nanos":428300,"millis":0.4283,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":521800,"millis":0.5218,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417800,"millis":0.4178,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.919359,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"87a382da-c6dc-403c-a006-2379eb6daaa6","startTime":1647665731503,"refId":"[1.65:82]","endTime":1647665732062,"exampleData":{"datasetIdentifierCode":"87a382da-c6dc-403c-a006-2379eb6daaa6"},"exampleIndex":64},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.692 karate.env system property was: null \n"},{"result":{"nanos":38799,"millis":0.038799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":391000,"millis":0.391,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416300,"millis":0.4163,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":408000,"millis":0.408,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547474263,"millis":547.474263,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2184399,"millis":2.184399,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":800700,"millis":0.8007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":685400,"millis":0.6854,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760799,"millis":0.760799,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":919700,"millis":0.9197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":747000,"millis":0.747,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":589799,"millis":0.589799,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":577500,"millis":0.5775,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":588000,"millis":0.588,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85500,"millis":0.0855,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":313900,"millis":0.3139,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.250 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":769799,"millis":0.769799,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126100,"millis":0.1261,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.251 [print] #notpresent \n"},{"result":{"nanos":647100,"millis":0.6471,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.252 [print] OGC:WFS \n"},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.252 [print] #notpresent \n"},{"result":{"nanos":868799,"millis":0.868799,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115500,"millis":0.1155,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.253 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":113200,"millis":0.1132,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.253 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":722200,"millis":0.7222,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":787100,"millis":0.7871,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":129800,"millis":0.1298,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.259 [print] #notpresent \n"},{"result":{"nanos":751199,"millis":0.751199,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":150500,"millis":0.1505,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.260 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":783500,"millis":0.7835,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.261 [print] \"true\";\"true\" \n"},{"result":{"nanos":510000,"millis":0.51,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":726799,"millis":0.726799,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":493500,"millis":0.4935,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.649255,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5471a93b-cf18-43f5-9ddb-71987857435d","startTime":1647665731691,"refId":"[1.66:82]","endTime":1647665732263,"exampleData":{"datasetIdentifierCode":"5471a93b-cf18-43f5-9ddb-71987857435d"},"exampleIndex":65},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.777 karate.env system property was: null \n"},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":358499,"millis":0.358499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376000,"millis":0.376,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111200,"millis":0.1112,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546077164,"millis":546.077164,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":845000,"millis":0.845,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":626199,"millis":0.626199,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":620500,"millis":0.6205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":732100,"millis":0.7321,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":835699,"millis":0.835699,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":724900,"millis":0.7249,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747900,"millis":0.7479,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":626600,"millis":0.6266,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":618599,"millis":0.618599,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":886800,"millis":0.8868,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":493900,"millis":0.4939,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.333 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":699499,"millis":0.699499,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":414400,"millis":0.4144,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.334 [print] OGC:WMS \n"},{"result":{"nanos":619300,"millis":0.6193,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":386200,"millis":0.3862,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.335 [print] #notpresent \n"},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":386000,"millis":0.386,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.336 [print] OGC:WMS \n"},{"result":{"nanos":705399,"millis":0.705399,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":421900,"millis":0.4219,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.337 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":481900,"millis":0.4819,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.338 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":952799,"millis":0.952799,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":864000,"millis":0.864,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":388000,"millis":0.388,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.340 [print] #notpresent \n"},{"result":{"nanos":769399,"millis":0.769399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":482800,"millis":0.4828,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.341 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":724500,"millis":0.7245,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":389300,"millis":0.3893,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.342 [print] \"true\";\"true\" \n"},{"result":{"nanos":599899,"millis":0.599899,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":483300,"millis":0.4833,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389600,"millis":0.3896,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.645855,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","startTime":1647665731777,"refId":"[1.67:82]","endTime":1647665732344,"exampleData":{"datasetIdentifierCode":"2d1860f2-f8ba-457e-bd64-93cdabd69aee"},"exampleIndex":66},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:31.828 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56799,"millis":0.056799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":339100,"millis":0.3391,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110600,"millis":0.1106,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":514200,"millis":0.5142,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":227300,"millis":0.2273,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539753567,"millis":539.753567,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":832299,"millis":0.832299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":830100,"millis":0.8301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":853100,"millis":0.8531,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":977399,"millis":0.977399,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":813300,"millis":0.8133,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":761899,"millis":0.761899,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":640900,"millis":0.6409,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":817500,"millis":0.8175,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":751299,"millis":0.751299,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":505300,"millis":0.5053,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.378 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n"},{"result":{"nanos":820000,"millis":0.82,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":430100,"millis":0.4301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.380 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":782599,"millis":0.782599,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":440900,"millis":0.4409,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.381 [print] #notpresent \n"},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":426000,"millis":0.426,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.381 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":839399,"millis":0.839399,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":387800,"millis":0.3878,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.383 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":753700,"millis":0.7537,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.383 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":929000,"millis":0.929,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":888499,"millis":0.888499,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":473100,"millis":0.4731,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.386 [print] #notpresent \n"},{"result":{"nanos":1176999,"millis":1.176999,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":612400,"millis":0.6124,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.388 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"conformant\" \n"},{"result":{"nanos":877000,"millis":0.877,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":410400,"millis":0.4104,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.389 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":387899,"millis":0.387899,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":599200,"millis":0.5992,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":561100,"millis":0.5611,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.376757,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","startTime":1647665731828,"refId":"[1.68:82]","endTime":1647665732391,"exampleData":{"datasetIdentifierCode":"ebd6ea46-ee7b-432f-83c4-058c889a790d"},"exampleIndex":67},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.064 karate.env system property was: null \n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373699,"millis":0.373699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416400,"millis":0.4164,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542348366,"millis":542.348366,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1270100,"millis":1.2701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":761799,"millis":0.761799,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":924100,"millis":0.9241,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":926099,"millis":0.926099,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1728200,"millis":1.7282,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1022599,"millis":1.022599,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":799700,"millis":0.7997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":894699,"millis":0.894699,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1018500,"millis":1.0185,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":327800,"millis":0.3278,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":271400,"millis":0.2714,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.623 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1188799,"millis":1.188799,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.624 [print] OGC:WMS \n"},{"result":{"nanos":844200,"millis":0.8442,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.625 [print] #notpresent \n"},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203800,"millis":0.2038,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.625 [print] OGC:WMS \n"},{"result":{"nanos":1185299,"millis":1.185299,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.626 [print] Beheer PDOK \n"},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.627 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":1250899,"millis":1.250899,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":864200,"millis":0.8642,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":130900,"millis":0.1309,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.629 [print] #notpresent \n"},{"result":{"nanos":1249099,"millis":1.249099,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":128100,"millis":0.1281,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.630 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1369400,"millis":1.3694,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":109000,"millis":0.109,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.632 [print] \"true\";\"true\" \n"},{"result":{"nanos":1510199,"millis":1.510199,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":4364498,"millis":4.364498,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424400,"millis":0.4244,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.315754,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3d01c1ca-973c-4652-baa5-39458bb9e181","startTime":1647665732064,"refId":"[1.69:82]","endTime":1647665732638,"exampleData":{"datasetIdentifierCode":"3d01c1ca-973c-4652-baa5-39458bb9e181"},"exampleIndex":68},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.265 karate.env system property was: null \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":445500,"millis":0.4455,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405900,"millis":0.4059,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65299,"millis":0.065299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536503269,"millis":536.503269,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1148299,"millis":1.148299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":786200,"millis":0.7862,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":842899,"millis":0.842899,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":677900,"millis":0.6779,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":995000,"millis":0.995,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1064799,"millis":1.064799,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":952300,"millis":0.9523,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":730599,"millis":0.730599,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":630800,"millis":0.6308,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128500,"millis":0.1285,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.812 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":997200,"millis":0.9972,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.813 [print] OGC:WFS \n"},{"result":{"nanos":763899,"millis":0.763899,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.814 [print] #notpresent \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":193000,"millis":0.193,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.814 [print] OGC:WFS \n"},{"result":{"nanos":918100,"millis":0.9181,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.815 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.815 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":1136399,"millis":1.136399,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":779400,"millis":0.7794,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.817 [print] #notpresent \n"},{"result":{"nanos":1081499,"millis":1.081499,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":84200,"millis":0.0842,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.818 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":2006699,"millis":2.006699,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.821 [print] \"true\";\"true\" \n"},{"result":{"nanos":693100,"millis":0.6931,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":593100,"millis":0.5931,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":457099,"millis":0.457099,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.562959,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","startTime":1647665732265,"refId":"[1.70:82]","endTime":1647665732822,"exampleData":{"datasetIdentifierCode":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394"},"exampleIndex":69},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.347 karate.env system property was: null \n"},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59799,"millis":0.059799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":430400,"millis":0.4304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453500,"millis":0.4535,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":557043659,"millis":557.043659,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":980500,"millis":0.9805,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":851600,"millis":0.8516,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3305598,"millis":3.305598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":916800,"millis":0.9168,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1017599,"millis":1.017599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":900000,"millis":0.9,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":763399,"millis":0.763399,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":937300,"millis":0.9373,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":762600,"millis":0.7626,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":310300,"millis":0.3103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121100,"millis":0.1211,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.917 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n"},{"result":{"nanos":1046599,"millis":1.046599,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128700,"millis":0.1287,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.918 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1020500,"millis":1.0205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.919 [print] #notpresent \n"},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231299,"millis":0.231299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.920 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1175300,"millis":1.1753,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178200,"millis":0.1782,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.921 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.921 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n"},{"result":{"nanos":1441799,"millis":1.441799,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":821400,"millis":0.8214,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":91900,"millis":0.0919,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.924 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1089399,"millis":1.089399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.925 [print] \"Nadere uitleg bij het al dan niet volledig voldoen aan de specificatie\";\"Nadere uitleg bij het al dan niet volledig voldoen aan de specificatie\" \n"},{"result":{"nanos":1074300,"millis":1.0743,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.926 [print] \"true\";\"true\" \n"},{"result":{"nanos":521399,"millis":0.521399,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":673200,"millis":0.6732,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3964798,"millis":3.964798,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":583.478847,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"49ff0584-a173-4098-824c-119edf8447f7","startTime":1647665732347,"refId":"[1.71:82]","endTime":1647665732931,"exampleData":{"datasetIdentifierCode":"49ff0584-a173-4098-824c-119edf8447f7"},"exampleIndex":70},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.393 karate.env system property was: null \n"},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69299,"millis":0.069299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407500,"millis":0.4075,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":930300,"millis":0.9303,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":355700,"millis":0.3557,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539162267,"millis":539.162267,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":729999,"millis":0.729999,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":797100,"millis":0.7971,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":804900,"millis":0.8049,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":817599,"millis":0.817599,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":839600,"millis":0.8396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":767500,"millis":0.7675,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":621999,"millis":0.621999,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1693700,"millis":1.6937,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":732299,"millis":0.732299,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74900,"millis":0.0749,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:32.943 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":747000,"millis":0.747,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:32.944 [print] #notpresent \n"},{"result":{"nanos":712300,"millis":0.7123,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135199,"millis":0.135199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:32.945 [print] #notpresent \n"},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:32.945 [print] #notpresent \n"},{"result":{"nanos":3594699,"millis":3.594699,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119500,"millis":0.1195,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:32.949 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":198600,"millis":0.1986,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:32.949 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":821799,"millis":0.821799,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":714200,"millis":0.7142,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:32.951 [print] #notpresent \n"},{"result":{"nanos":808000,"millis":0.808,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:32.952 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":754199,"millis":0.754199,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:32.953 [print] true \n"},{"result":{"nanos":265900,"millis":0.2659,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":389100,"millis":0.3891,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":425200,"millis":0.4252,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.744858,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"94ed09fe-1753-4861-8c62-d66251b7cde3","startTime":1647665732393,"refId":"[1.72:82]","endTime":1647665732954,"exampleData":{"datasetIdentifierCode":"94ed09fe-1753-4861-8c62-d66251b7cde3"},"exampleIndex":71},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.641 karate.env system property was: null \n"},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":508100,"millis":0.5081,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60099,"millis":0.060099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420300,"millis":0.4203,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":190200,"millis":0.1902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":570368354,"millis":570.368354,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1040499,"millis":1.040499,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":749800,"millis":0.7498,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797100,"millis":0.7971,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":715199,"millis":0.715199,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":851400,"millis":0.8514,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1029300,"millis":1.0293,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":125699,"millis":0.125699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":799300,"millis":0.7993,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":818200,"millis":0.8182,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":807699,"millis":0.807699,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97800,"millis":0.0978,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":661400,"millis":0.6614,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.222 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":739100,"millis":0.7391,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120400,"millis":0.1204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.222 [print] #notpresent \n"},{"result":{"nanos":832799,"millis":0.832799,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.223 [print] OGC:WFS \n"},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.224 [print] #notpresent \n"},{"result":{"nanos":664100,"millis":0.6641,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.224 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.224 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":662600,"millis":0.6626,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":762299,"millis":0.762299,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.226 [print] #notpresent \n"},{"result":{"nanos":657800,"millis":0.6578,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":603800,"millis":0.6038,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.227 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":1195899,"millis":1.195899,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.229 [print] \"true\";\"true\" \n"},{"result":{"nanos":679600,"millis":0.6796,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":465800,"millis":0.4658,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392100,"millis":0.3921,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":588.847046,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"542b330b-d3c6-4617-b97f-693e5cfd1872","startTime":1647665732640,"refId":"[1.73:82]","endTime":1647665733230,"exampleData":{"datasetIdentifierCode":"542b330b-d3c6-4617-b97f-693e5cfd1872"},"exampleIndex":72},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.825 karate.env system property was: null \n"},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":536500,"millis":0.5365,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425300,"millis":0.4253,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36399,"millis":0.036399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547984764,"millis":547.984764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":968899,"millis":0.968899,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":747000,"millis":0.747,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":898500,"millis":0.8985,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":778899,"millis":0.778899,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1023500,"millis":1.0235,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1032999,"millis":1.032999,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":823300,"millis":0.8233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":943400,"millis":0.9434,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698799,"millis":0.698799,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":120000,"millis":0.12,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.384 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1138800,"millis":1.1388,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.385 [print] #notpresent \n"},{"result":{"nanos":701699,"millis":0.701699,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139500,"millis":0.1395,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.386 [print] #notpresent \n"},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.386 [print] #notpresent \n"},{"result":{"nanos":1082200,"millis":1.0822,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.387 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.387 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":976999,"millis":0.976999,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":718900,"millis":0.7189,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":82700,"millis":0.0827,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.389 [print] #notpresent \n"},{"result":{"nanos":927899,"millis":0.927899,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":112100,"millis":0.1121,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.390 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":803200,"millis":0.8032,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97000,"millis":0.097,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.391 [print] true \n"},{"result":{"nanos":435600,"millis":0.4356,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":563699,"millis":0.563699,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378300,"millis":0.3783,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.505955,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"35546103-58eb-4f61-a858-a6fbc5a7e814","startTime":1647665732825,"refId":"[1.74:82]","endTime":1647665733393,"exampleData":{"datasetIdentifierCode":"35546103-58eb-4f61-a858-a6fbc5a7e814"},"exampleIndex":73},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.941 karate.env system property was: null \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":4115598,"millis":4.115598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115000,"millis":0.115,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":521400,"millis":0.5214,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":560399,"millis":0.560399,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556688560,"millis":556.68856,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":932300,"millis":0.9323,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":888999,"millis":0.888999,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":726900,"millis":0.7269,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":665300,"millis":0.6653,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":783599,"millis":0.783599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":852600,"millis":0.8526,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":835299,"millis":0.835299,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":984900,"millis":0.9849,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":646600,"millis":0.6466,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.512 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":946499,"millis":0.946499,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99900,"millis":0.0999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.513 [print] #notpresent \n"},{"result":{"nanos":797300,"millis":0.7973,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.514 [print] #notpresent \n"},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.514 [print] #notpresent \n"},{"result":{"nanos":28721487,"millis":28.721487,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":376200,"millis":0.3762,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.543 [print] KNMI \n"},{"result":{"nanos":170300,"millis":0.1703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.544 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1502899,"millis":1.502899,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":872700,"millis":0.8727,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":206300,"millis":0.2063,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":150100,"millis":0.1501,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.546 [print] #notpresent \n"},{"result":{"nanos":3133799,"millis":3.133799,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":199799,"millis":0.199799,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":181200,"millis":0.1812,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.550 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":890100,"millis":0.8901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":225300,"millis":0.2253,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.551 [print] true \n"},{"result":{"nanos":418600,"millis":0.4186,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":451599,"millis":0.451599,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346400,"millis":0.3464,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":610.069136,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","startTime":1647665732941,"refId":"[1.75:82]","endTime":1647665733552,"exampleData":{"datasetIdentifierCode":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e"},"exampleIndex":74},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:32.956 karate.env system property was: null \n"},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":297400,"millis":0.2974,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396799,"millis":0.396799,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109000,"millis":0.109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":584989248,"millis":584.989248,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":944599,"millis":0.944599,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":4428498,"millis":4.428498,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":704200,"millis":0.7042,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":684200,"millis":0.6842,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2705599,"millis":2.705599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":768699,"millis":0.768699,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94800,"millis":0.0948,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695000,"millis":0.695,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2890599,"millis":2.890599,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":982799,"millis":0.982799,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":609200,"millis":0.6092,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":987599,"millis":0.987599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.559 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":826700,"millis":0.8267,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":168800,"millis":0.1688,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.560 [print] #notpresent \n"},{"result":{"nanos":1208699,"millis":1.208699,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":276700,"millis":0.2767,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.561 [print] #notpresent \n"},{"result":{"nanos":438400,"millis":0.4384,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168300,"millis":0.1683,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.562 [print] #notpresent \n"},{"result":{"nanos":1044800,"millis":1.0448,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":251899,"millis":0.251899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.563 [print] KNMI \n"},{"result":{"nanos":855500,"millis":0.8555,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.564 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":732800,"millis":0.7328,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":864299,"millis":0.864299,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":152000,"millis":0.152,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":152900,"millis":0.1529,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.566 [print] #notpresent \n"},{"result":{"nanos":958700,"millis":0.9587,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":152100,"millis":0.1521,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.568 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1134099,"millis":1.134099,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":152200,"millis":0.1522,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.569 [print] true \n"},{"result":{"nanos":578700,"millis":0.5787,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":506700,"millis":0.5067,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":435899,"millis":0.435899,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":614.066034,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7f79fc69-d0c7-4913-a05a-527c90453297","startTime":1647665732955,"refId":"[1.76:82]","endTime":1647665733571,"exampleData":{"datasetIdentifierCode":"7f79fc69-d0c7-4913-a05a-527c90453297"},"exampleIndex":75},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.233 karate.env system property was: null \n"},{"result":{"nanos":89900,"millis":0.0899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379000,"millis":0.379,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450700,"millis":0.4507,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548962662,"millis":548.962662,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1168700,"millis":1.1687,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":870100,"millis":0.8701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":926099,"millis":0.926099,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":957400,"millis":0.9574,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1064999,"millis":1.064999,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1013300,"millis":1.0133,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":815499,"millis":0.815499,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":748900,"millis":0.7489,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":796100,"millis":0.7961,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":167200,"millis":0.1672,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":741799,"millis":0.741799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.793 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n"},{"result":{"nanos":1064600,"millis":1.0646,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":387400,"millis":0.3874,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.794 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":725099,"millis":0.725099,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":388500,"millis":0.3885,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.795 [print] #notpresent \n"},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":409900,"millis":0.4099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.796 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":914500,"millis":0.9145,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":444899,"millis":0.444899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.797 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":557800,"millis":0.5578,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.798 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":808600,"millis":0.8086,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":856499,"millis":0.856499,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":132000,"millis":0.132,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":378800,"millis":0.3788,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.800 [print] #notpresent \n"},{"result":{"nanos":830600,"millis":0.8306,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":148700,"millis":0.1487,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":661099,"millis":0.661099,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.801 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services 3.1\";\"conformant\" \n"},{"result":{"nanos":829200,"millis":0.8292,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":142600,"millis":0.1426,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":384200,"millis":0.3842,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.803 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":445300,"millis":0.4453,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":921599,"millis":0.921599,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":530500,"millis":0.5305,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.770753,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","startTime":1647665733232,"refId":"[1.77:82]","endTime":1647665733805,"exampleData":{"datasetIdentifierCode":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7"},"exampleIndex":76},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.395 karate.env system property was: null \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439100,"millis":0.4391,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524199,"millis":0.524199,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539122668,"millis":539.122668,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1304500,"millis":1.3045,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'"}},{"result":{"nanos":884500,"millis":0.8845,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":702399,"millis":0.702399,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":602600,"millis":0.6026,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":990300,"millis":0.9903,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":722599,"millis":0.722599,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":147000,"millis":0.147,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":569300,"millis":0.5693,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":714300,"millis":0.7143,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":630499,"millis":0.630499,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151000,"millis":0.151,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":562900,"millis":0.5629,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:33.944 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":953400,"millis":0.9534,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":384999,"millis":0.384999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:33.946 [print] OGC:WMS \n"},{"result":{"nanos":860600,"millis":0.8606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":290700,"millis":0.2907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:33.947 [print] #notpresent \n"},{"result":{"nanos":157600,"millis":0.1576,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":387500,"millis":0.3875,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:33.947 [print] OGC:WMS \n"},{"result":{"nanos":633399,"millis":0.633399,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":377800,"millis":0.3778,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:33.948 [print] Beheer PDOK \n"},{"result":{"nanos":302000,"millis":0.302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:33.949 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":678900,"millis":0.6789,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":749499,"millis":0.749499,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":192900,"millis":0.1929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":345100,"millis":0.3451,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:33.951 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":834700,"millis":0.8347,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":138600,"millis":0.1386,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":223900,"millis":0.2239,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:33.952 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":736899,"millis":0.736899,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":314100,"millis":0.3141,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:33.953 [print] \"true\";\"true\" \n"},{"result":{"nanos":259500,"millis":0.2595,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":542300,"millis":0.5423,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":400900,"millis":0.4009,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.56586,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","startTime":1647665733395,"refId":"[1.78:82]","endTime":1647665733955,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b"},"exampleIndex":77},{"sectionIndex":0,"stepResults":[{"result":{"nanos":94000,"millis":0.094,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.555 karate.env system property was: null \n"},{"result":{"nanos":101000,"millis":0.101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151100,"millis":0.1511,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":210500,"millis":0.2105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":511599,"millis":0.511599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":174700,"millis":0.1747,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486300,"millis":0.4863,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":154800,"millis":0.1548,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548202163,"millis":548.202163,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1067700,"millis":1.0677,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":660699,"millis":0.660699,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":656000,"millis":0.656,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":683900,"millis":0.6839,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1038899,"millis":1.038899,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":892300,"millis":0.8923,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":146300,"millis":0.1463,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":776799,"millis":0.776799,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":821100,"millis":0.8211,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":737100,"millis":0.7371,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":284800,"millis":0.2848,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":799999,"millis":0.799999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.115 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":698000,"millis":0.698,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":439300,"millis":0.4393,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.116 [print] #notpresent \n"},{"result":{"nanos":883199,"millis":0.883199,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":509300,"millis":0.5093,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.117 [print] #notpresent \n"},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":374400,"millis":0.3744,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.118 [print] #notpresent \n"},{"result":{"nanos":816400,"millis":0.8164,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":414599,"millis":0.414599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.120 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":492100,"millis":0.4921,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.120 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":849100,"millis":0.8491,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":743999,"millis":0.743999,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":394700,"millis":0.3947,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.122 [print] #notpresent \n"},{"result":{"nanos":689600,"millis":0.6896,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":122900,"millis":0.1229,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":520900,"millis":0.5209,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.123 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":913899,"millis":0.913899,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":329300,"millis":0.3293,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.125 [print] true \n"},{"result":{"nanos":267500,"millis":0.2675,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":488800,"millis":0.4888,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364600,"millis":0.3646,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.637254,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a149d97f-0d55-462e-9956-5b47bea00a8d","startTime":1647665733555,"refId":"[1.79:82]","endTime":1647665734126,"exampleData":{"datasetIdentifierCode":"a149d97f-0d55-462e-9956-5b47bea00a8d"},"exampleIndex":78},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.573 karate.env system property was: null \n"},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":137100,"millis":0.1371,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134200,"millis":0.1342,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":676200,"millis":0.6762,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":239500,"millis":0.2395,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468700,"millis":0.4687,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":116299,"millis":0.116299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561849058,"millis":561.849058,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":669299,"millis":0.669299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":676800,"millis":0.6768,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":686700,"millis":0.6867,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":657099,"millis":0.657099,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":717100,"millis":0.7171,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":725400,"millis":0.7254,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":598500,"millis":0.5985,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":660299,"millis":0.660299,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":545200,"millis":0.5452,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":214600,"millis":0.2146,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":359300,"millis":0.3593,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.144 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":685799,"millis":0.685799,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":303200,"millis":0.3032,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.145 [print] #notpresent \n"},{"result":{"nanos":652500,"millis":0.6525,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":379100,"millis":0.3791,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.146 [print] OGC:WFS \n"},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":322200,"millis":0.3222,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.147 [print] #notpresent \n"},{"result":{"nanos":918399,"millis":0.918399,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":348200,"millis":0.3482,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.148 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":494300,"millis":0.4943,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.149 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":613500,"millis":0.6135,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":777299,"millis":0.777299,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":351900,"millis":0.3519,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.150 [print] #notpresent \n"},{"result":{"nanos":729900,"millis":0.7299,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":557499,"millis":0.557499,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.151 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":723700,"millis":0.7237,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":423500,"millis":0.4235,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.153 [print] \"true\";\"true\" \n"},{"result":{"nanos":283500,"millis":0.2835,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":404200,"millis":0.4042,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":439099,"millis":0.439099,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.244549,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","startTime":1647665733572,"refId":"[1.80:82]","endTime":1647665734154,"exampleData":{"datasetIdentifierCode":"fa3ecd49-4571-4eb3-84f3-2865f42934b2"},"exampleIndex":79},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.808 karate.env system property was: null \n"},{"result":{"nanos":118000,"millis":0.118,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":192000,"millis":0.192,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138000,"millis":0.138,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1066300,"millis":1.0663,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":152299,"millis":0.152299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":465700,"millis":0.4657,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":275900,"millis":0.2759,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543863065,"millis":543.863065,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1146699,"millis":1.146699,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":810400,"millis":0.8104,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":847300,"millis":0.8473,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":688999,"millis":0.688999,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":881400,"millis":0.8814,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840500,"millis":0.8405,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":647799,"millis":0.647799,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":611000,"millis":0.611,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":730100,"millis":0.7301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2920799,"millis":2.920799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":516899,"millis":0.516899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.367 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":651400,"millis":0.6514,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1022000,"millis":1.022,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.369 [print] OGC:WMS \n"},{"result":{"nanos":946699,"millis":0.946699,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":415800,"millis":0.4158,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.370 [print] #notpresent \n"},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":344400,"millis":0.3444,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.371 [print] OGC:WMS \n"},{"result":{"nanos":772599,"millis":0.772599,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":366200,"millis":0.3662,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.372 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":494800,"millis":0.4948,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.372 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":836500,"millis":0.8365,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":796599,"millis":0.796599,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":5972898,"millis":5.972898,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.380 [print] #notpresent \n"},{"result":{"nanos":747699,"millis":0.747699,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":440200,"millis":0.4402,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.381 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":740900,"millis":0.7409,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":385700,"millis":0.3857,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.383 [print] \"true\";\"true\" \n"},{"result":{"nanos":433399,"millis":0.433399,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":523100,"millis":0.5231,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":507800,"millis":0.5078,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.049352,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","startTime":1647665733808,"refId":"[1.81:82]","endTime":1647665734384,"exampleData":{"datasetIdentifierCode":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8"},"exampleIndex":80},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:33.958 karate.env system property was: null \n"},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133900,"millis":0.1339,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":478400,"millis":0.4784,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":184400,"millis":0.1844,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":532999,"millis":0.532999,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142000,"millis":0.142,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":192900,"millis":0.1929,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536994168,"millis":536.994168,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":929500,"millis":0.9295,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":709400,"millis":0.7094,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":646899,"millis":0.646899,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822700,"millis":0.8227,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":798100,"millis":0.7981,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698099,"millis":0.698099,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":764800,"millis":0.7648,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":606600,"millis":0.6066,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":639799,"millis":0.639799,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":309000,"millis":0.309,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":202300,"millis":0.2023,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.505 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":613900,"millis":0.6139,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":152200,"millis":0.1522,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.505 [print] #notpresent \n"},{"result":{"nanos":730999,"millis":0.730999,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139100,"millis":0.1391,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.506 [print] OGC:WFS \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.506 [print] #notpresent \n"},{"result":{"nanos":886500,"millis":0.8865,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141600,"millis":0.1416,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.507 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.508 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":746999,"millis":0.746999,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1254900,"millis":1.2549,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":232300,"millis":0.2323,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.510 [print] #notpresent \n"},{"result":{"nanos":1157199,"millis":1.157199,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":336700,"millis":0.3367,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.512 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":1073200,"millis":1.0732,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":81400,"millis":0.0814,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":330799,"millis":0.330799,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.513 [print] \"true\";\"true\" \n"},{"result":{"nanos":565600,"millis":0.5656,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":623700,"millis":0.6237,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":388600,"millis":0.3886,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.19996,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dd414384-0bcb-4188-86e2-2843e12a579e","startTime":1647665733957,"refId":"[1.82:82]","endTime":1647665734515,"exampleData":{"datasetIdentifierCode":"dd414384-0bcb-4188-86e2-2843e12a579e"},"exampleIndex":81},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.129 karate.env system property was: null \n"},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77000,"millis":0.077,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":552600,"millis":0.5526,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":90600,"millis":0.0906,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":489600,"millis":0.4896,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125900,"millis":0.1259,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":222100,"millis":0.2221,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17499,"millis":0.017499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":560041559,"millis":560.041559,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":893199,"millis":0.893199,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":924900,"millis":0.9249,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769199,"millis":0.769199,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":860200,"millis":0.8602,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":799400,"millis":0.7994,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1075999,"millis":1.075999,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":749400,"millis":0.7494,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":671100,"millis":0.6711,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":785699,"millis":0.785699,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":286400,"millis":0.2864,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.699 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":709000,"millis":0.709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.700 [print] #notpresent \n"},{"result":{"nanos":959799,"millis":0.959799,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.701 [print] OGC:WFS \n"},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140200,"millis":0.1402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.701 [print] #notpresent \n"},{"result":{"nanos":786100,"millis":0.7861,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140600,"millis":0.1406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.702 [print] RIVM \n"},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.702 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":982999,"millis":0.982999,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":812500,"millis":0.8125,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":200800,"millis":0.2008,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.704 [print] #notpresent \n"},{"result":{"nanos":810399,"millis":0.810399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":81600,"millis":0.0816,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":128100,"millis":0.1281,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.705 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":816900,"millis":0.8169,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":127900,"millis":0.1279,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.706 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":402800,"millis":0.4028,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":493600,"millis":0.4936,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":873499,"millis":0.873499,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.69325,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","startTime":1647665734128,"refId":"[1.83:82]","endTime":1647665734708,"exampleData":{"datasetIdentifierCode":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed"},"exampleIndex":82},{"sectionIndex":0,"stepResults":[{"result":{"nanos":312800,"millis":0.3128,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.156 karate.env system property was: null \n"},{"result":{"nanos":114900,"millis":0.1149,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":369900,"millis":0.3699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370000,"millis":0.37,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":297200,"millis":0.2972,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554722561,"millis":554.722561,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":812700,"millis":0.8127,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":797699,"millis":0.797699,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":9489296,"millis":9.489296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":897000,"millis":0.897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":854799,"millis":0.854799,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":721200,"millis":0.7212,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":643100,"millis":0.6431,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":796099,"millis":0.796099,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":694500,"millis":0.6945,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":567000,"millis":0.567,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":422100,"millis":0.4221,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.730 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n"},{"result":{"nanos":791199,"millis":0.791199,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":395900,"millis":0.3959,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.731 [print] OGC:WMS \n"},{"result":{"nanos":842100,"millis":0.8421,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":436400,"millis":0.4364,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.733 [print] #notpresent \n"},{"result":{"nanos":154199,"millis":0.154199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":487300,"millis":0.4873,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.733 [print] OGC:WMS \n"},{"result":{"nanos":1040200,"millis":1.0402,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":413800,"millis":0.4138,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.735 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":886799,"millis":0.886799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.736 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":782900,"millis":0.7829,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":728300,"millis":0.7283,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":420599,"millis":0.420599,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.738 [print] #notpresent \n"},{"result":{"nanos":896400,"millis":0.8964,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":624900,"millis":0.6249,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.739 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services 3.1\";\"conformant\" \n"},{"result":{"nanos":761599,"millis":0.761599,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":367800,"millis":0.3678,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.741 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":691500,"millis":0.6915,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":925999,"millis":0.925999,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428900,"millis":0.4289,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":585.612147,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","startTime":1647665734156,"refId":"[1.84:82]","endTime":1647665734743,"exampleData":{"datasetIdentifierCode":"22bedc12-e9cb-4419-8e51-dfb375d46d01"},"exampleIndex":83},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.388 karate.env system property was: null \n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":547700,"millis":0.5477,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496700,"millis":0.4967,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":405299,"millis":0.405299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533132970,"millis":533.13297,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1153600,"millis":1.1536,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":798499,"millis":0.798499,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":715200,"millis":0.7152,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":607900,"millis":0.6079,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":934399,"millis":0.934399,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":898400,"millis":0.8984,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":605300,"millis":0.6053,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":679099,"millis":0.679099,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":672100,"millis":0.6721,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":716000,"millis":0.716,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:34.932 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":659899,"millis":0.659899,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:34.933 [print] #notpresent \n"},{"result":{"nanos":890800,"millis":0.8908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:34.934 [print] #notpresent \n"},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:34.934 [print] #notpresent \n"},{"result":{"nanos":801099,"millis":0.801099,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:34.935 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:34.935 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1334300,"millis":1.3343,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":741599,"millis":0.741599,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:34.937 [print] #notpresent \n"},{"result":{"nanos":874400,"millis":0.8744,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:34.938 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":850999,"millis":0.850999,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:34.939 [print] true \n"},{"result":{"nanos":491300,"millis":0.4913,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":539200,"millis":0.5392,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353800,"millis":0.3538,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":551.447862,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","startTime":1647665734388,"refId":"[1.85:82]","endTime":1647665734941,"exampleData":{"datasetIdentifierCode":"ac3ee940-4f98-427c-a2d9-58696005d9c2"},"exampleIndex":84},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.517 karate.env system property was: null \n"},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421500,"millis":0.4215,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424100,"millis":0.4241,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":86400,"millis":0.0864,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544715765,"millis":544.715765,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":920299,"millis":0.920299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":785000,"millis":0.785,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":897399,"millis":0.897399,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":755700,"millis":0.7557,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":759600,"millis":0.7596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":761499,"millis":0.761499,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1463800,"millis":1.4638,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":732399,"millis":0.732399,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":689100,"millis":0.6891,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101900,"millis":0.1019,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138300,"millis":0.1383,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.072 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n"},{"result":{"nanos":660200,"millis":0.6602,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111600,"millis":0.1116,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.073 [print] #notpresent \n"},{"result":{"nanos":857099,"millis":0.857099,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.074 [print] INSPIRE Atom \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":158000,"millis":0.158,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.074 [print] #notpresent \n"},{"result":{"nanos":720800,"millis":0.7208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118600,"millis":0.1186,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.075 [print] Informatiehuis Water \n"},{"result":{"nanos":109400,"millis":0.1094,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.075 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":781199,"millis":0.781199,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":965700,"millis":0.9657,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":105600,"millis":0.1056,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.077 [print] #notpresent \n"},{"result":{"nanos":871400,"millis":0.8714,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.078 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"notEvaluated\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":764900,"millis":0.7649,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":103000,"millis":0.103,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":176100,"millis":0.1761,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.079 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":381100,"millis":0.3811,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":488700,"millis":0.4887,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":560999,"millis":0.560999,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.581856,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ef2a7962-8bb4-483f-ca52-85123f579","startTime":1647665734517,"refId":"[1.86:82]","endTime":1647665735081,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ca52-85123f579"},"exampleIndex":85},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.711 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":383700,"millis":0.3837,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455399,"millis":0.455399,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":225400,"millis":0.2254,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537699968,"millis":537.699968,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1005499,"millis":1.005499,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":787800,"millis":0.7878,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":749900,"millis":0.7499,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":836899,"millis":0.836899,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":886400,"millis":0.8864,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":756800,"millis":0.7568,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728999,"millis":0.728999,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":650700,"millis":0.6507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":758300,"millis":0.7583,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":755099,"millis":0.755099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1217000,"millis":1.217,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.260 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n"},{"result":{"nanos":693000,"millis":0.693,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":382899,"millis":0.382899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.261 [print] OGC:WFS \n"},{"result":{"nanos":730400,"millis":0.7304,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":377600,"millis":0.3776,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.262 [print] #notpresent \n"},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":442200,"millis":0.4422,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.263 [print] OGC:WFS \n"},{"result":{"nanos":913399,"millis":0.913399,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":458500,"millis":0.4585,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.264 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":707500,"millis":0.7075,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.265 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":793299,"millis":0.793299,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":950600,"millis":0.9506,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":374000,"millis":0.374,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.267 [print] #notpresent \n"},{"result":{"nanos":878299,"millis":0.878299,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":97000,"millis":0.097,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":900700,"millis":0.9007,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.269 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"conformant\" \n"},{"result":{"nanos":842500,"millis":0.8425,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":368299,"millis":0.368299,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.270 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":373600,"millis":0.3736,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":557800,"millis":0.5578,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378100,"millis":0.3781,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.799358,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"00e8746f-5031-413e-8343-9203c8ea82ee","startTime":1647665734711,"refId":"[1.87:82]","endTime":1647665735272,"exampleData":{"datasetIdentifierCode":"00e8746f-5031-413e-8343-9203c8ea82ee"},"exampleIndex":86},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.755 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":158400,"millis":0.1584,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345499,"millis":0.345499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415400,"millis":0.4154,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2918599,"millis":2.918599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539892867,"millis":539.892867,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":698699,"millis":0.698699,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":645100,"millis":0.6451,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":707300,"millis":0.7073,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":697699,"millis":0.697699,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":714800,"millis":0.7148,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":728400,"millis":0.7284,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":569800,"millis":0.5698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":590799,"millis":0.590799,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":622300,"millis":0.6223,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":377800,"millis":0.3778,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":413400,"millis":0.4134,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.307 [print] #notpresent \n"},{"result":{"nanos":736899,"millis":0.736899,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":385100,"millis":0.3851,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.308 [print] #notpresent \n"},{"result":{"nanos":822100,"millis":0.8221,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":518800,"millis":0.5188,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.309 [print] #notpresent \n"},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":423399,"millis":0.423399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.310 [print] #notpresent \n"},{"result":{"nanos":868500,"millis":0.8685,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":514700,"millis":0.5147,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.311 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":486100,"millis":0.4861,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.312 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":745399,"millis":0.745399,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":813300,"millis":0.8133,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":427200,"millis":0.4272,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.314 [print] #notpresent \n"},{"result":{"nanos":783599,"millis":0.783599,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":498900,"millis":0.4989,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.315 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":729200,"millis":0.7292,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":456099,"millis":0.456099,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.317 [print] \"true\";\"true\" \n"},{"result":{"nanos":272400,"millis":0.2724,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":404000,"millis":0.404,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3014099,"millis":3.014099,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.091056,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","startTime":1647665734755,"refId":"[1.88:82]","endTime":1647665735320,"exampleData":{"datasetIdentifierCode":"364c5d7a-d6ec-11ea-87d0-0242ac130003"},"exampleIndex":87},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:34.944 karate.env system property was: null \n"},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":414300,"millis":0.4143,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":569100,"millis":0.5691,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":188900,"millis":0.1889,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b6d902f4-97e8-4bcc-ba87-e58134645ab7'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546515764,"millis":546.515764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":829099,"millis":0.829099,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b6d902f4-97e8-4bcc-ba87-e58134645ab7'"}},{"result":{"nanos":1139600,"millis":1.1396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":883099,"millis":0.883099,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":664000,"millis":0.664,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":755700,"millis":0.7557,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":745899,"millis":0.745899,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":659400,"millis":0.6594,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":620700,"millis":0.6207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":727900,"millis":0.7279,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133199,"millis":0.133199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.500 [print] https:\\\/\\\/inspire.caris.nl\\\/gs4\\\/LAT2018OF\\\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":1003400,"millis":1.0034,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95200,"millis":0.0952,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.501 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":963300,"millis":0.9633,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128799,"millis":0.128799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.502 [print] #notpresent \n"},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.502 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1057200,"millis":1.0572,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.503 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":91900,"millis":0.0919,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.503 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":717300,"millis":0.7173,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660999,"millis":0.660999,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.505 [print] #notpresent \n"},{"result":{"nanos":673500,"millis":0.6735,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":125800,"millis":0.1258,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.506 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":742599,"millis":0.742599,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.507 [print] \"true\";\"true\" \n"},{"result":{"nanos":383400,"millis":0.3834,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b6d902f4-97e8-4bcc-ba87-e58134645ab7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":450100,"millis":0.4501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b6d902f4-97e8-4bcc-ba87-e58134645ab7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365600,"millis":0.3656,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b6d902f4-97e8-4bcc-ba87-e58134645ab7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.496457,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b6d902f4-97e8-4bcc-ba87-e58134645ab7","startTime":1647665734943,"refId":"[1.89:82]","endTime":1647665735508,"exampleData":{"datasetIdentifierCode":"b6d902f4-97e8-4bcc-ba87-e58134645ab7"},"exampleIndex":88},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.083 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":354500,"millis":0.3545,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404100,"millis":0.4041,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100000,"millis":0.1,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543542465,"millis":543.542465,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1045899,"millis":1.045899,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":1039400,"millis":1.0394,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":895100,"millis":0.8951,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":935599,"millis":0.935599,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2437099,"millis":2.437099,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":875200,"millis":0.8752,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":601999,"millis":0.601999,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":641100,"millis":0.6411,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":630400,"millis":0.6304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129300,"millis":0.1293,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":238000,"millis":0.238,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.638 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":880399,"millis":0.880399,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109500,"millis":0.1095,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.639 [print] OGC:WMS \n"},{"result":{"nanos":680100,"millis":0.6801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127800,"millis":0.1278,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.640 [print] #notpresent \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.640 [print] OGC:WMS \n"},{"result":{"nanos":697700,"millis":0.6977,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.641 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":862600,"millis":0.8626,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.643 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":958099,"millis":0.958099,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":709100,"millis":0.7091,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":332300,"millis":0.3323,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.645 [print] #notpresent \n"},{"result":{"nanos":829199,"millis":0.829199,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":112600,"millis":0.1126,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":94000,"millis":0.094,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.646 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":931600,"millis":0.9316,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.647 [print] \"false\";\"false\" \n"},{"result":{"nanos":470000,"millis":0.47,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":516599,"millis":0.516599,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365700,"millis":0.3657,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.533057,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a6098c24-4caf-4528-954c-672b9ec6cf78","startTime":1647665735083,"refId":"[1.90:82]","endTime":1647665735648,"exampleData":{"datasetIdentifierCode":"a6098c24-4caf-4528-954c-672b9ec6cf78"},"exampleIndex":89},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.275 karate.env system property was: null \n"},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":82499,"millis":0.082499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346200,"millis":0.3462,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402200,"millis":0.4022,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":338900,"millis":0.3389,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540548566,"millis":540.548566,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":903300,"millis":0.9033,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":751000,"millis":0.751,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":694299,"millis":0.694299,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":939800,"millis":0.9398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":864000,"millis":0.864,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":831999,"millis":0.831999,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":612600,"millis":0.6126,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":704800,"millis":0.7048,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":924199,"millis":0.924199,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":201300,"millis":0.2013,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160400,"millis":0.1604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.825 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":799200,"millis":0.7992,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180200,"millis":0.1802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.826 [print] #notpresent \n"},{"result":{"nanos":744199,"millis":0.744199,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":216500,"millis":0.2165,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.827 [print] OGC:WFS \n"},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":115200,"millis":0.1152,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.827 [print] #notpresent \n"},{"result":{"nanos":740200,"millis":0.7402,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":770099,"millis":0.770099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.829 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":158400,"millis":0.1584,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.829 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":692100,"millis":0.6921,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":735500,"millis":0.7355,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":142100,"millis":0.1421,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.830 [print] #notpresent \n"},{"result":{"nanos":714599,"millis":0.714599,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":145600,"millis":0.1456,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.831 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":655700,"millis":0.6557,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.832 [print] \"true\";\"true\" \n"},{"result":{"nanos":378300,"millis":0.3783,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":405799,"millis":0.405799,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410800,"millis":0.4108,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.090258,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"73286af2-d0f4-4a62-9455-86ffa45ef279","startTime":1647665735274,"refId":"[1.91:82]","endTime":1647665735834,"exampleData":{"datasetIdentifierCode":"73286af2-d0f4-4a62-9455-86ffa45ef279"},"exampleIndex":90},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.324 karate.env system property was: null \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":408600,"millis":0.4086,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392100,"millis":0.3921,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534235969,"millis":534.235969,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":983500,"millis":0.9835,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":801099,"millis":0.801099,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":792800,"millis":0.7928,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":729000,"millis":0.729,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":928399,"millis":0.928399,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1194700,"millis":1.1947,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":838799,"millis":0.838799,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":686900,"millis":0.6869,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":664400,"millis":0.6644,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":884899,"millis":0.884899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:35.868 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":773400,"millis":0.7734,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:35.869 [print] #notpresent \n"},{"result":{"nanos":1115299,"millis":1.115299,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:35.870 [print] OGC:WMS \n"},{"result":{"nanos":314800,"millis":0.3148,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:35.871 [print] #notpresent \n"},{"result":{"nanos":1148100,"millis":1.1481,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146000,"millis":0.146,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:35.872 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:35.872 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1390399,"millis":1.390399,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":964200,"millis":0.9642,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":94599,"millis":0.094599,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:35.875 [print] #notpresent \n"},{"result":{"nanos":1150900,"millis":1.1509,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:35.876 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":710299,"millis":0.710299,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:35.878 [print] \"true\";\"false\" \n"},{"result":{"nanos":670100,"millis":0.6701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":403500,"millis":0.4035,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414500,"millis":0.4145,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":554.189061,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","startTime":1647665735323,"refId":"[1.92:82]","endTime":1647665735879,"exampleData":{"datasetIdentifierCode":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39"},"exampleIndex":91},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.510 karate.env system property was: null \n"},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109200,"millis":0.1092,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":429099,"millis":0.429099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426700,"millis":0.4267,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":105900,"millis":0.1059,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546155764,"millis":546.155764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":911600,"millis":0.9116,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":720500,"millis":0.7205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":664499,"millis":0.664499,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":698800,"millis":0.6988,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":801500,"millis":0.8015,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":855499,"millis":0.855499,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":687100,"millis":0.6871,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":683800,"millis":0.6838,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":589299,"millis":0.589299,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89900,"millis":0.0899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171100,"millis":0.1711,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.065 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":865300,"millis":0.8653,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.066 [print] #notpresent \n"},{"result":{"nanos":738199,"millis":0.738199,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.067 [print] OGC:WFS \n"},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.067 [print] #notpresent \n"},{"result":{"nanos":804700,"millis":0.8047,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94800,"millis":0.0948,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.068 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":128100,"millis":0.1281,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.069 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1696499,"millis":1.696499,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":734800,"millis":0.7348,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":110000,"millis":0.11,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.071 [print] #notpresent \n"},{"result":{"nanos":1113999,"millis":1.113999,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":128100,"millis":0.1281,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.073 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":866600,"millis":0.8666,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":114400,"millis":0.1144,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.074 [print] \"true\";\"true\" \n"},{"result":{"nanos":453699,"millis":0.453699,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":544000,"millis":0.544,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":331500,"millis":0.3315,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.792956,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","startTime":1647665735510,"refId":"[1.93:82]","endTime":1647665736075,"exampleData":{"datasetIdentifierCode":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e"},"exampleIndex":92},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.651 karate.env system property was: null \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77100,"millis":0.0771,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382900,"millis":0.3829,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":512399,"millis":0.512399,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":183800,"millis":0.1838,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547755664,"millis":547.755664,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1308299,"millis":1.308299,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":750800,"millis":0.7508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":686500,"millis":0.6865,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":746199,"millis":0.746199,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":893900,"millis":0.8939,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840199,"millis":0.840199,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":696100,"millis":0.6961,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":849200,"millis":0.8492,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":877699,"millis":0.877699,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":225300,"millis":0.2253,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":923300,"millis":0.9233,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.210 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":1050099,"millis":1.050099,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":295600,"millis":0.2956,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.211 [print] OGC:WMS \n"},{"result":{"nanos":819100,"millis":0.8191,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":149900,"millis":0.1499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.212 [print] #notpresent \n"},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.212 [print] OGC:WMS \n"},{"result":{"nanos":900199,"millis":0.900199,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.213 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.214 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":766000,"millis":0.766,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":769000,"millis":0.769,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":174599,"millis":0.174599,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":160100,"millis":0.1601,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.215 [print] #notpresent \n"},{"result":{"nanos":785600,"millis":0.7856,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":166300,"millis":0.1663,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":154500,"millis":0.1545,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.217 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":783400,"millis":0.7834,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":283399,"millis":0.283399,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":304300,"millis":0.3043,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.218 [print] \"false\";\"false\" \n"},{"result":{"nanos":377200,"millis":0.3772,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":800500,"millis":0.8005,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":509600,"millis":0.5096,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.901255,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","startTime":1647665735651,"refId":"[1.94:82]","endTime":1647665736220,"exampleData":{"datasetIdentifierCode":"a02c6566-e0ad-4fc1-b217-67cc1099dea2"},"exampleIndex":93},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.836 karate.env system property was: null \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402200,"millis":0.4022,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":480300,"millis":0.4803,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123500,"millis":0.1235,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49999,"millis":0.049999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":569911854,"millis":569.911854,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1071600,"millis":1.0716,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":739100,"millis":0.7391,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1072200,"millis":1.0722,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":809200,"millis":0.8092,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1025099,"millis":1.025099,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":846900,"millis":0.8469,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95700,"millis":0.0957,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":693599,"millis":0.693599,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":778900,"millis":0.7789,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":819800,"millis":0.8198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":142000,"millis":0.142,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180200,"millis":0.1802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.416 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1139599,"millis":1.139599,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":185200,"millis":0.1852,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.418 [print] #notpresent \n"},{"result":{"nanos":849500,"millis":0.8495,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":200400,"millis":0.2004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.419 [print] #notpresent \n"},{"result":{"nanos":358599,"millis":0.358599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":186500,"millis":0.1865,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.419 [print] #notpresent \n"},{"result":{"nanos":1126900,"millis":1.1269,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":239400,"millis":0.2394,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.421 [print] KNMI \n"},{"result":{"nanos":334900,"millis":0.3349,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.421 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":978599,"millis":0.978599,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":777700,"millis":0.7777,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":130100,"millis":0.1301,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.423 [print] #notpresent \n"},{"result":{"nanos":927699,"millis":0.927699,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":150500,"millis":0.1505,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.424 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1155800,"millis":1.1558,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":245500,"millis":0.2455,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":135200,"millis":0.1352,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.426 [print] true \n"},{"result":{"nanos":440899,"millis":0.440899,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":580400,"millis":0.5804,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":400900,"millis":0.4009,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":590.464346,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","startTime":1647665735836,"refId":"[1.95:82]","endTime":1647665736427,"exampleData":{"datasetIdentifierCode":"55cf16e8-1c04-462c-b78a-e0d28823dd2e"},"exampleIndex":94},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:35.881 karate.env system property was: null \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314500,"millis":0.3145,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394900,"millis":0.3949,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558835358,"millis":558.835358,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":872300,"millis":0.8723,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":726100,"millis":0.7261,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":659099,"millis":0.659099,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":803000,"millis":0.803,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1072600,"millis":1.0726,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":792699,"millis":0.792699,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86400,"millis":0.0864,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":686200,"millis":0.6862,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":846899,"millis":0.846899,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":844200,"millis":0.8442,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145700,"millis":0.1457,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":531000,"millis":0.531,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.451 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":959499,"millis":0.959499,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":247100,"millis":0.2471,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.452 [print] #notpresent \n"},{"result":{"nanos":990500,"millis":0.9905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.453 [print] #notpresent \n"},{"result":{"nanos":103000,"millis":0.103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":297800,"millis":0.2978,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.453 [print] #notpresent \n"},{"result":{"nanos":826999,"millis":0.826999,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224000,"millis":0.224,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.455 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":427400,"millis":0.4274,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.455 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":997199,"millis":0.997199,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":751500,"millis":0.7515,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":141800,"millis":0.1418,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":133400,"millis":0.1334,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.457 [print] #notpresent \n"},{"result":{"nanos":1011800,"millis":1.0118,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":146899,"millis":0.146899,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.458 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1007300,"millis":1.0073,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":135700,"millis":0.1357,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":176200,"millis":0.1762,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.460 [print] true \n"},{"result":{"nanos":397400,"millis":0.3974,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":498399,"millis":0.498399,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":540900,"millis":0.5409,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.39185,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","startTime":1647665735881,"refId":"[1.96:82]","endTime":1647665736461,"exampleData":{"datasetIdentifierCode":"b81f9ce3-f612-4761-ba37-4c8afda9033a"},"exampleIndex":95},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.077 karate.env system property was: null \n"},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402600,"millis":0.4026,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330799,"millis":0.330799,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546416364,"millis":546.416364,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":756000,"millis":0.756,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":650300,"millis":0.6503,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706899,"millis":0.706899,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":758800,"millis":0.7588,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1009000,"millis":1.009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1049699,"millis":1.049699,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107900,"millis":0.1079,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":666300,"millis":0.6663,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":646000,"millis":0.646,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":678699,"millis":0.678699,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158000,"millis":0.158,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":352800,"millis":0.3528,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.633 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":1025800,"millis":1.0258,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":185599,"millis":0.185599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.634 [print] #notpresent \n"},{"result":{"nanos":850300,"millis":0.8503,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137900,"millis":0.1379,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.635 [print] OGC:WMS \n"},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":183600,"millis":0.1836,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.636 [print] #notpresent \n"},{"result":{"nanos":887700,"millis":0.8877,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":179899,"millis":0.179899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.637 [print]  \n"},{"result":{"nanos":166300,"millis":0.1663,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.637 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":716000,"millis":0.716,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":782300,"millis":0.7823,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":135900,"millis":0.1359,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":132600,"millis":0.1326,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.639 [print] #notpresent \n"},{"result":{"nanos":761099,"millis":0.761099,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":130800,"millis":0.1308,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":129700,"millis":0.1297,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.640 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":845000,"millis":0.845,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":203400,"millis":0.2034,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.641 [print] \"true\";\"false\" \n"},{"result":{"nanos":316699,"millis":0.316699,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":583600,"millis":0.5836,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423900,"millis":0.4239,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.221256,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"42da491e-d8b9-47ba-af65-acb15ea8a055","startTime":1647665736077,"refId":"[1.97:82]","endTime":1647665736642,"exampleData":{"datasetIdentifierCode":"42da491e-d8b9-47ba-af65-acb15ea8a055"},"exampleIndex":96},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.223 karate.env system property was: null \n"},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":139800,"millis":0.1398,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128900,"millis":0.1289,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":401000,"millis":0.401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519299,"millis":0.519299,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113200,"millis":0.1132,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541482266,"millis":541.482266,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":827300,"millis":0.8273,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":782600,"millis":0.7826,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":680699,"millis":0.680699,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":733400,"millis":0.7334,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":853600,"millis":0.8536,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":680899,"millis":0.680899,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":581600,"millis":0.5816,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":597300,"millis":0.5973,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":603000,"millis":0.603,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121699,"millis":0.121699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":914500,"millis":0.9145,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:36.774 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":865500,"millis":0.8655,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:36.775 [print] #notpresent \n"},{"result":{"nanos":866599,"millis":0.866599,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112900,"millis":0.1129,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:36.776 [print] #notpresent \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159900,"millis":0.1599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:36.776 [print] #notpresent \n"},{"result":{"nanos":917400,"millis":0.9174,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:36.778 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:36.778 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":924699,"millis":0.924699,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":714100,"millis":0.7141,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:36.779 [print] #notpresent \n"},{"result":{"nanos":961099,"millis":0.961099,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":143000,"millis":0.143,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:36.781 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1128000,"millis":1.128,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:36.782 [print] true \n"},{"result":{"nanos":525400,"millis":0.5254,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":557300,"millis":0.5573,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377600,"millis":0.3776,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.669259,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"257b960c-ece6-4e0f-b893-77b219c6133f","startTime":1647665736222,"refId":"[1.98:82]","endTime":1647665736784,"exampleData":{"datasetIdentifierCode":"257b960c-ece6-4e0f-b893-77b219c6133f"},"exampleIndex":97},{"sectionIndex":0,"stepResults":[{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.430 karate.env system property was: null \n"},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":205200,"millis":0.2052,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152600,"millis":0.1526,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":445200,"millis":0.4452,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":149500,"millis":0.1495,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500800,"millis":0.5008,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156299,"millis":0.156299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":385000,"millis":0.385,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558397859,"millis":558.397859,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1070600,"millis":1.0706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":795999,"millis":0.795999,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":725600,"millis":0.7256,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":681400,"millis":0.6814,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":955899,"millis":0.955899,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":794900,"millis":0.7949,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718099,"millis":0.718099,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":928200,"millis":0.9282,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":610200,"millis":0.6102,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127500,"millis":0.1275,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.000 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n"},{"result":{"nanos":782599,"millis":0.782599,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.001 [print] OGC:WMS \n"},{"result":{"nanos":737600,"millis":0.7376,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.002 [print] #notpresent \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.002 [print] OGC:WMS \n"},{"result":{"nanos":801200,"millis":0.8012,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112599,"millis":0.112599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.003 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.003 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":773700,"millis":0.7737,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":778000,"millis":0.778,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":77100,"millis":0.0771,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.004 [print] #notpresent \n"},{"result":{"nanos":790999,"millis":0.790999,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.005 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services 3.1\";\"conformant\" \n"},{"result":{"nanos":835200,"millis":0.8352,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":183300,"millis":0.1833,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.007 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":533900,"millis":0.5339,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":439899,"millis":0.439899,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438000,"millis":0.438,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.349951,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","startTime":1647665736430,"refId":"[1.99:82]","endTime":1647665737008,"exampleData":{"datasetIdentifierCode":"ea4cb6a2-f637-413a-91cc-d58473c2f138"},"exampleIndex":98},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.464 karate.env system property was: null \n"},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":160800,"millis":0.1608,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":165300,"millis":0.1653,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396600,"millis":0.3966,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415599,"millis":0.415599,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":128000,"millis":0.128,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":176600,"millis":0.1766,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":166600,"millis":0.1666,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":562192857,"millis":562.192857,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":783100,"millis":0.7831,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":816900,"millis":0.8169,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":808899,"millis":0.808899,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639700,"millis":0.6397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":769600,"millis":0.7696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":892299,"millis":0.892299,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":677100,"millis":0.6771,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":722199,"millis":0.722199,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.036 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":595200,"millis":0.5952,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75900,"millis":0.0759,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.036 [print] OGC:WMS \n"},{"result":{"nanos":851800,"millis":0.8518,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120900,"millis":0.1209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.037 [print] #notpresent \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63299,"millis":0.063299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.037 [print] OGC:WMS \n"},{"result":{"nanos":784600,"millis":0.7846,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.038 [print] Beheer PDOK \n"},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.038 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":741700,"millis":0.7417,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":753999,"millis":0.753999,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.040 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":725800,"millis":0.7258,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.041 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":693400,"millis":0.6934,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.042 [print] \"true\";\"true\" \n"},{"result":{"nanos":261499,"millis":0.261499,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":409700,"millis":0.4097,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365100,"millis":0.3651,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.24185,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e258f171-6f56-4d4d-8311-027b30213c2d","startTime":1647665736463,"refId":"[1.100:82]","endTime":1647665737043,"exampleData":{"datasetIdentifierCode":"e258f171-6f56-4d4d-8311-027b30213c2d"},"exampleIndex":99},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.645 karate.env system property was: null \n"},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144100,"millis":0.1441,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":177300,"millis":0.1773,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":452999,"millis":0.452999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142100,"millis":0.1421,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":541800,"millis":0.5418,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":138800,"millis":0.1388,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540421866,"millis":540.421866,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":938000,"millis":0.938,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":621400,"millis":0.6214,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":760699,"millis":0.760699,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":616200,"millis":0.6162,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":704100,"millis":0.7041,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":646900,"millis":0.6469,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":535500,"millis":0.5355,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":558500,"millis":0.5585,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":677600,"millis":0.6776,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171000,"millis":0.171,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.195 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":742399,"millis":0.742399,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":158800,"millis":0.1588,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.195 [print] OGC:WMS \n"},{"result":{"nanos":717200,"millis":0.7172,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":133300,"millis":0.1333,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.196 [print] #notpresent \n"},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104700,"millis":0.1047,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.197 [print] OGC:WMS \n"},{"result":{"nanos":787499,"millis":0.787499,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109300,"millis":0.1093,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.197 [print] Beheer PDOK \n"},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.198 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":877100,"millis":0.8771,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":939600,"millis":0.9396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":68299,"millis":0.068299,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.200 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":2765399,"millis":2.765399,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":115600,"millis":0.1156,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":583400,"millis":0.5834,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.203 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":769800,"millis":0.7698,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":462999,"millis":0.462999,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.204 [print] \"true\";\"true\" \n"},{"result":{"nanos":419300,"millis":0.4193,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":533900,"millis":0.5339,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423900,"millis":0.4239,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.885659,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","startTime":1647665736644,"refId":"[1.101:82]","endTime":1647665737206,"exampleData":{"datasetIdentifierCode":"5523cfd7-a72c-409e-a0c7-89b858aafa64"},"exampleIndex":100},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:36.786 karate.env system property was: null \n"},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382100,"millis":0.3821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":505499,"millis":0.505499,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543788065,"millis":543.788065,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":966400,"millis":0.9664,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":719900,"millis":0.7199,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":754699,"millis":0.754699,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":594500,"millis":0.5945,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":711800,"millis":0.7118,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":639799,"millis":0.639799,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":671800,"millis":0.6718,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":674400,"millis":0.6744,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":693500,"millis":0.6935,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108799,"millis":0.108799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":516700,"millis":0.5167,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.339 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":711000,"millis":0.711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":275300,"millis":0.2753,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.340 [print] OGC:WMS \n"},{"result":{"nanos":966399,"millis":0.966399,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":151200,"millis":0.1512,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.341 [print] #notpresent \n"},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":237100,"millis":0.2371,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.341 [print] OGC:WMS \n"},{"result":{"nanos":1022400,"millis":1.0224,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.343 [print] Beheer PDOK \n"},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.343 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":1122799,"millis":1.122799,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":724400,"millis":0.7244,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.345 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1042599,"millis":1.042599,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":110600,"millis":0.1106,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.346 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":956700,"millis":0.9567,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.347 [print] \"true\";\"true\" \n"},{"result":{"nanos":648699,"millis":0.648699,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":448200,"millis":0.4482,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354300,"millis":0.3543,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.602557,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","startTime":1647665736786,"refId":"[1.102:82]","endTime":1647665737349,"exampleData":{"datasetIdentifierCode":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9"},"exampleIndex":101},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.011 karate.env system property was: null \n"},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":459700,"millis":0.4597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348099,"millis":0.348099,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '757a7c50-540d-4105-9135-73f09f700743'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541911131,"millis":541.911131,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":986401,"millis":0.986401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '757a7c50-540d-4105-9135-73f09f700743'"}},{"result":{"nanos":733200,"millis":0.7332,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":758601,"millis":0.758601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":672500,"millis":0.6725,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":903201,"millis":0.903201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":759600,"millis":0.7596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":629300,"millis":0.6293,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":571600,"millis":0.5716,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":806200,"millis":0.8062,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":160800,"millis":0.1608,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":196801,"millis":0.196801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.562 [print] https:\/\/service.pdok.nl\/bzk\/bro-grondwaterspiegeldiepte\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":825600,"millis":0.8256,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125900,"millis":0.1259,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.563 [print] OGC:WMS \n"},{"result":{"nanos":590301,"millis":0.590301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":163100,"millis":0.1631,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.563 [print] #notpresent \n"},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.564 [print] OGC:WMS \n"},{"result":{"nanos":825500,"millis":0.8255,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.564 [print] Beheer PDOK \n"},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.565 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b756dabe-a331-42cd-b45e-f61828ee4534#MD_DataIdentification \n"},{"result":{"nanos":620501,"millis":0.620501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":677100,"millis":0.6771,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.566 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":718401,"millis":0.718401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.567 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":793600,"millis":0.7936,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.568 [print] \"true\";\"true\" \n"},{"result":{"nanos":434201,"millis":0.434201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"757a7c50-540d-4105-9135-73f09f700743\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":499700,"millis":0.4997,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"757a7c50-540d-4105-9135-73f09f700743\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":427500,"millis":0.4275,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"757a7c50-540d-4105-9135-73f09f700743\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.934438,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"757a7c50-540d-4105-9135-73f09f700743","startTime":1647665737010,"refId":"[1.103:82]","endTime":1647665737569,"exampleData":{"datasetIdentifierCode":"757a7c50-540d-4105-9135-73f09f700743"},"exampleIndex":102},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.045 karate.env system property was: null \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294400,"millis":0.2944,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":328600,"millis":0.3286,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555430373,"millis":555.430373,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":912401,"millis":0.912401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":1109201,"millis":1.109201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":803100,"millis":0.8031,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":861201,"millis":0.861201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1033600,"millis":1.0336,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":797101,"millis":0.797101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":691000,"millis":0.691,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":790101,"millis":0.790101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":755000,"millis":0.755,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122200,"millis":0.1222,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.610 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wfs\\\/v2_0?request=getCapabilities&service=WFS \n"},{"result":{"nanos":972801,"millis":0.972801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118000,"millis":0.118,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.611 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1015501,"millis":1.015501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.612 [print] #notpresent \n"},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":247300,"millis":0.2473,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.612 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1107801,"millis":1.107801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.613 [print] Beheer PDOK \n"},{"result":{"nanos":153000,"millis":0.153,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.614 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":868500,"millis":0.8685,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":810901,"millis":0.810901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.616 [print] #notpresent \n"},{"result":{"nanos":931500,"millis":0.9315,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.617 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1023600,"millis":1.0236,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.618 [print] \"true\";\"true\" \n"},{"result":{"nanos":421500,"millis":0.4215,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":451101,"millis":0.451101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":315800,"millis":0.3158,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.595884,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","startTime":1647665737045,"refId":"[1.104:82]","endTime":1647665737619,"exampleData":{"datasetIdentifierCode":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7"},"exampleIndex":103},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.222 karate.env system property was: null \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":422600,"millis":0.4226,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":1977599,"millis":1.977599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379900,"millis":0.3799,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":308900,"millis":0.3089,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543063452,"millis":543.063452,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":948000,"millis":0.948,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":679401,"millis":0.679401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":696800,"millis":0.6968,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":670901,"millis":0.670901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":721400,"millis":0.7214,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":812101,"millis":0.812101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":725200,"millis":0.7252,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":677400,"millis":0.6774,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":682301,"millis":0.682301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":253600,"millis":0.2536,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.776 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":823801,"millis":0.823801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127800,"millis":0.1278,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.777 [print] OGC:WMS \n"},{"result":{"nanos":753000,"millis":0.753,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99200,"millis":0.0992,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.778 [print] #notpresent \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117600,"millis":0.1176,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.779 [print] OGC:WMS \n"},{"result":{"nanos":766401,"millis":0.766401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.780 [print] Beheer PDOK \n"},{"result":{"nanos":164700,"millis":0.1647,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.780 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":765801,"millis":0.765801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":721300,"millis":0.7213,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.781 [print] #notpresent \n"},{"result":{"nanos":851401,"millis":0.851401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.782 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":826700,"millis":0.8267,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.783 [print] \"true\";\"true\" \n"},{"result":{"nanos":341700,"millis":0.3417,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":706400,"millis":0.7064,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":444500,"millis":0.4445,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.648858,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","startTime":1647665737215,"refId":"[1.105:82]","endTime":1647665737785,"exampleData":{"datasetIdentifierCode":"ac3a9efe-2154-4a4c-aae3-ea269044945d"},"exampleIndex":104},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.351 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":377100,"millis":0.3771,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451599,"millis":0.451599,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":153700,"millis":0.1537,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548413686,"millis":548.413686,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":980200,"millis":0.9802,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":793401,"millis":0.793401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":865200,"millis":0.8652,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":842901,"millis":0.842901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1135101,"millis":1.135101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1179500,"millis":1.1795,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":769001,"millis":0.769001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":782900,"millis":0.7829,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":745501,"millis":0.745501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":335800,"millis":0.3358,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:37.910 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":930701,"millis":0.930701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":205600,"millis":0.2056,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:37.911 [print] #notpresent \n"},{"result":{"nanos":773100,"millis":0.7731,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:37.912 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137800,"millis":0.1378,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:37.912 [print] #notpresent \n"},{"result":{"nanos":886101,"millis":0.886101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:37.913 [print] Beheer PDOK \n"},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:37.913 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":872201,"millis":0.872201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":860600,"millis":0.8606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:37.915 [print] #notpresent \n"},{"result":{"nanos":1168001,"millis":1.168001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:37.917 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":995701,"millis":0.995701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:37.918 [print] \"true\";\"true\" \n"},{"result":{"nanos":397700,"millis":0.3977,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":414800,"millis":0.4148,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326300,"millis":0.3263,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.950595,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","startTime":1647665737351,"refId":"[1.106:82]","endTime":1647665737919,"exampleData":{"datasetIdentifierCode":"68d14b1c-71ad-4ce7-8267-45787a80c2d4"},"exampleIndex":105},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.572 karate.env system property was: null \n"},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97200,"millis":0.0972,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":591300,"millis":0.5913,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377800,"millis":0.3778,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548977528,"millis":548.977528,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1360401,"millis":1.360401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":1407101,"millis":1.407101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1346101,"millis":1.346101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1127800,"millis":1.1278,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1550901,"millis":1.550901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1255501,"millis":1.255501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":989801,"millis":0.989801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1111400,"millis":1.1114,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1005201,"millis":1.005201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184700,"millis":0.1847,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.134 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/wms\/v1_0?service=wms&request=getCapabilities \n"},{"result":{"nanos":928501,"millis":0.928501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130400,"millis":0.1304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.135 [print] OGC:WMS \n"},{"result":{"nanos":991200,"millis":0.9912,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.136 [print] #notpresent \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1994602,"millis":1.994602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.138 [print] OGC:WMS \n"},{"result":{"nanos":1486301,"millis":1.486301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":418600,"millis":0.4186,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.140 [print] Beheer PDOK \n"},{"result":{"nanos":1053400,"millis":1.0534,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.141 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n"},{"result":{"nanos":1372501,"millis":1.372501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1393001,"millis":1.393001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":106600,"millis":0.1066,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.144 [print] #notpresent \n"},{"result":{"nanos":1533501,"millis":1.533501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":77000,"millis":0.077,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.146 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1223701,"millis":1.223701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.147 [print] \"true\";\"true\" \n"},{"result":{"nanos":415900,"millis":0.4159,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":751801,"millis":0.751801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":492200,"millis":0.4922,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.722345,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","startTime":1647665737571,"refId":"[1.107:82]","endTime":1647665738149,"exampleData":{"datasetIdentifierCode":"94f241c2-43a2-42c3-8e9e-71976605aa0e"},"exampleIndex":106},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.621 karate.env system property was: null \n"},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298700,"millis":0.2987,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354400,"millis":0.3544,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":579800,"millis":0.5798,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121901,"millis":0.121901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535737020,"millis":535.73702,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":719001,"millis":0.719001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":833800,"millis":0.8338,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693301,"millis":0.693301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2120701,"millis":2.120701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":847900,"millis":0.8479,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":797501,"millis":0.797501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":653200,"millis":0.6532,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":618401,"millis":0.618401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":601800,"millis":0.6018,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":502400,"millis":0.5024,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":608901,"millis":0.608901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.168 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":705000,"millis":0.705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":501600,"millis":0.5016,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.170 [print] #notpresent \n"},{"result":{"nanos":686601,"millis":0.686601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":469300,"millis":0.4693,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.171 [print] OGC:WMS \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":437600,"millis":0.4376,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.171 [print] #notpresent \n"},{"result":{"nanos":855001,"millis":0.855001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":521300,"millis":0.5213,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.173 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":587001,"millis":0.587001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.173 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":683500,"millis":0.6835,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653701,"millis":0.653701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":474800,"millis":0.4748,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.175 [print] #notpresent \n"},{"result":{"nanos":707700,"millis":0.7077,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":633401,"millis":0.633401,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.177 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":653000,"millis":0.653,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":520200,"millis":0.5202,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.178 [print] \"true\";\"false\" \n"},{"result":{"nanos":293201,"millis":0.293201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":570700,"millis":0.5707,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4780703,"millis":4.780703,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.509037,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","startTime":1647665737621,"refId":"[1.108:82]","endTime":1647665738184,"exampleData":{"datasetIdentifierCode":"82fa284e-8218-40e4-a593-c2f8a832c3d5"},"exampleIndex":107},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.787 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":429301,"millis":0.429301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404800,"millis":0.4048,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76300,"millis":0.0763,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79100,"millis":0.0791,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":560805436,"millis":560.805436,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1056900,"millis":1.0569,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":843701,"millis":0.843701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":766100,"millis":0.7661,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":913101,"millis":0.913101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":935000,"millis":0.935,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":839101,"millis":0.839101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":659400,"millis":0.6594,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":712901,"millis":0.712901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":729600,"millis":0.7296,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134100,"millis":0.1341,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":861401,"millis":0.861401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.359 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":795600,"millis":0.7956,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.360 [print] #notpresent \n"},{"result":{"nanos":1133801,"millis":1.133801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130100,"millis":0.1301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.362 [print] #notpresent \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":391501,"millis":0.391501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.362 [print] #notpresent \n"},{"result":{"nanos":779300,"millis":0.7793,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100400,"millis":0.1004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.363 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":510700,"millis":0.5107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.363 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":727801,"millis":0.727801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":808000,"millis":0.808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.365 [print] #notpresent \n"},{"result":{"nanos":1000101,"millis":1.000101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.366 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1116001,"millis":1.116001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":77900,"millis":0.0779,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.368 [print] true \n"},{"result":{"nanos":612700,"millis":0.6127,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":442301,"millis":0.442301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387300,"millis":0.3873,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.184248,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","startTime":1647665737787,"refId":"[1.109:82]","endTime":1647665738369,"exampleData":{"datasetIdentifierCode":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b"},"exampleIndex":108},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:37.921 karate.env system property was: null \n"},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":446200,"millis":0.4462,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474600,"millis":0.4746,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106000,"millis":0.106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538833522,"millis":538.833522,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1137701,"millis":1.137701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":862101,"millis":0.862101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":741000,"millis":0.741,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":685601,"millis":0.685601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":882700,"millis":0.8827,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":776901,"millis":0.776901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":730500,"millis":0.7305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":632500,"millis":0.6325,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":618701,"millis":0.618701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":829500,"millis":0.8295,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":575601,"millis":0.575601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.471 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n"},{"result":{"nanos":934500,"millis":0.9345,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":4531303,"millis":4.531303,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.476 [print] #notpresent \n"},{"result":{"nanos":762600,"millis":0.7626,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.477 [print] OGC:SOS \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.477 [print] #notpresent \n"},{"result":{"nanos":2982102,"millis":2.982102,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":515201,"millis":0.515201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.481 [print] RIVM \n"},{"result":{"nanos":1376200,"millis":1.3762,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.482 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n"},{"result":{"nanos":801601,"millis":0.801601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":791400,"millis":0.7914,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65400,"millis":0.0654,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":486901,"millis":0.486901,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.484 [print] #notpresent \n"},{"result":{"nanos":727300,"millis":0.7273,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":610001,"millis":0.610001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.486 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Voldoet aan de SDS interoperabilities specificaties.\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Voldoet aan de download specificaties\";\"OGC Sensor Observation Service Interface Standard\";\"Conform OGC SOS specificaties\" \n"},{"result":{"nanos":724900,"millis":0.7249,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":524800,"millis":0.5248,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.487 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":459901,"millis":0.459901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":567100,"millis":0.5671,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":501900,"millis":0.5019,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.437938,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","startTime":1647665737921,"refId":"[1.110:82]","endTime":1647665738489,"exampleData":{"datasetIdentifierCode":"f39d198a-1e69-43cc-b359-cc60a8c22d28"},"exampleIndex":109},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.152 karate.env system property was: null \n"},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81600,"millis":0.0816,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":493700,"millis":0.4937,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442101,"millis":0.442101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98300,"millis":0.0983,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549817429,"millis":549.817429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1333301,"millis":1.333301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":1124701,"millis":1.124701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":956400,"millis":0.9564,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":890501,"millis":0.890501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1143400,"millis":1.1434,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1167801,"millis":1.167801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":752001,"millis":0.752001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":746000,"millis":0.746,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":867801,"millis":0.867801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":291600,"millis":0.2916,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":274300,"millis":0.2743,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.714 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1014001,"millis":1.014001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":220000,"millis":0.22,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.715 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":749500,"millis":0.7495,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168300,"millis":0.1683,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.716 [print] #notpresent \n"},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154600,"millis":0.1546,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.716 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":909301,"millis":0.909301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":191100,"millis":0.1911,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.717 [print] Beheer PDOK \n"},{"result":{"nanos":109300,"millis":0.1093,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.717 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n"},{"result":{"nanos":945101,"millis":0.945101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":819600,"millis":0.8196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":122700,"millis":0.1227,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.719 [print] #notpresent \n"},{"result":{"nanos":976101,"millis":0.976101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":219800,"millis":0.2198,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":185700,"millis":0.1857,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.721 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1053101,"millis":1.053101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":129500,"millis":0.1295,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.722 [print] \"true\";\"true\" \n"},{"result":{"nanos":224200,"millis":0.2242,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":513501,"millis":0.513501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451700,"millis":0.4517,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.669442,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"94e5b115-bece-4140-99ed-93b8f363948e","startTime":1647665738151,"refId":"[1.111:82]","endTime":1647665738723,"exampleData":{"datasetIdentifierCode":"94e5b115-bece-4140-99ed-93b8f363948e"},"exampleIndex":110},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.187 karate.env system property was: null \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":389600,"millis":0.3896,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381401,"millis":0.381401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":624800,"millis":0.6248,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":575875645,"millis":575.875645,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":857600,"millis":0.8576,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":751801,"millis":0.751801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":753200,"millis":0.7532,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":683301,"millis":0.683301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889800,"millis":0.8898,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":877201,"millis":0.877201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":108100,"millis":0.1081,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":704400,"millis":0.7044,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":717601,"millis":0.717601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":805700,"millis":0.8057,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1425301,"millis":1.425301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1454801,"millis":1.454801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.775 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1012900,"millis":1.0129,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":818501,"millis":0.818501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.777 [print] OGC:WMS \n"},{"result":{"nanos":757300,"millis":0.7573,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":473901,"millis":0.473901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.778 [print] #notpresent \n"},{"result":{"nanos":99800,"millis":0.0998,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":477600,"millis":0.4776,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.779 [print] OGC:WMS \n"},{"result":{"nanos":781101,"millis":0.781101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":493900,"millis":0.4939,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.780 [print] Beheer PDOK \n"},{"result":{"nanos":727600,"millis":0.7276,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.781 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":832401,"millis":0.832401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":778600,"millis":0.7786,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":145400,"millis":0.1454,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":433801,"millis":0.433801,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.783 [print] #notpresent \n"},{"result":{"nanos":1103200,"millis":1.1032,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":311700,"millis":0.3117,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1031600,"millis":1.0316,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.786 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":850501,"millis":0.850501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":286600,"millis":0.2866,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":698700,"millis":0.6987,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.788 [print] \"true\";\"true\" \n"},{"result":{"nanos":245500,"millis":0.2455,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":476901,"millis":0.476901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348800,"millis":0.3488,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":600.903259,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","startTime":1647665738186,"refId":"[1.112:82]","endTime":1647665738789,"exampleData":{"datasetIdentifierCode":"89b35a6c-c099-456b-8eaf-2b83c7a35c74"},"exampleIndex":111},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.372 karate.env system property was: null \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396200,"millis":0.3962,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":441401,"millis":0.441401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":230300,"millis":0.2303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550090429,"millis":550.090429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1305501,"millis":1.305501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":831701,"millis":0.831701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":789500,"millis":0.7895,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":811600,"millis":0.8116,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1012100,"millis":1.0121,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":968101,"millis":0.968101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":632600,"millis":0.6326,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":723601,"millis":0.723601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":798300,"millis":0.7983,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":217500,"millis":0.2175,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":185800,"millis":0.1858,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:38.933 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":1162601,"millis":1.162601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":178300,"millis":0.1783,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:38.935 [print] OGC:WFS \n"},{"result":{"nanos":917001,"millis":0.917001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":225900,"millis":0.2259,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:38.936 [print] #notpresent \n"},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:38.936 [print] OGC:WFS \n"},{"result":{"nanos":886401,"millis":0.886401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":193800,"millis":0.1938,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:38.937 [print] Beheer PDOK \n"},{"result":{"nanos":106800,"millis":0.1068,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:38.937 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":801000,"millis":0.801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":867801,"millis":0.867801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":152300,"millis":0.1523,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":146500,"millis":0.1465,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:38.939 [print] https:\/\/eur-lex.europa.eu\/eli\/reg\/2010\/1089 \n"},{"result":{"nanos":817600,"millis":0.8176,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":137901,"millis":0.137901,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":143100,"millis":0.1431,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:38.940 [print] \"OGC WFS 1.0.0\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Deze service voldoet aan de specificaties voor spatial data services\";\"harmonised\";\"De service voldoet aan de requirements van de harmonised conformance class\" \n"},{"result":{"nanos":797600,"millis":0.7976,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":137000,"millis":0.137,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":122800,"millis":0.1228,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:38.941 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":270800,"millis":0.2708,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":761901,"millis":0.761901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":469100,"millis":0.4691,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.60074,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","startTime":1647665738372,"refId":"[1.113:82]","endTime":1647665738943,"exampleData":{"datasetIdentifierCode":"63f622ef-46b3-411a-a2aa-045cabf1e3ac"},"exampleIndex":112},{"sectionIndex":0,"stepResults":[{"result":{"nanos":114800,"millis":0.1148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.528 karate.env system property was: null \n"},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":254800,"millis":0.2548,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132200,"millis":0.1322,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":601301,"millis":0.601301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":206500,"millis":0.2065,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448100,"millis":0.4481,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":113500,"millis":0.1135,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":559901,"millis":0.559901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":92300,"millis":0.0923,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":578230246,"millis":578.230246,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1102601,"millis":1.102601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":761500,"millis":0.7615,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":830201,"millis":0.830201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":810800,"millis":0.8108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1062901,"millis":1.062901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":883900,"millis":0.8839,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117100,"millis":0.1171,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":783601,"millis":0.783601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":904700,"millis":0.9047,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":871401,"millis":0.871401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212100,"millis":0.2121,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.118 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":709100,"millis":0.7091,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135801,"millis":0.135801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.119 [print] OGC:WMS \n"},{"result":{"nanos":799200,"millis":0.7992,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183100,"millis":0.1831,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.120 [print] #notpresent \n"},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136800,"millis":0.1368,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.120 [print] OGC:WMS \n"},{"result":{"nanos":855401,"millis":0.855401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.121 [print] Beheer PDOK \n"},{"result":{"nanos":143200,"millis":0.1432,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.122 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":790301,"millis":0.790301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":736600,"millis":0.7366,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":144700,"millis":0.1447,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":124100,"millis":0.1241,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.123 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":774901,"millis":0.774901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":130000,"millis":0.13,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":124900,"millis":0.1249,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.124 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":837400,"millis":0.8374,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":112600,"millis":0.1126,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":165500,"millis":0.1655,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.126 [print] \"true\";\"true\" \n"},{"result":{"nanos":236701,"millis":0.236701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":447700,"millis":0.4477,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374600,"millis":0.3746,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":597.711158,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","startTime":1647665738524,"refId":"[1.114:82]","endTime":1647665739127,"exampleData":{"datasetIdentifierCode":"25c69c01-8dfa-406f-bbcb-24feba25dcc6"},"exampleIndex":113},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.726 karate.env system property was: null \n"},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":136100,"millis":0.1361,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126200,"millis":0.1262,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":473600,"millis":0.4736,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":130900,"millis":0.1309,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452601,"millis":0.452601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92100,"millis":0.0921,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160600,"millis":0.1606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537689722,"millis":537.689722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":975800,"millis":0.9758,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":837001,"millis":0.837001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":824400,"millis":0.8244,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690701,"millis":0.690701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":849500,"millis":0.8495,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":648601,"millis":0.648601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":575200,"millis":0.5752,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":580600,"millis":0.5806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":606701,"millis":0.606701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86000,"millis":0.086,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127800,"millis":0.1278,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.273 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":653000,"millis":0.653,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.274 [print] #notpresent \n"},{"result":{"nanos":667401,"millis":0.667401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.275 [print] #notpresent \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.275 [print] #notpresent \n"},{"result":{"nanos":710100,"millis":0.7101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.276 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.276 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":696001,"millis":0.696001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":695500,"millis":0.6955,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.277 [print] #notpresent \n"},{"result":{"nanos":715901,"millis":0.715901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":116300,"millis":0.1163,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.278 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":968400,"millis":0.9684,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.279 [print] true \n"},{"result":{"nanos":410500,"millis":0.4105,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":504800,"millis":0.5048,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352400,"millis":0.3524,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":553.701831,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","startTime":1647665738726,"refId":"[1.115:82]","endTime":1647665739281,"exampleData":{"datasetIdentifierCode":"7d641d0e-c04b-4191-833e-c578ac2abe5f"},"exampleIndex":114},{"sectionIndex":0,"stepResults":[{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.792 karate.env system property was: null \n"},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":159700,"millis":0.1597,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":188300,"millis":0.1883,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":571301,"millis":0.571301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1465201,"millis":1.465201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":124800,"millis":0.1248,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414400,"millis":0.4144,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547672528,"millis":547.672528,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":685300,"millis":0.6853,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":737801,"millis":0.737801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681900,"millis":0.6819,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":795201,"millis":0.795201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":771700,"millis":0.7717,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":713801,"millis":0.713801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695800,"millis":0.6958,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":674800,"millis":0.6748,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":662501,"millis":0.662501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101700,"millis":0.1017,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.350 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":714600,"millis":0.7146,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.351 [print] OGC:WMS \n"},{"result":{"nanos":647001,"millis":0.647001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.352 [print] #notpresent \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.352 [print] OGC:WMS \n"},{"result":{"nanos":652700,"millis":0.6527,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.353 [print] Beheer PDOK \n"},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.353 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":675301,"millis":0.675301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":814400,"millis":0.8144,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.354 [print] #notpresent \n"},{"result":{"nanos":771101,"millis":0.771101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":109500,"millis":0.1095,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.355 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":898301,"millis":0.898301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.356 [print] \"true\";\"true\" \n"},{"result":{"nanos":262200,"millis":0.2622,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":375100,"millis":0.3751,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378600,"millis":0.3786,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.779838,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","startTime":1647665738791,"refId":"[1.116:82]","endTime":1647665739358,"exampleData":{"datasetIdentifierCode":"7b8f44b5-6eae-4113-a835-84b8678c3dd5"},"exampleIndex":115},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:38.946 karate.env system property was: null \n"},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":509201,"millis":0.509201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148400,"millis":0.1484,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415500,"millis":0.4155,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160700,"millis":0.1607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555948133,"millis":555.948133,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1039001,"millis":1.039001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":1004900,"millis":1.0049,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":767201,"millis":0.767201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":860000,"millis":0.86,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":861701,"millis":0.861701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":810900,"millis":0.8109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":689001,"millis":0.689001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":883800,"millis":0.8838,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":763301,"millis":0.763301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":690400,"millis":0.6904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":518700,"millis":0.5187,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.513 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":702301,"millis":0.702301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.514 [print] OGC:WMS \n"},{"result":{"nanos":937701,"millis":0.937701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.515 [print] #notpresent \n"},{"result":{"nanos":268600,"millis":0.2686,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.516 [print] OGC:WMS \n"},{"result":{"nanos":939800,"millis":0.9398,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133900,"millis":0.1339,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.517 [print] Beheer PDOK \n"},{"result":{"nanos":482001,"millis":0.482001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.517 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":764300,"millis":0.7643,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697401,"millis":0.697401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.519 [print] #notpresent \n"},{"result":{"nanos":1184000,"millis":1.184,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.520 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":868700,"millis":0.8687,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":161200,"millis":0.1612,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.521 [print] \"true\";\"true\" \n"},{"result":{"nanos":439101,"millis":0.439101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":425900,"millis":0.4259,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320700,"millis":0.3207,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.739445,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","startTime":1647665738945,"refId":"[1.117:82]","endTime":1647665739523,"exampleData":{"datasetIdentifierCode":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b"},"exampleIndex":116},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.129 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":385100,"millis":0.3851,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382000,"millis":0.382,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547809128,"millis":547.809128,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":989801,"millis":0.989801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":807100,"millis":0.8071,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":765801,"millis":0.765801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":738600,"millis":0.7386,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":890701,"millis":0.890701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":990100,"millis":0.9901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":620601,"millis":0.620601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":627700,"millis":0.6277,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":789901,"millis":0.789901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152700,"millis":0.1527,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.686 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":732900,"millis":0.7329,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.687 [print] OGC:WFS \n"},{"result":{"nanos":679101,"millis":0.679101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.688 [print] #notpresent \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.688 [print] OGC:WFS \n"},{"result":{"nanos":747000,"millis":0.747,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.689 [print] Beheer PDOK \n"},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.689 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":723901,"millis":0.723901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":729500,"millis":0.7295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":93300,"millis":0.0933,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.690 [print] #notpresent \n"},{"result":{"nanos":905701,"millis":0.905701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":109900,"millis":0.1099,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.691 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":724501,"millis":0.724501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.692 [print] \"true\";\"true\" \n"},{"result":{"nanos":383300,"millis":0.3833,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":549500,"millis":0.5495,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318900,"millis":0.3189,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.913837,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b023459a-9f0e-4d53-8059-a794119abbed","startTime":1647665739129,"refId":"[1.118:82]","endTime":1647665739694,"exampleData":{"datasetIdentifierCode":"b023459a-9f0e-4d53-8059-a794119abbed"},"exampleIndex":117},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.283 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372700,"millis":0.3727,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374600,"millis":0.3746,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535055820,"millis":535.05582,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1189800,"millis":1.1898,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":1121101,"millis":1.121101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":777701,"millis":0.777701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":667300,"millis":0.6673,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":838201,"millis":0.838201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":783800,"millis":0.7838,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":616700,"millis":0.6167,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":763101,"millis":0.763101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":726200,"millis":0.7262,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":182100,"millis":0.1821,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.827 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":658600,"millis":0.6586,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140100,"millis":0.1401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.828 [print] OGC:WFS \n"},{"result":{"nanos":657300,"millis":0.6573,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76500,"millis":0.0765,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.829 [print] #notpresent \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.829 [print] OGC:WFS \n"},{"result":{"nanos":738800,"millis":0.7388,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137300,"millis":0.1373,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.830 [print] Beheer PDOK \n"},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.830 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":726601,"millis":0.726601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":818200,"millis":0.8182,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.832 [print] #notpresent \n"},{"result":{"nanos":825801,"millis":0.825801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.833 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":961500,"millis":0.9615,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.834 [print] \"true\";\"true\" \n"},{"result":{"nanos":483901,"millis":0.483901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":453900,"millis":0.4539,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362300,"millis":0.3623,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":551.636329,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d7d19437-f875-45b3-86cd-2fa3335479ec","startTime":1647665739283,"refId":"[1.119:82]","endTime":1647665739835,"exampleData":{"datasetIdentifierCode":"d7d19437-f875-45b3-86cd-2fa3335479ec"},"exampleIndex":118},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.360 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343300,"millis":0.3433,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396800,"millis":0.3968,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97500,"millis":0.0975,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540989524,"millis":540.989524,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1098201,"millis":1.098201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":956600,"millis":0.9566,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1505201,"millis":1.505201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":883301,"millis":0.883301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":825300,"millis":0.8253,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":707501,"millis":0.707501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":607300,"millis":0.6073,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":656601,"millis":0.656601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":686100,"millis":0.6861,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139000,"millis":0.139,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:39.911 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n"},{"result":{"nanos":1038701,"millis":1.038701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":238700,"millis":0.2387,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:39.912 [print] OGC:WMS \n"},{"result":{"nanos":806301,"millis":0.806301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94200,"millis":0.0942,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:39.913 [print] #notpresent \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:39.913 [print] OGC:WMS \n"},{"result":{"nanos":960500,"millis":0.9605,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:39.914 [print] Beheer PDOK \n"},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:39.914 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":782401,"millis":0.782401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":813500,"millis":0.8135,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:39.916 [print] #notpresent \n"},{"result":{"nanos":849201,"millis":0.849201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:39.917 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":841701,"millis":0.841701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:39.918 [print] \"true\";\"true\" \n"},{"result":{"nanos":363500,"millis":0.3635,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":491800,"millis":0.4918,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317700,"millis":0.3177,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.579434,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a7aeddf2-3b37-4668-9c75-de93d9326276","startTime":1647665739359,"refId":"[1.120:82]","endTime":1647665739919,"exampleData":{"datasetIdentifierCode":"a7aeddf2-3b37-4668-9c75-de93d9326276"},"exampleIndex":119},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.526 karate.env system property was: null \n"},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":485801,"millis":0.485801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457300,"millis":0.4573,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":457500,"millis":0.4575,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531291218,"millis":531.291218,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1185801,"millis":1.185801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":884201,"millis":0.884201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":795400,"millis":0.7954,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":892201,"millis":0.892201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2192901,"millis":2.192901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1043001,"millis":1.043001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":614100,"millis":0.6141,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":617100,"millis":0.6171,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":638601,"millis":0.638601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":172300,"millis":0.1723,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.069 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":663400,"millis":0.6634,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.070 [print] OGC:WFS \n"},{"result":{"nanos":642001,"millis":0.642001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.071 [print] #notpresent \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.071 [print] OGC:WFS \n"},{"result":{"nanos":768200,"millis":0.7682,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.071 [print] Beheer PDOK \n"},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.072 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":819400,"millis":0.8194,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":740000,"millis":0.74,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.073 [print] #notpresent \n"},{"result":{"nanos":827600,"millis":0.8276,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":107700,"millis":0.1077,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.074 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":772201,"millis":0.772201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.075 [print] \"true\";\"true\" \n"},{"result":{"nanos":440700,"millis":0.4407,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":618400,"millis":0.6184,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406801,"millis":0.406801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":549.985429,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1601e160-91e8-4091-9aca-10294f819d42","startTime":1647665739524,"refId":"[1.121:82]","endTime":1647665740077,"exampleData":{"datasetIdentifierCode":"1601e160-91e8-4091-9aca-10294f819d42"},"exampleIndex":120},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.696 karate.env system property was: null \n"},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107200,"millis":0.1072,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346300,"millis":0.3463,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":383900,"millis":0.3839,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545895526,"millis":545.895526,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":913601,"millis":0.913601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":743000,"millis":0.743,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":651501,"millis":0.651501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":784700,"millis":0.7847,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":812701,"millis":0.812701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1022900,"millis":1.0229,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":754901,"millis":0.754901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":726200,"millis":0.7262,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":707701,"millis":0.707701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100900,"millis":0.1009,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171900,"millis":0.1719,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.251 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":669500,"millis":0.6695,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90800,"millis":0.0908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.252 [print] OGC:WMS \n"},{"result":{"nanos":705401,"millis":0.705401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.252 [print] #notpresent \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.253 [print] OGC:WMS \n"},{"result":{"nanos":951900,"millis":0.9519,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.254 [print] Beheer PDOK \n"},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.254 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":810900,"millis":0.8109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664100,"millis":0.6641,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.255 [print] #notpresent \n"},{"result":{"nanos":720400,"millis":0.7204,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":120000,"millis":0.12,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.256 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":745901,"millis":0.745901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.257 [print] \"true\";\"true\" \n"},{"result":{"nanos":468500,"millis":0.4685,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":539900,"millis":0.5399,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376901,"millis":0.376901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.171937,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"275b64ab-34c2-41f8-8904-97812c7f716e","startTime":1647665739696,"refId":"[1.122:82]","endTime":1647665740259,"exampleData":{"datasetIdentifierCode":"275b64ab-34c2-41f8-8904-97812c7f716e"},"exampleIndex":121},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.838 karate.env system property was: null \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":435100,"millis":0.4351,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385401,"millis":0.385401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510489305,"millis":510.489305,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1106701,"millis":1.106701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'"}},{"result":{"nanos":667700,"millis":0.6677,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":858201,"millis":0.858201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":742600,"millis":0.7426,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":751001,"millis":0.751001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":631300,"millis":0.6313,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":858301,"millis":0.858301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":729700,"millis":0.7297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":597100,"millis":0.5971,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83201,"millis":0.083201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119500,"millis":0.1195,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.357 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":825300,"millis":0.8253,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106800,"millis":0.1068,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.358 [print] INSPIRE Atom \n"},{"result":{"nanos":658301,"millis":0.658301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.359 [print] #notpresent \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133400,"millis":0.1334,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.359 [print] INSPIRE Atom \n"},{"result":{"nanos":792100,"millis":0.7921,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.360 [print] Beheer PDOK \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.360 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":668101,"millis":0.668101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":712500,"millis":0.7125,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.362 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":852001,"millis":0.852001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.363 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":925900,"millis":0.9259,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":104001,"millis":0.104001,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.364 [print] \"true\";\"true\" \n"},{"result":{"nanos":413800,"millis":0.4138,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":545200,"millis":0.5452,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":501400,"millis":0.5014,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":526.807215,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","startTime":1647665739838,"refId":"[1.123:82]","endTime":1647665740366,"exampleData":{"datasetIdentifierCode":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3"},"exampleIndex":122},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:39.921 karate.env system property was: null \n"},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372700,"millis":0.3727,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376900,"millis":0.3769,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525239914,"millis":525.239914,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":855201,"millis":0.855201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":740000,"millis":0.74,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":902901,"millis":0.902901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":744400,"millis":0.7444,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":810900,"millis":0.8109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":758101,"millis":0.758101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":821900,"millis":0.8219,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":745001,"millis":0.745001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698300,"millis":0.6983,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97600,"millis":0.0976,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":156701,"millis":0.156701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.456 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":696300,"millis":0.6963,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.457 [print] INSPIRE Atom \n"},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175100,"millis":0.1751,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.458 [print] #notpresent \n"},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.458 [print] INSPIRE Atom \n"},{"result":{"nanos":822200,"millis":0.8222,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.459 [print] Beheer PDOK \n"},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.459 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":652801,"millis":0.652801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662000,"millis":0.662,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":161300,"millis":0.1613,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.461 [print] #notpresent \n"},{"result":{"nanos":712001,"millis":0.712001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.461 [print] #notpresent \n"},{"result":{"nanos":709400,"millis":0.7094,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103900,"millis":0.1039,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.462 [print] #notpresent \n"},{"result":{"nanos":409901,"millis":0.409901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":520100,"millis":0.5201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461300,"millis":0.4613,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":541.494824,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","startTime":1647665739921,"refId":"[1.124:82]","endTime":1647665740464,"exampleData":{"datasetIdentifierCode":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9"},"exampleIndex":123},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.079 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356701,"millis":0.356701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363500,"millis":0.3635,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552248930,"millis":552.24893,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":884401,"millis":0.884401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":719300,"millis":0.7193,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":709801,"millis":0.709801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714800,"millis":0.7148,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":917801,"millis":0.917801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":704300,"millis":0.7043,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":682001,"millis":0.682001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":642100,"millis":0.6421,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":667200,"millis":0.6672,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":449500,"millis":0.4495,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":389500,"millis":0.3895,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.640 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":698700,"millis":0.6987,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":351301,"millis":0.351301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.642 [print] OGC:WFS \n"},{"result":{"nanos":808000,"millis":0.808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.643 [print] #notpresent \n"},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.643 [print] OGC:WFS \n"},{"result":{"nanos":920301,"millis":0.920301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.644 [print] Beheer PDOK \n"},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.644 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":778700,"millis":0.7787,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":746501,"millis":0.746501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.645 [print] #notpresent \n"},{"result":{"nanos":987501,"millis":0.987501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":140400,"millis":0.1404,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.647 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":895900,"millis":0.8959,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115000,"millis":0.115,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.648 [print] \"true\";\"true\" \n"},{"result":{"nanos":381601,"millis":0.381601,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":555300,"millis":0.5553,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":391100,"millis":0.3911,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.29364,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bc0b75c6-3eef-49de-aca2-8483024903c1","startTime":1647665740079,"refId":"[1.125:82]","endTime":1647665740649,"exampleData":{"datasetIdentifierCode":"bc0b75c6-3eef-49de-aca2-8483024903c1"},"exampleIndex":124},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.261 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":529400,"millis":0.5294,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433901,"millis":0.433901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '47470f53-e0aa-45f3-ada3-ddf130dd54af'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554956832,"millis":554.956832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1153601,"millis":1.153601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '47470f53-e0aa-45f3-ada3-ddf130dd54af'"}},{"result":{"nanos":743100,"millis":0.7431,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":871001,"millis":0.871001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":772300,"millis":0.7723,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":696401,"millis":0.696401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":780100,"millis":0.7801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":576501,"millis":0.576501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":660600,"millis":0.6606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":752800,"millis":0.7528,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":565701,"millis":0.565701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":639000,"millis":0.639,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.826 [print] https:\/\/service.pdok.nl\/cbs\/wb2021\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":677401,"millis":0.677401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":520600,"millis":0.5206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.827 [print] INSPIRE Atom \n"},{"result":{"nanos":712100,"millis":0.7121,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":740501,"millis":0.740501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.829 [print] #notpresent \n"},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":560800,"millis":0.5608,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.830 [print] INSPIRE Atom \n"},{"result":{"nanos":770501,"millis":0.770501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":524700,"millis":0.5247,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.831 [print] Beheer PDOK \n"},{"result":{"nanos":633000,"millis":0.633,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.832 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification \n"},{"result":{"nanos":817701,"millis":0.817701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":752700,"millis":0.7527,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":96200,"millis":0.0962,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.833 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":792601,"millis":0.792601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":215300,"millis":0.2153,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.834 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1228301,"millis":1.228301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":135100,"millis":0.1351,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.836 [print] \"true\";\"true\" \n"},{"result":{"nanos":651600,"millis":0.6516,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"47470f53-e0aa-45f3-ada3-ddf130dd54af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":643701,"millis":0.643701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"47470f53-e0aa-45f3-ada3-ddf130dd54af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423100,"millis":0.4231,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"47470f53-e0aa-45f3-ada3-ddf130dd54af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.792745,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"47470f53-e0aa-45f3-ada3-ddf130dd54af","startTime":1647665740261,"refId":"[1.126:82]","endTime":1647665740838,"exampleData":{"datasetIdentifierCode":"47470f53-e0aa-45f3-ada3-ddf130dd54af"},"exampleIndex":125},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.368 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347600,"millis":0.3476,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424901,"millis":0.424901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":615700,"millis":0.6157,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537848922,"millis":537.848922,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":706500,"millis":0.7065,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":753901,"millis":0.753901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799300,"millis":0.7993,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":735301,"millis":0.735301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":683200,"millis":0.6832,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":693901,"millis":0.693901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":629900,"millis":0.6299,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":26514016,"millis":26.514016,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":383401,"millis":0.383401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":227900,"millis":0.2279,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:40.941 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1144800,"millis":1.1448,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":204500,"millis":0.2045,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:40.942 [print] #notpresent \n"},{"result":{"nanos":3538303,"millis":3.538303,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":807000,"millis":0.807,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:40.946 [print] INSPIRE Atom \n"},{"result":{"nanos":113200,"millis":0.1132,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128900,"millis":0.1289,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:40.947 [print] #notpresent \n"},{"result":{"nanos":821901,"millis":0.821901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153800,"millis":0.1538,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:40.948 [print] Beheer PDOK \n"},{"result":{"nanos":151500,"millis":0.1515,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:40.948 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":713700,"millis":0.7137,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":716701,"millis":0.716701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":145400,"millis":0.1454,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":144400,"millis":0.1444,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:40.950 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":903201,"millis":0.903201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":132900,"millis":0.1329,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":142900,"millis":0.1429,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:40.951 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":731000,"millis":0.731,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":125900,"millis":0.1259,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":144100,"millis":0.1441,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:40.952 [print] \"true\";\"true\" \n"},{"result":{"nanos":294701,"millis":0.294701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1669401,"millis":1.669401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":454500,"millis":0.4545,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":585.741651,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","startTime":1647665740368,"refId":"[1.127:82]","endTime":1647665740954,"exampleData":{"datasetIdentifierCode":"c21c6bf5-8899-4b46-8986-0f65eca05ed0"},"exampleIndex":126},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.466 karate.env system property was: null \n"},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":335100,"millis":0.3351,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375300,"millis":0.3753,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60400,"millis":0.0604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561769036,"millis":561.769036,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":913600,"millis":0.9136,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":580801,"millis":0.580801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":641300,"millis":0.6413,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":771200,"millis":0.7712,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":812301,"millis":0.812301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":770000,"millis":0.77,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":112601,"millis":0.112601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":630500,"millis":0.6305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655700,"millis":0.6557,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":728001,"millis":0.728001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":994800,"millis":0.9948,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":541801,"millis":0.541801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.038 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":2347601,"millis":2.347601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":450500,"millis":0.4505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.040 [print] INSPIRE Atom \n"},{"result":{"nanos":2505602,"millis":2.505602,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":412000,"millis":0.412,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.043 [print] #notpresent \n"},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":414600,"millis":0.4146,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.044 [print] INSPIRE Atom \n"},{"result":{"nanos":647401,"millis":0.647401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":460000,"millis":0.46,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.045 [print] Beheer PDOK \n"},{"result":{"nanos":574000,"millis":0.574,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.046 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification\"] \n"},{"result":{"nanos":3762403,"millis":3.762403,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":973700,"millis":0.9737,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":184100,"millis":0.1841,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":175601,"millis":0.175601,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.051 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":732400,"millis":0.7324,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":205700,"millis":0.2057,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":178400,"millis":0.1784,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.052 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":753201,"millis":0.753201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":179800,"millis":0.1798,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":147100,"millis":0.1471,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.053 [print] \"true\";\"true\" \n"},{"result":{"nanos":262000,"millis":0.262,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":487000,"millis":0.487,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":595001,"millis":0.595001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":587.652951,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7a748a59-36f4-475b-9647-402b5ce89a1c","startTime":1647665740466,"refId":"[1.128:82]","endTime":1647665741055,"exampleData":{"datasetIdentifierCode":"7a748a59-36f4-475b-9647-402b5ce89a1c"},"exampleIndex":127},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.652 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":547600,"millis":0.5476,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":539601,"millis":0.539601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558988834,"millis":558.988834,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1102301,"millis":1.102301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":685400,"millis":0.6854,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681601,"millis":0.681601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":696900,"millis":0.6969,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":915201,"millis":0.915201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1057100,"millis":1.0571,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":152100,"millis":0.1521,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":765201,"millis":0.765201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":785800,"millis":0.7858,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":625901,"millis":0.625901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1246201,"millis":1.246201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":682200,"millis":0.6822,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.222 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":669800,"millis":0.6698,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":421101,"millis":0.421101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.223 [print] #notpresent \n"},{"result":{"nanos":761100,"millis":0.7611,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":458000,"millis":0.458,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.224 [print] INSPIRE Atom \n"},{"result":{"nanos":160501,"millis":0.160501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":523400,"millis":0.5234,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.225 [print] #notpresent \n"},{"result":{"nanos":828600,"millis":0.8286,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":440601,"millis":0.440601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.226 [print] Beheer PDOK \n"},{"result":{"nanos":587200,"millis":0.5872,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.227 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":802000,"millis":0.802,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":749301,"millis":0.749301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":201400,"millis":0.2014,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":639600,"millis":0.6396,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.229 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":877401,"millis":0.877401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":120600,"millis":0.1206,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":866701,"millis":0.866701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.231 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":671200,"millis":0.6712,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":119400,"millis":0.1194,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":487800,"millis":0.4878,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.233 [print] \"true\";\"true\" \n"},{"result":{"nanos":236101,"millis":0.236101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":490000,"millis":0.49,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2184001,"millis":2.184001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":583.257249,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0898d4a9-8fe6-46e9-8855-1242d8028970","startTime":1647665740651,"refId":"[1.129:82]","endTime":1647665741236,"exampleData":{"datasetIdentifierCode":"0898d4a9-8fe6-46e9-8855-1242d8028970"},"exampleIndex":128},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.840 karate.env system property was: null \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":410900,"millis":0.4109,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":487900,"millis":0.4879,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552321630,"millis":552.32163,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1108801,"millis":1.108801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":768000,"millis":0.768,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":653601,"millis":0.653601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":663600,"millis":0.6636,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":910801,"millis":0.910801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":740200,"millis":0.7402,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":946001,"millis":0.946001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":738300,"millis":0.7383,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":648900,"millis":0.6489,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155100,"millis":0.1551,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":194200,"millis":0.1942,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.402 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":757100,"millis":0.7571,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147600,"millis":0.1476,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.403 [print] INSPIRE Atom \n"},{"result":{"nanos":766301,"millis":0.766301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":189200,"millis":0.1892,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.404 [print] #notpresent \n"},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.404 [print] INSPIRE Atom \n"},{"result":{"nanos":723600,"millis":0.7236,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":204701,"millis":0.204701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.405 [print] Beheer PDOK \n"},{"result":{"nanos":121400,"millis":0.1214,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.405 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":723400,"millis":0.7234,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715801,"millis":0.715801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":268300,"millis":0.2683,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.407 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":768000,"millis":0.768,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":211300,"millis":0.2113,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":170100,"millis":0.1701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.408 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":730800,"millis":0.7308,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":154600,"millis":0.1546,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":250400,"millis":0.2504,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.410 [print] \"true\";\"true\" \n"},{"result":{"nanos":399200,"millis":0.3992,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":570801,"millis":0.570801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395500,"millis":0.3955,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.116038,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"deaf8380-ad45-48d2-8c3e-81164471bafb","startTime":1647665740840,"refId":"[1.130:82]","endTime":1647665741411,"exampleData":{"datasetIdentifierCode":"deaf8380-ad45-48d2-8c3e-81164471bafb"},"exampleIndex":129},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:40.958 karate.env system property was: null \n"},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":189700,"millis":0.1897,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":224901,"millis":0.224901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":512100,"millis":0.5121,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":146900,"millis":0.1469,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":782301,"millis":0.782301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":129700,"millis":0.1297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147000,"millis":0.147,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":597364557,"millis":597.364557,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1155301,"millis":1.155301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":888201,"millis":0.888201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":752900,"millis":0.7529,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":755101,"millis":0.755101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1258200,"millis":1.2582,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1006301,"millis":1.006301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":144600,"millis":0.1446,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":744301,"millis":0.744301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":660300,"millis":0.6603,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674900,"millis":0.6749,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.567 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":725501,"millis":0.725501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.568 [print] INSPIRE Atom \n"},{"result":{"nanos":586700,"millis":0.5867,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.569 [print] #notpresent \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.569 [print] INSPIRE Atom \n"},{"result":{"nanos":754101,"millis":0.754101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.570 [print] Beheer PDOK \n"},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.570 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":689400,"millis":0.6894,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":859100,"millis":0.8591,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.571 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":716901,"millis":0.716901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":129400,"millis":0.1294,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.572 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":800900,"millis":0.8009,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":141700,"millis":0.1417,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.573 [print] \"true\";\"true\" \n"},{"result":{"nanos":289600,"millis":0.2896,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":473101,"millis":0.473101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363400,"millis":0.3634,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":615.569168,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","startTime":1647665740957,"refId":"[1.131:82]","endTime":1647665741575,"exampleData":{"datasetIdentifierCode":"0080a9ce-b836-45bc-8fdf-07dcbe97101d"},"exampleIndex":130},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.058 karate.env system property was: null \n"},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":189700,"millis":0.1897,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174500,"millis":0.1745,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":498001,"millis":0.498001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139400,"millis":0.1394,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":492000,"millis":0.492,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":168400,"millis":0.1684,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550966230,"millis":550.96623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":951201,"millis":0.951201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":666500,"millis":0.6665,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":638900,"millis":0.6389,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":633801,"millis":0.633801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":689800,"millis":0.6898,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":687701,"millis":0.687701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":625400,"millis":0.6254,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":539400,"millis":0.5394,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":699301,"millis":0.699301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69700,"millis":0.0697,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.618 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":649900,"millis":0.6499,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.619 [print] INSPIRE Atom \n"},{"result":{"nanos":560701,"millis":0.560701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.619 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.619 [print] INSPIRE Atom \n"},{"result":{"nanos":670100,"millis":0.6701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.620 [print] Beheer PDOK \n"},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.620 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":871501,"millis":0.871501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":826600,"millis":0.8266,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.622 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":728501,"millis":0.728501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.623 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":703500,"millis":0.7035,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.624 [print] \"true\";\"true\" \n"},{"result":{"nanos":379100,"millis":0.3791,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":423700,"millis":0.4237,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302700,"millis":0.3027,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.413639,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","startTime":1647665741057,"refId":"[1.132:82]","endTime":1647665741625,"exampleData":{"datasetIdentifierCode":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb"},"exampleIndex":131},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.240 karate.env system property was: null \n"},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133600,"millis":0.1336,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122600,"millis":0.1226,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421200,"millis":0.4212,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139401,"millis":0.139401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457400,"millis":0.4574,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":624100,"millis":0.6241,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548449229,"millis":548.449229,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":909100,"millis":0.9091,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":806401,"millis":0.806401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":655800,"millis":0.6558,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":577200,"millis":0.5772,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":712301,"millis":0.712301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":736800,"millis":0.7368,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":588501,"millis":0.588501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":659500,"millis":0.6595,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":594101,"millis":0.594101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":230200,"millis":0.2302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.798 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":607600,"millis":0.6076,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.799 [print] INSPIRE Atom \n"},{"result":{"nanos":683501,"millis":0.683501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.800 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.800 [print] INSPIRE Atom \n"},{"result":{"nanos":817300,"millis":0.8173,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103900,"millis":0.1039,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.801 [print] Beheer PDOK \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.801 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":596601,"millis":0.596601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":735000,"millis":0.735,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.802 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":903201,"millis":0.903201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.803 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":727900,"millis":0.7279,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.804 [print] \"true\";\"true\" \n"},{"result":{"nanos":368101,"millis":0.368101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":427800,"millis":0.4278,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323100,"millis":0.3231,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.298938,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"54122631-d343-40be-9c28-e44626b37a0e","startTime":1647665741239,"refId":"[1.133:82]","endTime":1647665741805,"exampleData":{"datasetIdentifierCode":"54122631-d343-40be-9c28-e44626b37a0e"},"exampleIndex":132},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.414 karate.env system property was: null \n"},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":223200,"millis":0.2232,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":164000,"millis":0.164,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":841801,"millis":0.841801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2031001,"millis":2.031001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1321601,"millis":1.321601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":117900,"millis":0.1179,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":313000,"millis":0.313,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":106600,"millis":0.1066,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76101,"millis":0.076101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531044717,"millis":531.044717,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":796501,"millis":0.796501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":747400,"millis":0.7474,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":689701,"millis":0.689701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":840400,"millis":0.8404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":680201,"millis":0.680201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":711700,"millis":0.7117,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":760401,"millis":0.760401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":613200,"millis":0.6132,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655500,"millis":0.6555,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:41.958 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":659300,"millis":0.6593,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86400,"millis":0.0864,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:41.959 [print] #notpresent \n"},{"result":{"nanos":593500,"millis":0.5935,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:41.960 [print] INSPIRE Atom \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:41.960 [print] #notpresent \n"},{"result":{"nanos":792701,"millis":0.792701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:41.961 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:41.961 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":786501,"millis":0.786501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":763800,"millis":0.7638,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:41.962 [print] #notpresent \n"},{"result":{"nanos":689600,"millis":0.6896,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:41.963 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":763500,"millis":0.7635,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:41.964 [print] \"true\";\"true\" \n"},{"result":{"nanos":381200,"millis":0.3812,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":537701,"millis":0.537701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306200,"millis":0.3062,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":550.33483,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","startTime":1647665741414,"refId":"[1.134:82]","endTime":1647665741966,"exampleData":{"datasetIdentifierCode":"1d3c777a-3527-4aa1-8573-d6aeeff115e5"},"exampleIndex":133},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.577 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":442900,"millis":0.4429,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354100,"millis":0.3541,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542082525,"millis":542.082525,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":910000,"millis":0.91,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'"}},{"result":{"nanos":824701,"millis":0.824701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":588900,"millis":0.5889,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":619001,"millis":0.619001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":651200,"millis":0.6512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":717100,"millis":0.7171,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":563601,"millis":0.563601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":967700,"millis":0.9677,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":755901,"millis":0.755901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":511400,"millis":0.5114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.128 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":751501,"millis":0.751501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126900,"millis":0.1269,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.129 [print] INSPIRE Atom \n"},{"result":{"nanos":723000,"millis":0.723,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.130 [print] #notpresent \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.130 [print] INSPIRE Atom \n"},{"result":{"nanos":835801,"millis":0.835801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111200,"millis":0.1112,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.131 [print] Beheer PDOK \n"},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.131 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":717600,"millis":0.7176,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664301,"millis":0.664301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.133 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":650400,"millis":0.6504,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.133 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":762801,"millis":0.762801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.134 [print] \"true\";\"true\" \n"},{"result":{"nanos":371000,"millis":0.371,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":3632802,"millis":3.632802,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":399501,"millis":0.399501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.926836,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","startTime":1647665741577,"refId":"[1.135:82]","endTime":1647665742139,"exampleData":{"datasetIdentifierCode":"1512b29e-80d4-4677-bcae-a3f9f82a223d"},"exampleIndex":134},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.627 karate.env system property was: null \n"},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":313500,"millis":0.3135,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401800,"millis":0.4018,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26501,"millis":0.026501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69700,"millis":0.0697,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525662014,"millis":525.662014,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":708401,"millis":0.708401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":720300,"millis":0.7203,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706500,"millis":0.7065,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":692401,"millis":0.692401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":658800,"millis":0.6588,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":633801,"millis":0.633801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":577200,"millis":0.5772,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":812301,"millis":0.812301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":575900,"millis":0.5759,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":610400,"millis":0.6104,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":425201,"millis":0.425201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.162 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":576200,"millis":0.5762,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":406200,"millis":0.4062,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.163 [print] INSPIRE Atom \n"},{"result":{"nanos":566400,"millis":0.5664,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":354801,"millis":0.354801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.164 [print] #notpresent \n"},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":342500,"millis":0.3425,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.164 [print] INSPIRE Atom \n"},{"result":{"nanos":619600,"millis":0.6196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":359301,"millis":0.359301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.165 [print] Beheer PDOK \n"},{"result":{"nanos":416800,"millis":0.4168,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.166 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":1262401,"millis":1.262401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":614600,"millis":0.6146,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":420200,"millis":0.4202,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.168 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":620301,"millis":0.620301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":459100,"millis":0.4591,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.169 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":684600,"millis":0.6846,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":648901,"millis":0.648901,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.171 [print] \"true\";\"true\" \n"},{"result":{"nanos":316000,"millis":0.316,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":376400,"millis":0.3764,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332200,"millis":0.3322,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":543.672525,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","startTime":1647665741627,"refId":"[1.136:82]","endTime":1647665742172,"exampleData":{"datasetIdentifierCode":"bb85e473-c04a-42a6-9fdc-f0bb0239327e"},"exampleIndex":135},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.808 karate.env system property was: null \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366300,"millis":0.3663,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":343800,"millis":0.3438,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534226520,"millis":534.22652,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1028301,"millis":1.028301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":1141000,"millis":1.141,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":777101,"millis":0.777101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":707500,"millis":0.7075,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1043901,"millis":1.043901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":731000,"millis":0.731,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":629501,"millis":0.629501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1405601,"millis":1.405601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":722300,"millis":0.7223,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1201301,"millis":1.201301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1251501,"millis":1.251501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.354 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":661300,"millis":0.6613,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":443900,"millis":0.4439,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.356 [print] #notpresent \n"},{"result":{"nanos":750001,"millis":0.750001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":456500,"millis":0.4565,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.357 [print] INSPIRE Atom \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":370200,"millis":0.3702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.357 [print] #notpresent \n"},{"result":{"nanos":967201,"millis":0.967201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":356300,"millis":0.3563,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.359 [print] Beheer PDOK \n"},{"result":{"nanos":796701,"millis":0.796701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.359 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n"},{"result":{"nanos":720700,"millis":0.7207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":733900,"millis":0.7339,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":660700,"millis":0.6607,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.362 [print] #notpresent \n"},{"result":{"nanos":911600,"millis":0.9116,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":695500,"millis":0.6955,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.363 [print] \"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":995501,"millis":0.995501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":382300,"millis":0.3823,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.365 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":463200,"millis":0.4632,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":586200,"millis":0.5862,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436901,"millis":0.436901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.675634,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","startTime":1647665741808,"refId":"[1.137:82]","endTime":1647665742366,"exampleData":{"datasetIdentifierCode":"e27e61d8-25b1-45ee-a2df-071312ba8a69"},"exampleIndex":136},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:41.968 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403301,"millis":0.403301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395700,"millis":0.3957,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529498917,"millis":529.498917,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1066401,"millis":1.066401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":655700,"millis":0.6557,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":638100,"millis":0.6381,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":736701,"millis":0.736701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":778300,"millis":0.7783,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":697801,"millis":0.697801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":565400,"millis":0.5654,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":570200,"millis":0.5702,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":552401,"millis":0.552401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":281600,"millis":0.2816,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.505 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":933901,"millis":0.933901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":320100,"millis":0.3201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.506 [print] INSPIRE Atom \n"},{"result":{"nanos":638800,"millis":0.6388,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.507 [print] #notpresent \n"},{"result":{"nanos":252100,"millis":0.2521,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.508 [print] INSPIRE Atom \n"},{"result":{"nanos":828801,"millis":0.828801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.509 [print] Beheer PDOK \n"},{"result":{"nanos":278300,"millis":0.2783,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.509 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":1522201,"millis":1.522201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":825101,"millis":0.825101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.512 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":1098600,"millis":1.0986,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.513 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1190301,"millis":1.190301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.514 [print] \"true\";\"true\" \n"},{"result":{"nanos":861201,"millis":0.861201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":455200,"millis":0.4552,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352300,"millis":0.3523,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":547.608528,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","startTime":1647665741967,"refId":"[1.138:82]","endTime":1647665742516,"exampleData":{"datasetIdentifierCode":"88a337a9-bed3-4d79-80fa-ff4b45990d7d"},"exampleIndex":137},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.141 karate.env system property was: null \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":448101,"millis":0.448101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457200,"millis":0.4572,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":395200,"millis":0.3952,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552960331,"millis":552.960331,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1005801,"millis":1.005801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":670600,"millis":0.6706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":662201,"millis":0.662201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":651200,"millis":0.6512,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":729600,"millis":0.7296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":749201,"millis":0.749201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":640500,"millis":0.6405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655501,"millis":0.655501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698200,"millis":0.6982,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91500,"millis":0.0915,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":224300,"millis":0.2243,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.703 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":814801,"millis":0.814801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.704 [print] INSPIRE Atom \n"},{"result":{"nanos":604400,"millis":0.6044,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.705 [print] #notpresent \n"},{"result":{"nanos":124600,"millis":0.1246,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.705 [print] INSPIRE Atom \n"},{"result":{"nanos":1527601,"millis":1.527601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":504501,"millis":0.504501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.707 [print] Beheer PDOK \n"},{"result":{"nanos":501400,"millis":0.5014,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.708 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":728700,"millis":0.7287,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":724101,"millis":0.724101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":7820805,"millis":7.820805,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.717 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":675500,"millis":0.6755,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":578900,"millis":0.5789,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.718 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":657501,"millis":0.657501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":451500,"millis":0.4515,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.720 [print] \"true\";\"true\" \n"},{"result":{"nanos":491800,"millis":0.4918,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":3923403,"millis":3.923403,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":379800,"millis":0.3798,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":582.409649,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","startTime":1647665742141,"refId":"[1.139:82]","endTime":1647665742724,"exampleData":{"datasetIdentifierCode":"68a7e4c1-0073-4a1a-a6df-084d2badf45a"},"exampleIndex":138},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.174 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343100,"millis":0.3431,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450701,"millis":0.450701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":354200,"millis":0.3542,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":445400,"millis":0.4454,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd84b0a71-4460-4e16-8a7e-5507f2e6bcbf'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534243720,"millis":534.24372,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":700400,"millis":0.7004,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd84b0a71-4460-4e16-8a7e-5507f2e6bcbf'"}},{"result":{"nanos":634401,"millis":0.634401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1097900,"millis":1.0979,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":586901,"millis":0.586901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":606800,"millis":0.6068,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":591301,"millis":0.591301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":496400,"millis":0.4964,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":584500,"millis":0.5845,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":533701,"millis":0.533701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3857902,"millis":3.857902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":506500,"millis":0.5065,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.721 [print] https:\/\/service.pdok.nl\/bzk\/bro-grondwaterspiegeldiepte\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":803801,"millis":0.803801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":467000,"millis":0.467,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.723 [print] INSPIRE Atom \n"},{"result":{"nanos":667800,"millis":0.6678,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":3514002,"millis":3.514002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.727 [print] #notpresent \n"},{"result":{"nanos":32001,"millis":0.032001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":420800,"millis":0.4208,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.727 [print] INSPIRE Atom \n"},{"result":{"nanos":691300,"millis":0.6913,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":571401,"millis":0.571401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.729 [print] Beheer PDOK \n"},{"result":{"nanos":591900,"millis":0.5919,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.729 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b756dabe-a331-42cd-b45e-f61828ee4534#MD_DataIdentification \n"},{"result":{"nanos":2377701,"millis":2.377701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711501,"millis":0.711501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":492000,"millis":0.492,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.733 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":699901,"millis":0.699901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":550800,"millis":0.5508,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.734 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":660700,"millis":0.6607,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":508901,"millis":0.508901,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.736 [print] \"true\";\"true\" \n"},{"result":{"nanos":252900,"millis":0.2529,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d84b0a71-4460-4e16-8a7e-5507f2e6bcbf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":297600,"millis":0.2976,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d84b0a71-4460-4e16-8a7e-5507f2e6bcbf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357700,"millis":0.3577,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d84b0a71-4460-4e16-8a7e-5507f2e6bcbf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.250536,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d84b0a71-4460-4e16-8a7e-5507f2e6bcbf","startTime":1647665742174,"refId":"[1.140:82]","endTime":1647665742737,"exampleData":{"datasetIdentifierCode":"d84b0a71-4460-4e16-8a7e-5507f2e6bcbf"},"exampleIndex":139},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.369 karate.env system property was: null \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95200,"millis":0.0952,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372600,"millis":0.3726,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1530401,"millis":1.530401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":343900,"millis":0.3439,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547728228,"millis":547.728228,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1043001,"millis":1.043001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":783700,"millis":0.7837,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691901,"millis":0.691901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":706000,"millis":0.706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":699700,"millis":0.6997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":777101,"millis":0.777101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":563700,"millis":0.5637,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":550801,"millis":0.550801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":576200,"millis":0.5762,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":461700,"millis":0.4617,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:42.927 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n"},{"result":{"nanos":652701,"millis":0.652701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:42.928 [print] #notpresent \n"},{"result":{"nanos":701500,"millis":0.7015,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122400,"millis":0.1224,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:42.929 [print] INSPIRE Atom \n"},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:42.929 [print] #notpresent \n"},{"result":{"nanos":801401,"millis":0.801401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:42.930 [print] RDW \n"},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:42.930 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n"},{"result":{"nanos":722900,"millis":0.7229,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":649601,"millis":0.649601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":100400,"millis":0.1004,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:42.932 [print] #notpresent \n"},{"result":{"nanos":818900,"millis":0.8189,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:42.932 [print] \"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Evaluated\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Gecontroleerd met INSPIRE verordening\" \n"},{"result":{"nanos":785000,"millis":0.785,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:42.933 [print] \"true\";\"true\" \n"},{"result":{"nanos":436400,"millis":0.4364,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":619301,"millis":0.619301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364400,"millis":0.3644,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.847838,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","startTime":1647665742369,"refId":"[1.141:82]","endTime":1647665742935,"exampleData":{"datasetIdentifierCode":"b85d4a0a-c0f7-42f4-9316-b214d205ca38"},"exampleIndex":140},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.518 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119500,"millis":0.1195,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":444500,"millis":0.4445,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":614800,"millis":0.6148,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":425000,"millis":0.425,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d7ca7bc-99de-4539-af33-70b206f29355'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527707316,"millis":527.707316,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":835501,"millis":0.835501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d7ca7bc-99de-4539-af33-70b206f29355'"}},{"result":{"nanos":680100,"millis":0.6801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":786600,"millis":0.7866,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":567001,"millis":0.567001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":665800,"millis":0.6658,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":594501,"millis":0.594501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":517800,"millis":0.5178,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":550500,"millis":0.5505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":525501,"millis":0.525501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":111000,"millis":0.111,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.055 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":732200,"millis":0.7322,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.056 [print] INSPIRE Atom \n"},{"result":{"nanos":804501,"millis":0.804501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.057 [print] #notpresent \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79100,"millis":0.0791,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.057 [print] INSPIRE Atom \n"},{"result":{"nanos":746000,"millis":0.746,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.058 [print] Beheer PDOK \n"},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.058 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":644801,"millis":0.644801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":681400,"millis":0.6814,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.059 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":616301,"millis":0.616301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.060 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":636100,"millis":0.6361,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.061 [print] \"true\";\"true\" \n"},{"result":{"nanos":366200,"millis":0.3662,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":424400,"millis":0.4244,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368000,"millis":0.368,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":542.456424,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0d7ca7bc-99de-4539-af33-70b206f29355","startTime":1647665742518,"refId":"[1.142:82]","endTime":1647665743062,"exampleData":{"datasetIdentifierCode":"0d7ca7bc-99de-4539-af33-70b206f29355"},"exampleIndex":141},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.740 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":323600,"millis":0.3236,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375900,"millis":0.3759,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535324621,"millis":535.324621,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1200900,"millis":1.2009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":679301,"millis":0.679301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681900,"millis":0.6819,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":640600,"millis":0.6406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":728901,"millis":0.728901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":726000,"millis":0.726,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":588901,"millis":0.588901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":614300,"millis":0.6143,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":620701,"millis":0.620701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":112600,"millis":0.1126,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.284 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":802300,"millis":0.8023,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108300,"millis":0.1083,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.285 [print] INSPIRE Atom \n"},{"result":{"nanos":575901,"millis":0.575901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.285 [print] #notpresent \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.285 [print] INSPIRE Atom \n"},{"result":{"nanos":752400,"millis":0.7524,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.286 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.286 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":686201,"millis":0.686201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":770600,"millis":0.7706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":109800,"millis":0.1098,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.288 [print] #notpresent \n"},{"result":{"nanos":22828314,"millis":22.828314,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":244200,"millis":0.2442,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":181700,"millis":0.1817,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.311 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":896001,"millis":0.896001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":107300,"millis":0.1073,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.312 [print] \"true\";\"true\" \n"},{"result":{"nanos":462600,"millis":0.4626,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":433400,"millis":0.4334,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286301,"millis":0.286301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":572.841643,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","startTime":1647665742727,"refId":"[1.143:82]","endTime":1647665743314,"exampleData":{"datasetIdentifierCode":"f5660ac6-8031-4acc-832c-1d1b82b062ba"},"exampleIndex":142},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.743 karate.env system property was: null \n"},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233300,"millis":0.2333,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":316201,"millis":0.316201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":393800,"millis":0.3938,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":592124354,"millis":592.124354,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":765501,"millis":0.765501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":866300,"millis":0.8663,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705401,"millis":0.705401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725100,"millis":0.7251,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":926501,"millis":0.926501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":819000,"millis":0.819,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698501,"millis":0.698501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":696300,"millis":0.6963,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":727601,"millis":0.727601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":437400,"millis":0.4374,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":644500,"millis":0.6445,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.345 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":746501,"millis":0.746501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":588500,"millis":0.5885,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.346 [print] INSPIRE Atom \n"},{"result":{"nanos":844101,"millis":0.844101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":491900,"millis":0.4919,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.348 [print] #notpresent \n"},{"result":{"nanos":108400,"millis":0.1084,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":604900,"millis":0.6049,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.348 [print] INSPIRE Atom \n"},{"result":{"nanos":955401,"millis":0.955401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":675900,"millis":0.6759,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.350 [print] Beheer PDOK \n"},{"result":{"nanos":635201,"millis":0.635201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.351 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":631300,"millis":0.6313,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":684801,"millis":0.684801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":166700,"millis":0.1667,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":569600,"millis":0.5696,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.353 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":709600,"millis":0.7096,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":169301,"millis":0.169301,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":573900,"millis":0.5739,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.354 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":836600,"millis":0.8366,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":117800,"millis":0.1178,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":482701,"millis":0.482701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.356 [print] \"true\";\"true\" \n"},{"result":{"nanos":271700,"millis":0.2717,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":402100,"millis":0.4021,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330400,"millis":0.3304,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":613.053567,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","startTime":1647665742738,"refId":"[1.144:82]","endTime":1647665743357,"exampleData":{"datasetIdentifierCode":"52d0313e-0d2b-44b4-b51e-d9e504307f70"},"exampleIndex":143},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:42.937 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420700,"millis":0.4207,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488400,"millis":0.4884,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556520334,"millis":556.520334,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1078500,"millis":1.0785,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":653101,"millis":0.653101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716400,"millis":0.7164,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":560900,"millis":0.5609,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":837001,"millis":0.837001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":912800,"millis":0.9128,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":621801,"millis":0.621801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":742800,"millis":0.7428,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":716401,"millis":0.716401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140300,"millis":0.1403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":458100,"millis":0.4581,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.503 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":914101,"millis":0.914101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":183800,"millis":0.1838,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.504 [print] OGC:WMS \n"},{"result":{"nanos":785100,"millis":0.7851,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144100,"millis":0.1441,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.505 [print] #notpresent \n"},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":313401,"millis":0.313401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.506 [print] OGC:WMS \n"},{"result":{"nanos":700600,"millis":0.7006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":185600,"millis":0.1856,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.507 [print] Beheer PDOK \n"},{"result":{"nanos":622601,"millis":0.622601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.507 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":732800,"millis":0.7328,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":592700,"millis":0.5927,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":145100,"millis":0.1451,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":189501,"millis":0.189501,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.509 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":916500,"millis":0.9165,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":127400,"millis":0.1274,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":195200,"millis":0.1952,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.510 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":824501,"millis":0.824501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":169000,"millis":0.169,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.511 [print] \"true\";\"true\" \n"},{"result":{"nanos":332500,"millis":0.3325,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":390400,"millis":0.3904,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304401,"millis":0.304401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.447344,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","startTime":1647665742937,"refId":"[1.145:82]","endTime":1647665743513,"exampleData":{"datasetIdentifierCode":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e"},"exampleIndex":144},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.065 karate.env system property was: null \n"},{"result":{"nanos":386700,"millis":0.3867,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111000,"millis":0.111,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":627500,"millis":0.6275,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416301,"millis":0.416301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":507300,"millis":0.5073,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '559f7f5b-44fc-4003-9fb5-4d8c9aff6060'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545615427,"millis":545.615427,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":751900,"millis":0.7519,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '559f7f5b-44fc-4003-9fb5-4d8c9aff6060'"}},{"result":{"nanos":598601,"millis":0.598601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":654600,"millis":0.6546,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":517200,"millis":0.5172,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":707701,"millis":0.707701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":666800,"millis":0.6668,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":658401,"millis":0.658401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":775900,"millis":0.7759,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":658900,"millis":0.6589,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116000,"millis":0.116,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":201101,"millis":0.201101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.619 [print] https:\/\/service.pdok.nl\/kadaster\/tn\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":819300,"millis":0.8193,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197400,"millis":0.1974,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.620 [print] INSPIRE Atom \n"},{"result":{"nanos":969301,"millis":0.969301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":189600,"millis":0.1896,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.622 [print] #notpresent \n"},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.622 [print] INSPIRE Atom \n"},{"result":{"nanos":765901,"millis":0.765901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145900,"millis":0.1459,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.623 [print] Beheer PDOK \n"},{"result":{"nanos":106000,"millis":0.106,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.623 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification\"] \n"},{"result":{"nanos":676500,"millis":0.6765,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662001,"millis":0.662001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":156500,"millis":0.1565,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.625 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":702300,"millis":0.7023,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":104800,"millis":0.1048,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.626 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":678501,"millis":0.678501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":110200,"millis":0.1102,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.627 [print] \"true\";\"true\" \n"},{"result":{"nanos":172600,"millis":0.1726,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"559f7f5b-44fc-4003-9fb5-4d8c9aff6060\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":485300,"millis":0.4853,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"559f7f5b-44fc-4003-9fb5-4d8c9aff6060\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386800,"millis":0.3868,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"559f7f5b-44fc-4003-9fb5-4d8c9aff6060\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.265636,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"559f7f5b-44fc-4003-9fb5-4d8c9aff6060","startTime":1647665743064,"refId":"[1.146:82]","endTime":1647665743628,"exampleData":{"datasetIdentifierCode":"559f7f5b-44fc-4003-9fb5-4d8c9aff6060"},"exampleIndex":145},{"sectionIndex":0,"stepResults":[{"result":{"nanos":117000,"millis":0.117,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.319 karate.env system property was: null \n"},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134300,"millis":0.1343,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":582201,"millis":0.582201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136000,"millis":0.136,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":520400,"millis":0.5204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":487701,"millis":0.487701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561161936,"millis":561.161936,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1431800,"millis":1.4318,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":840901,"millis":0.840901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":757000,"millis":0.757,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":756001,"millis":0.756001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":928200,"millis":0.9282,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":780401,"millis":0.780401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":716000,"millis":0.716,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":681401,"millis":0.681401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":650400,"millis":0.6504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":203400,"millis":0.2034,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":426601,"millis":0.426601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.892 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":726300,"millis":0.7263,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145800,"millis":0.1458,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.893 [print] INSPIRE Atom \n"},{"result":{"nanos":833701,"millis":0.833701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":161500,"millis":0.1615,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.894 [print] #notpresent \n"},{"result":{"nanos":346000,"millis":0.346,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":223900,"millis":0.2239,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.894 [print] INSPIRE Atom \n"},{"result":{"nanos":745801,"millis":0.745801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151300,"millis":0.1513,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.895 [print] Beheer PDOK \n"},{"result":{"nanos":253400,"millis":0.2534,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.896 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":745400,"millis":0.7454,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":726601,"millis":0.726601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":168100,"millis":0.1681,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":123900,"millis":0.1239,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.897 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":1391001,"millis":1.391001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.899 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":732400,"millis":0.7324,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.900 [print] \"true\";\"true\" \n"},{"result":{"nanos":306801,"millis":0.306801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":439900,"millis":0.4399,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292500,"millis":0.2925,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.718648,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","startTime":1647665743318,"refId":"[1.147:82]","endTime":1647665743901,"exampleData":{"datasetIdentifierCode":"dc9fbc85-1263-4a1b-b001-7be701a6039e"},"exampleIndex":146},{"sectionIndex":0,"stepResults":[{"result":{"nanos":99200,"millis":0.0992,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.360 karate.env system property was: null \n"},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122400,"millis":0.1224,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116900,"millis":0.1169,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":485900,"millis":0.4859,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":197900,"millis":0.1979,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447601,"millis":0.447601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":538100,"millis":0.5381,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":107900,"millis":0.1079,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551452930,"millis":551.45293,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":624601,"millis":0.624601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":590000,"millis":0.59,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":618800,"millis":0.6188,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":615701,"millis":0.615701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661800,"millis":0.6618,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":743401,"millis":0.743401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":525600,"millis":0.5256,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":689700,"millis":0.6897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":581601,"millis":0.581601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":541300,"millis":0.5413,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":477600,"millis":0.4776,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:43.922 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":595301,"millis":0.595301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":408900,"millis":0.4089,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:43.923 [print] INSPIRE Atom \n"},{"result":{"nanos":713800,"millis":0.7138,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":424201,"millis":0.424201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:43.924 [print] #notpresent \n"},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":666400,"millis":0.6664,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:43.925 [print] INSPIRE Atom \n"},{"result":{"nanos":914801,"millis":0.914801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:43.926 [print] Beheer PDOK \n"},{"result":{"nanos":753100,"millis":0.7531,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:43.926 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":732801,"millis":0.732801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":914600,"millis":0.9146,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:43.928 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":1096301,"millis":1.096301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:43.929 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1001201,"millis":1.001201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:43.931 [print] \"true\";\"true\" \n"},{"result":{"nanos":568300,"millis":0.5683,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":331500,"millis":0.3315,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286901,"millis":0.286901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.533542,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","startTime":1647665743360,"refId":"[1.148:82]","endTime":1647665743932,"exampleData":{"datasetIdentifierCode":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638"},"exampleIndex":147},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.515 karate.env system property was: null \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181000,"millis":0.181,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":167600,"millis":0.1676,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":435500,"millis":0.4355,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":182400,"millis":0.1824,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429401,"millis":0.429401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100900,"millis":0.1009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535627820,"millis":535.62782,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":997001,"millis":0.997001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":824900,"millis":0.8249,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":690101,"millis":0.690101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":691200,"millis":0.6912,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":675601,"millis":0.675601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663800,"millis":0.6638,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":619901,"millis":0.619901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":507400,"millis":0.5074,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":696100,"millis":0.6961,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":190000,"millis":0.19,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.060 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":794701,"millis":0.794701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104800,"millis":0.1048,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.061 [print] #notpresent \n"},{"result":{"nanos":624800,"millis":0.6248,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":107000,"millis":0.107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.062 [print] INSPIRE Atom \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.062 [print] #notpresent \n"},{"result":{"nanos":709700,"millis":0.7097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109600,"millis":0.1096,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.063 [print] Beheer PDOK \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.063 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":809101,"millis":0.809101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":805600,"millis":0.8056,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.065 [print] #notpresent \n"},{"result":{"nanos":1970301,"millis":1.970301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":252901,"millis":0.252901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.067 [print] #notpresent \n"},{"result":{"nanos":810600,"millis":0.8106,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.068 [print] #notpresent \n"},{"result":{"nanos":393800,"millis":0.3938,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":476901,"millis":0.476901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311300,"millis":0.3113,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":553.035431,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"66805d91-a5f6-4265-bd36-ef13a429c97e","startTime":1647665743515,"refId":"[1.149:82]","endTime":1647665744069,"exampleData":{"datasetIdentifierCode":"66805d91-a5f6-4265-bd36-ef13a429c97e"},"exampleIndex":148},{"sectionIndex":0,"stepResults":[{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.630 karate.env system property was: null \n"},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":275601,"millis":0.275601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":460600,"millis":0.4606,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131600,"millis":0.1316,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414700,"millis":0.4147,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123500,"millis":0.1235,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540918323,"millis":540.918323,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1074901,"millis":1.074901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":762300,"millis":0.7623,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":804501,"millis":0.804501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":910500,"millis":0.9105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":973301,"millis":0.973301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":846001,"millis":0.846001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":616400,"millis":0.6164,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":566300,"millis":0.5663,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":598601,"millis":0.598601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120200,"millis":0.1202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.181 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":771100,"millis":0.7711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119200,"millis":0.1192,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.182 [print] OGC:WFS \n"},{"result":{"nanos":733501,"millis":0.733501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.183 [print] INSPIRE Atom \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145300,"millis":0.1453,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.183 [print] OGC:WFS \n"},{"result":{"nanos":740300,"millis":0.7403,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.184 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":150401,"millis":0.150401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.184 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":771100,"millis":0.7711,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":693800,"millis":0.6938,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.186 [print] #notpresent \n"},{"result":{"nanos":1156800,"millis":1.1568,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":132800,"millis":0.1328,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.187 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":953201,"millis":0.953201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.188 [print] \"false\";\"false\" \n"},{"result":{"nanos":509900,"millis":0.5099,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":501301,"millis":0.501301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":444400,"millis":0.4444,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.726134,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","startTime":1647665743630,"refId":"[1.150:82]","endTime":1647665744190,"exampleData":{"datasetIdentifierCode":"fbe544b6-6e6f-43a0-80b9-ced1df78c434"},"exampleIndex":149},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.903 karate.env system property was: null \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":484800,"millis":0.4848,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":558400,"millis":0.5584,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540816623,"millis":540.816623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":893201,"millis":0.893201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":752300,"millis":0.7523,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693901,"millis":0.693901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":592600,"millis":0.5926,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1086801,"millis":1.086801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":855300,"millis":0.8553,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":622101,"millis":0.622101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":602900,"millis":0.6029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":701700,"millis":0.7017,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169601,"millis":0.169601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.453 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":803800,"millis":0.8038,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160600,"millis":0.1606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.454 [print] OGC:WFS \n"},{"result":{"nanos":556900,"millis":0.5569,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120901,"millis":0.120901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.455 [print] INSPIRE Atom \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.455 [print] OGC:WFS \n"},{"result":{"nanos":756300,"millis":0.7563,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102200,"millis":0.1022,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.456 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.456 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":686101,"millis":0.686101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":748200,"millis":0.7482,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.458 [print] #notpresent \n"},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":197800,"millis":0.1978,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.459 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1216901,"millis":1.216901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":136800,"millis":0.1368,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.460 [print] \"false\";\"false\" \n"},{"result":{"nanos":388300,"millis":0.3883,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":462000,"millis":0.462,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346100,"millis":0.3461,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.285733,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37308f90-e619-4b62-ae9e-e656bb3f1649","startTime":1647665743903,"refId":"[1.151:82]","endTime":1647665744461,"exampleData":{"datasetIdentifierCode":"37308f90-e619-4b62-ae9e-e656bb3f1649"},"exampleIndex":150},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:43.934 karate.env system property was: null \n"},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":156300,"millis":0.1563,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330200,"millis":0.3302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":324601,"millis":0.324601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":140300,"millis":0.1403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542890725,"millis":542.890725,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":778100,"millis":0.7781,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":857801,"millis":0.857801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":813800,"millis":0.8138,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":660601,"millis":0.660601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748600,"millis":0.7486,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":767900,"millis":0.7679,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49701,"millis":0.049701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":574700,"millis":0.5747,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":749500,"millis":0.7495,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":560401,"millis":0.560401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":233600,"millis":0.2336,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152300,"millis":0.1523,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.486 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n"},{"result":{"nanos":738300,"millis":0.7383,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":194800,"millis":0.1948,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.487 [print] INSPIRE Atom \n"},{"result":{"nanos":961701,"millis":0.961701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150500,"millis":0.1505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.488 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126100,"millis":0.1261,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.488 [print] INSPIRE Atom \n"},{"result":{"nanos":1033601,"millis":1.033601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":147500,"millis":0.1475,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.489 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.489 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n"},{"result":{"nanos":1030301,"millis":1.030301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":953900,"millis":0.9539,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":173600,"millis":0.1736,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.491 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":925901,"millis":0.925901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":155100,"millis":0.1551,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.493 [print] \"Nadere uitleg bij het al dan niet volledig voldoen aan de specificatie\";\"Open Search mechanisme van het Nationaal Georegister functioneert nog niet naar behoren.\" \n"},{"result":{"nanos":1381701,"millis":1.381701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.494 [print] \"true\";\"false\" \n"},{"result":{"nanos":388100,"millis":0.3881,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":442701,"millis":0.442701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354300,"millis":0.3543,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.801436,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ef2a7962-8bb4-483f-ac78-851b619f357f","startTime":1647665743934,"refId":"[1.152:82]","endTime":1647665744495,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ac78-851b619f357f"},"exampleIndex":151},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.076 karate.env system property was: null \n"},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":453200,"millis":0.4532,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433800,"millis":0.4338,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":157201,"millis":0.157201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538389722,"millis":538.389722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":761400,"millis":0.7614,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":813301,"millis":0.813301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":724600,"millis":0.7246,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":626001,"millis":0.626001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":726900,"millis":0.7269,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":863901,"millis":0.863901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":836900,"millis":0.8369,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":646901,"millis":0.646901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":706500,"millis":0.7065,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":198100,"millis":0.1981,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150400,"millis":0.1504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.623 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":720501,"millis":0.720501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":115700,"millis":0.1157,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.624 [print] OGC:WFS \n"},{"result":{"nanos":868200,"millis":0.8682,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72200,"millis":0.0722,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.625 [print] INSPIRE Atom \n"},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.625 [print] OGC:WFS \n"},{"result":{"nanos":902801,"millis":0.902801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.626 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.626 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":789201,"millis":0.789201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1062400,"millis":1.0624,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.628 [print] #notpresent \n"},{"result":{"nanos":943601,"millis":0.943601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.630 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":947601,"millis":0.947601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.631 [print] \"false\";\"false\" \n"},{"result":{"nanos":525900,"millis":0.5259,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":439000,"millis":0.439,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":373601,"millis":0.373601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.467833,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","startTime":1647665744075,"refId":"[1.153:82]","endTime":1647665744632,"exampleData":{"datasetIdentifierCode":"72f30ca1-3b80-4020-b9ed-301b1a88df39"},"exampleIndex":152},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.193 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69700,"millis":0.0697,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":389100,"millis":0.3891,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424200,"millis":0.4242,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31801,"millis":0.031801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555263832,"millis":555.263832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":917700,"millis":0.9177,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":673900,"millis":0.6739,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":621100,"millis":0.6211,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":934801,"millis":0.934801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":930100,"millis":0.9301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":706501,"millis":0.706501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":611800,"millis":0.6118,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":600001,"millis":0.600001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":649300,"millis":0.6493,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147700,"millis":0.1477,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:44.757 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":673601,"millis":0.673601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:44.758 [print] INSPIRE Atom \n"},{"result":{"nanos":716000,"millis":0.716,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:44.758 [print] #notpresent \n"},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:44.759 [print] INSPIRE Atom \n"},{"result":{"nanos":882101,"millis":0.882101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145900,"millis":0.1459,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:44.760 [print] Beheer PDOK \n"},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:44.760 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":722100,"millis":0.7221,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":770601,"millis":0.770601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":114000,"millis":0.114,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":114300,"millis":0.1143,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:44.761 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":866501,"millis":0.866501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":140500,"millis":0.1405,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:44.763 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":724400,"millis":0.7244,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":114500,"millis":0.1145,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:44.763 [print] \"true\";\"true\" \n"},{"result":{"nanos":418000,"millis":0.418,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":449701,"millis":0.449701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330800,"millis":0.3308,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.104641,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","startTime":1647665744192,"refId":"[1.154:82]","endTime":1647665744765,"exampleData":{"datasetIdentifierCode":"93c8762c-4cbb-42b0-9b02-89ef902e8880"},"exampleIndex":153},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.464 karate.env system property was: null \n"},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356601,"millis":0.356601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":461100,"millis":0.4611,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":203200,"millis":0.2032,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540134223,"millis":540.134223,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":961101,"millis":0.961101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":804800,"millis":0.8048,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":655701,"millis":0.655701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":727200,"millis":0.7272,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":787801,"millis":0.787801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":790600,"millis":0.7906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":581801,"millis":0.581801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":624800,"millis":0.6248,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":773200,"millis":0.7732,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99501,"millis":0.099501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138400,"millis":0.1384,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.013 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":679500,"millis":0.6795,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.014 [print] OGC:WFS \n"},{"result":{"nanos":723501,"millis":0.723501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.015 [print] INSPIRE Atom \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":361400,"millis":0.3614,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.015 [print] OGC:WFS \n"},{"result":{"nanos":866000,"millis":0.866,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.016 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.016 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":829101,"millis":0.829101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":814300,"millis":0.8143,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":106001,"millis":0.106001,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.018 [print] #notpresent \n"},{"result":{"nanos":921400,"millis":0.9214,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.019 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":956401,"millis":0.956401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.020 [print] \"false\";\"false\" \n"},{"result":{"nanos":531300,"millis":0.5313,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":619401,"millis":0.619401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":536300,"millis":0.5363,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.147334,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f59357eb-185f-42a5-b465-90bfa6e3e416","startTime":1647665744464,"refId":"[1.155:82]","endTime":1647665745022,"exampleData":{"datasetIdentifierCode":"f59357eb-185f-42a5-b465-90bfa6e3e416"},"exampleIndex":154},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.498 karate.env system property was: null \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341500,"millis":0.3415,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377000,"millis":0.377,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538961323,"millis":538.961323,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":741600,"millis":0.7416,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":634401,"millis":0.634401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":630300,"millis":0.6303,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":588800,"millis":0.5888,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":692601,"millis":0.692601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":638000,"millis":0.638,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":729901,"millis":0.729901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":698500,"millis":0.6985,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":557801,"millis":0.557801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.045 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":804800,"millis":0.8048,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.046 [print] OGC:WFS \n"},{"result":{"nanos":653201,"millis":0.653201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.047 [print] INSPIRE Atom \n"},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":209800,"millis":0.2098,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.047 [print] OGC:WFS \n"},{"result":{"nanos":619100,"millis":0.6191,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.048 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.048 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":682001,"millis":0.682001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":695200,"millis":0.6952,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.049 [print] #notpresent \n"},{"result":{"nanos":787401,"millis":0.787401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.050 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":642800,"millis":0.6428,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.051 [print] \"false\";\"false\" \n"},{"result":{"nanos":202700,"millis":0.2027,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":320101,"millis":0.320101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292700,"millis":0.2927,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":552.880132,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","startTime":1647665744498,"refId":"[1.156:82]","endTime":1647665745052,"exampleData":{"datasetIdentifierCode":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5"},"exampleIndex":155},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.634 karate.env system property was: null \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66100,"millis":0.0661,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357800,"millis":0.3578,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379001,"millis":0.379001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538637322,"millis":538.637322,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":720201,"millis":0.720201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":652000,"millis":0.652,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":942201,"millis":0.942201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725000,"millis":0.725,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":867201,"millis":0.867201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698800,"millis":0.6988,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":683600,"millis":0.6836,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":740001,"millis":0.740001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":626400,"millis":0.6264,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.182 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":733501,"millis":0.733501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105000,"millis":0.105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.182 [print] OGC:WFS \n"},{"result":{"nanos":771200,"millis":0.7712,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.183 [print] INSPIRE Atom \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.183 [print] OGC:WFS \n"},{"result":{"nanos":785900,"millis":0.7859,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.184 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.184 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":875601,"millis":0.875601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697900,"millis":0.6979,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.186 [print] #notpresent \n"},{"result":{"nanos":988101,"millis":0.988101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.187 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":783600,"millis":0.7836,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":89300,"millis":0.0893,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.188 [print] \"false\";\"false\" \n"},{"result":{"nanos":378101,"millis":0.378101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":394700,"millis":0.3947,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322300,"millis":0.3223,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":554.432232,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a931e334-b752-4935-8a98-00eddc443789","startTime":1647665744634,"refId":"[1.157:82]","endTime":1647665745190,"exampleData":{"datasetIdentifierCode":"a931e334-b752-4935-8a98-00eddc443789"},"exampleIndex":156},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:44.772 karate.env system property was: null \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":619001,"millis":0.619001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412600,"millis":0.4126,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546091427,"millis":546.091427,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":908201,"millis":0.908201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":725800,"millis":0.7258,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":726400,"millis":0.7264,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":640101,"millis":0.640101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":812900,"millis":0.8129,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":790101,"millis":0.790101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":607400,"millis":0.6074,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625501,"millis":0.625501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":611900,"millis":0.6119,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":452000,"millis":0.452,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.327 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":779001,"millis":0.779001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113000,"millis":0.113,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.328 [print] OGC:WFS \n"},{"result":{"nanos":897600,"millis":0.8976,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114500,"millis":0.1145,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.329 [print] INSPIRE Atom \n"},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180801,"millis":0.180801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.329 [print] OGC:WFS \n"},{"result":{"nanos":806100,"millis":0.8061,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141800,"millis":0.1418,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.330 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":119500,"millis":0.1195,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.330 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":802401,"millis":0.802401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":698500,"millis":0.6985,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.332 [print] #notpresent \n"},{"result":{"nanos":714401,"millis":0.714401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":86000,"millis":0.086,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.333 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1322501,"millis":1.322501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107000,"millis":0.107,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.334 [print] \"false\";\"false\" \n"},{"result":{"nanos":401600,"millis":0.4016,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":369400,"millis":0.3694,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297200,"millis":0.2972,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.829137,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"01572637-b851-4cc3-b06a-56c1ae1115cc","startTime":1647665744771,"refId":"[1.158:82]","endTime":1647665745335,"exampleData":{"datasetIdentifierCode":"01572637-b851-4cc3-b06a-56c1ae1115cc"},"exampleIndex":157},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.025 karate.env system property was: null \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105600,"millis":0.1056,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":440100,"millis":0.4401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438501,"millis":0.438501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":152300,"millis":0.1523,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537390502,"millis":537.390502,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1069501,"millis":1.069501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":763201,"millis":0.763201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":643801,"millis":0.643801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":692701,"millis":0.692701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":793101,"millis":0.793101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":722600,"millis":0.7226,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":653701,"millis":0.653701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":950301,"millis":0.950301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":23762627,"millis":23.762627,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":302600,"millis":0.3026,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174200,"millis":0.1742,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.595 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":745301,"millis":0.745301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":115200,"millis":0.1152,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.596 [print] INSPIRE Atom \n"},{"result":{"nanos":690301,"millis":0.690301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168200,"millis":0.1682,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.597 [print] #notpresent \n"},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.597 [print] INSPIRE Atom \n"},{"result":{"nanos":1410602,"millis":1.410602,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173000,"millis":0.173,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.599 [print] Beheer PDOK \n"},{"result":{"nanos":228800,"millis":0.2288,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.599 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":729901,"millis":0.729901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":773801,"millis":0.773801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":216400,"millis":0.2164,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":441801,"millis":0.441801,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.601 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":877501,"millis":0.877501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":164200,"millis":0.1642,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":131200,"millis":0.1312,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.602 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":824401,"millis":0.824401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":153400,"millis":0.1534,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":173400,"millis":0.1734,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.603 [print] \"true\";\"true\" \n"},{"result":{"nanos":269001,"millis":0.269001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":395600,"millis":0.3956,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306400,"millis":0.3064,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.611647,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","startTime":1647665745024,"refId":"[1.159:82]","endTime":1647665745604,"exampleData":{"datasetIdentifierCode":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225"},"exampleIndex":158},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.054 karate.env system property was: null \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":256800,"millis":0.2568,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347400,"millis":0.3474,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75600,"millis":0.0756,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":177100,"millis":0.1771,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":570774053,"millis":570.774053,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":937301,"millis":0.937301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":923201,"millis":0.923201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":914801,"millis":0.914801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1136901,"millis":1.136901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1113402,"millis":1.113402,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":703400,"millis":0.7034,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":794800,"millis":0.7948,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":731201,"millis":0.731201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":380201,"millis":0.380201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.635 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n"},{"result":{"nanos":718201,"millis":0.718201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":240700,"millis":0.2407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.636 [print] #notpresent \n"},{"result":{"nanos":801701,"millis":0.801701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":198300,"millis":0.1983,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.637 [print] INSPIRE Atom \n"},{"result":{"nanos":172700,"millis":0.1727,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":170300,"millis":0.1703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.637 [print] #notpresent \n"},{"result":{"nanos":1011002,"millis":1.011002,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177700,"millis":0.1777,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.638 [print] Beheer PDOK \n"},{"result":{"nanos":272200,"millis":0.2722,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.639 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n"},{"result":{"nanos":869201,"millis":0.869201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2469203,"millis":2.469203,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":123400,"millis":0.1234,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.642 [print] #notpresent \n"},{"result":{"nanos":1029801,"millis":1.029801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117300,"millis":0.1173,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":183401,"millis":0.183401,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.644 [print] \"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"notEvaluated\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1133801,"millis":1.133801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":132300,"millis":0.1323,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":143500,"millis":0.1435,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.645 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":244000,"millis":0.244,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":705301,"millis":0.705301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":527801,"millis":0.527801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":592.121376,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","startTime":1647665745053,"refId":"[1.160:82]","endTime":1647665745646,"exampleData":{"datasetIdentifierCode":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4"},"exampleIndex":159},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.192 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315700,"millis":0.3157,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412200,"millis":0.4122,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547154897,"millis":547.154897,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":830700,"millis":0.8307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":960002,"millis":0.960002,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":803800,"millis":0.8038,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":650001,"millis":0.650001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":836001,"millis":0.836001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":994601,"millis":0.994601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":766501,"millis":0.766501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":681201,"millis":0.681201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":678801,"millis":0.678801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":207900,"millis":0.2079,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":414300,"millis":0.4143,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.748 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n"},{"result":{"nanos":720600,"millis":0.7206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234901,"millis":0.234901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.749 [print] #notpresent \n"},{"result":{"nanos":730501,"millis":0.730501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213800,"millis":0.2138,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.751 [print] INSPIRE Atom \n"},{"result":{"nanos":103400,"millis":0.1034,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":304101,"millis":0.304101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.751 [print] #notpresent \n"},{"result":{"nanos":755100,"millis":0.7551,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":324901,"millis":0.324901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.752 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":2034102,"millis":2.034102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.754 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n"},{"result":{"nanos":767501,"millis":0.767501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":740701,"millis":0.740701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":139800,"millis":0.1398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":242200,"millis":0.2422,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.756 [print] #notpresent \n"},{"result":{"nanos":806201,"millis":0.806201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":137401,"millis":0.137401,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":556800,"millis":0.5568,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.758 [print] \"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"notEvaluated\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":887501,"millis":0.887501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":119200,"millis":0.1192,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":215701,"millis":0.215701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.759 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":257600,"millis":0.2576,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":767901,"millis":0.767901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":553901,"millis":0.553901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.827119,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","startTime":1647665745191,"refId":"[1.161:82]","endTime":1647665745761,"exampleData":{"datasetIdentifierCode":"b5ee6914-04bd-4c7e-a180-242371ae40d9"},"exampleIndex":160},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.337 karate.env system property was: null \n"},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":215300,"millis":0.2153,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":554900,"millis":0.5549,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384601,"millis":0.384601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":105900,"millis":0.1059,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545844070,"millis":545.84407,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":832301,"millis":0.832301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":807101,"millis":0.807101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":689300,"millis":0.6893,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":624501,"millis":0.624501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":802301,"millis":0.802301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":744901,"millis":0.744901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97200,"millis":0.0972,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":748301,"millis":0.748301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":691300,"millis":0.6913,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":626301,"millis":0.626301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":141900,"millis":0.1419,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":323601,"millis":0.323601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:45.893 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":808501,"millis":0.808501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":200800,"millis":0.2008,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:45.894 [print] INSPIRE Atom \n"},{"result":{"nanos":953501,"millis":0.953501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:45.895 [print] #notpresent \n"},{"result":{"nanos":179500,"millis":0.1795,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":207301,"millis":0.207301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:45.895 [print] INSPIRE Atom \n"},{"result":{"nanos":744100,"millis":0.7441,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146801,"millis":0.146801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:45.896 [print] Beheer PDOK \n"},{"result":{"nanos":218400,"millis":0.2184,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:45.896 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":734901,"millis":0.734901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":713901,"millis":0.713901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":149600,"millis":0.1496,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":147700,"millis":0.1477,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:45.898 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":833001,"millis":0.833001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":121500,"millis":0.1215,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":131000,"millis":0.131,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:45.899 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":880601,"millis":0.880601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":137900,"millis":0.1379,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":154401,"millis":0.154401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:45.901 [print] \"true\";\"true\" \n"},{"result":{"nanos":378700,"millis":0.3787,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":439600,"millis":0.4396,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":283301,"millis":0.283301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.291989,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","startTime":1647665745337,"refId":"[1.162:82]","endTime":1647665745902,"exampleData":{"datasetIdentifierCode":"cb13a608-3d78-4f79-ba60-be63ccd6e268"},"exampleIndex":161},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.609 karate.env system property was: null \n"},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":3370504,"millis":3.370504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":166700,"millis":0.1667,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":467400,"millis":0.4674,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122801,"millis":0.122801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437900,"millis":0.4379,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540948597,"millis":540.948597,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1126202,"millis":1.126202,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":695600,"millis":0.6956,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":664601,"millis":0.664601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":620501,"millis":0.620501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":955201,"millis":0.955201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":764701,"millis":0.764701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90100,"millis":0.0901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":664901,"millis":0.664901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":686500,"millis":0.6865,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":592301,"millis":0.592301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163500,"millis":0.1635,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.163 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":984102,"millis":0.984102,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136800,"millis":0.1368,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.164 [print] INSPIRE Atom \n"},{"result":{"nanos":730101,"millis":0.730101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122200,"millis":0.1222,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.165 [print] #notpresent \n"},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.165 [print] INSPIRE Atom \n"},{"result":{"nanos":760501,"millis":0.760501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.166 [print] Beheer PDOK \n"},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.166 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":880201,"millis":0.880201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":706301,"millis":0.706301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.168 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":695701,"millis":0.695701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.169 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":682701,"millis":0.682701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.170 [print] \"true\";\"true\" \n"},{"result":{"nanos":282500,"millis":0.2825,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":461301,"millis":0.461301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411300,"millis":0.4113,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.91232,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2931d583-9633-49d3-ad38-aabea82f6751","startTime":1647665745608,"refId":"[1.163:82]","endTime":1647665746171,"exampleData":{"datasetIdentifierCode":"2931d583-9633-49d3-ad38-aabea82f6751"},"exampleIndex":162},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.649 karate.env system property was: null \n"},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":540101,"millis":0.540101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347600,"millis":0.3476,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119500,"millis":0.1195,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408901,"millis":0.408901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":199300,"millis":0.1993,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":223001,"millis":0.223001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '47d416f8-76e8-441c-9b19-c8f889dfe62c'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554039012,"millis":554.039012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":683101,"millis":0.683101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '47d416f8-76e8-441c-9b19-c8f889dfe62c'"}},{"result":{"nanos":1069401,"millis":1.069401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":624301,"millis":0.624301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":537400,"millis":0.5374,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":593201,"millis":0.593201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":781401,"millis":0.781401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":606100,"millis":0.6061,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":610501,"millis":0.610501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":551401,"millis":0.551401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":92700,"millis":0.0927,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.212 [print] https:\/\/service.pdok.nl\/kadaster\/gn\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":879601,"millis":0.879601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.213 [print] INSPIRE Atom \n"},{"result":{"nanos":640801,"millis":0.640801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.214 [print] #notpresent \n"},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.214 [print] INSPIRE Atom \n"},{"result":{"nanos":673801,"millis":0.673801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135100,"millis":0.1351,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.215 [print] Beheer PDOK \n"},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.215 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":574601,"millis":0.574601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":730601,"millis":0.730601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":92700,"millis":0.0927,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.217 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":817401,"millis":0.817401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":139100,"millis":0.1391,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.218 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":720801,"millis":0.720801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":114900,"millis":0.1149,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.219 [print] \"true\";\"true\" \n"},{"result":{"nanos":221100,"millis":0.2211,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"47d416f8-76e8-441c-9b19-c8f889dfe62c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":335701,"millis":0.335701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"47d416f8-76e8-441c-9b19-c8f889dfe62c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":473000,"millis":0.473,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"47d416f8-76e8-441c-9b19-c8f889dfe62c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.82553,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"47d416f8-76e8-441c-9b19-c8f889dfe62c","startTime":1647665745648,"refId":"[1.164:82]","endTime":1647665746220,"exampleData":{"datasetIdentifierCode":"47d416f8-76e8-441c-9b19-c8f889dfe62c"},"exampleIndex":163},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48601,"millis":0.048601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.764 karate.env system property was: null \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":177400,"millis":0.1774,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126100,"millis":0.1261,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":472700,"millis":0.4727,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":215801,"millis":0.215801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432200,"millis":0.4322,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103000,"millis":0.103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":202501,"millis":0.202501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":166200,"millis":0.1662,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526686782,"millis":526.686782,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":754201,"millis":0.754201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":717000,"millis":0.717,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":653100,"millis":0.6531,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":732501,"millis":0.732501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":801901,"millis":0.801901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":874501,"millis":0.874501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":764001,"millis":0.764001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":662201,"millis":0.662201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":645600,"millis":0.6456,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":224201,"millis":0.224201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164200,"millis":0.1642,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.301 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":593100,"millis":0.5931,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131301,"millis":0.131301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.302 [print] INSPIRE Atom \n"},{"result":{"nanos":666300,"millis":0.6663,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":141401,"millis":0.141401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.302 [print] #notpresent \n"},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.303 [print] INSPIRE Atom \n"},{"result":{"nanos":758601,"millis":0.758601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139500,"millis":0.1395,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.304 [print] Beheer PDOK \n"},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.304 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":822901,"millis":0.822901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":686501,"millis":0.686501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":169100,"millis":0.1691,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.305 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":825701,"millis":0.825701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":160800,"millis":0.1608,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.307 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":652101,"millis":0.652101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.307 [print] \"true\";\"true\" \n"},{"result":{"nanos":343500,"millis":0.3435,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":598601,"millis":0.598601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":467701,"millis":0.467701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":543.557101,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","startTime":1647665745764,"refId":"[1.165:82]","endTime":1647665746309,"exampleData":{"datasetIdentifierCode":"e222648d-d19e-4a99-a67d-2af1c9aabd75"},"exampleIndex":164},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:45.905 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":135400,"millis":0.1354,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107500,"millis":0.1075,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1266001,"millis":1.266001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":175201,"millis":0.175201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413000,"millis":0.413,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":244300,"millis":0.2443,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546858504,"millis":546.858504,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":735701,"millis":0.735701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":708300,"millis":0.7083,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":685201,"millis":0.685201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":677001,"millis":0.677001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1020801,"millis":1.020801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":752501,"millis":0.752501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":741601,"millis":0.741601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":641100,"millis":0.6411,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655300,"millis":0.6553,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150901,"millis":0.150901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.462 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n"},{"result":{"nanos":599000,"millis":0.599,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.462 [print] #notpresent \n"},{"result":{"nanos":630901,"millis":0.630901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147000,"millis":0.147,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.463 [print] INSPIRE Atom \n"},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80000,"millis":0.08,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.463 [print] #notpresent \n"},{"result":{"nanos":725101,"millis":0.725101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135900,"millis":0.1359,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.464 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.464 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":828501,"millis":0.828501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757801,"millis":0.757801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.466 [print] #notpresent \n"},{"result":{"nanos":698701,"millis":0.698701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.467 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":694801,"millis":0.694801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":82600,"millis":0.0826,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.468 [print] \"true\";\"true\" \n"},{"result":{"nanos":452301,"millis":0.452301,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":444400,"millis":0.4444,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356301,"millis":0.356301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.632823,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","startTime":1647665745904,"refId":"[1.166:82]","endTime":1647665746469,"exampleData":{"datasetIdentifierCode":"7c664a91-1aa2-4923-9d17-6a43e4075f47"},"exampleIndex":165},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.177 karate.env system property was: null \n"},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134601,"millis":0.134601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":556200,"millis":0.5562,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":560101,"millis":0.560101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561987421,"millis":561.987421,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1025401,"millis":1.025401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":963301,"millis":0.963301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":669001,"millis":0.669001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":669701,"millis":0.669701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":856601,"millis":0.856601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":635601,"millis":0.635601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":593100,"millis":0.5931,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":537001,"millis":0.537001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":563701,"millis":0.563701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102300,"millis":0.1023,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":260400,"millis":0.2604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.748 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":605101,"millis":0.605101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.749 [print] #notpresent \n"},{"result":{"nanos":598800,"millis":0.5988,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.750 [print] INSPIRE Atom \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132600,"millis":0.1326,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.750 [print] #notpresent \n"},{"result":{"nanos":708700,"millis":0.7087,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.751 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.751 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":701401,"millis":0.701401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":796400,"millis":0.7964,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":164201,"millis":0.164201,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":128700,"millis":0.1287,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.753 [print] #notpresent \n"},{"result":{"nanos":866901,"millis":0.866901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":120800,"millis":0.1208,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.754 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":720301,"millis":0.720301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":141000,"millis":0.141,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.755 [print] \"true\";\"true\" \n"},{"result":{"nanos":394100,"millis":0.3941,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":497100,"millis":0.4971,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412401,"millis":0.412401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.036637,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"070014b4-1f63-4819-beea-000b7d5f8d86","startTime":1647665746176,"refId":"[1.167:82]","endTime":1647665746756,"exampleData":{"datasetIdentifierCode":"070014b4-1f63-4819-beea-000b7d5f8d86"},"exampleIndex":166},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.222 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228000,"millis":0.228,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317400,"millis":0.3174,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561835620,"millis":561.83562,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":656601,"millis":0.656601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":729001,"millis":0.729001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":758301,"millis":0.758301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":655700,"millis":0.6557,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":657401,"millis":0.657401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":738601,"millis":0.738601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":488301,"millis":0.488301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":702900,"millis":0.7029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":504901,"millis":0.504901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":146800,"millis":0.1468,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.791 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":656001,"millis":0.656001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.792 [print] INSPIRE Atom \n"},{"result":{"nanos":703101,"millis":0.703101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":238300,"millis":0.2383,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.793 [print] #notpresent \n"},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133200,"millis":0.1332,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.793 [print] INSPIRE Atom \n"},{"result":{"nanos":732201,"millis":0.732201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90800,"millis":0.0908,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.794 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.794 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":716501,"millis":0.716501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":737001,"millis":0.737001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.796 [print] #notpresent \n"},{"result":{"nanos":755601,"millis":0.755601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":109200,"millis":0.1092,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.797 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":700201,"millis":0.700201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.797 [print] \"true\";\"true\" \n"},{"result":{"nanos":301401,"millis":0.301401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":398500,"millis":0.3985,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333700,"millis":0.3337,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.052835,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","startTime":1647665746221,"refId":"[1.168:82]","endTime":1647665746799,"exampleData":{"datasetIdentifierCode":"13e4dff0-1e80-11e2-81c1-0800200c9a66"},"exampleIndex":167},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.311 karate.env system property was: null \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439901,"millis":0.439901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397500,"millis":0.3975,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160101,"millis":0.160101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534643790,"millis":534.64379,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":751601,"millis":0.751601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":820701,"millis":0.820701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":643601,"millis":0.643601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":728801,"millis":0.728801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":609300,"millis":0.6093,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":647401,"millis":0.647401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":620001,"millis":0.620001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":579801,"millis":0.579801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767700,"millis":0.7677,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146801,"millis":0.146801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:46.854 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":728601,"millis":0.728601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:46.855 [print] INSPIRE Atom \n"},{"result":{"nanos":566200,"millis":0.5662,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:46.856 [print] #notpresent \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:46.856 [print] INSPIRE Atom \n"},{"result":{"nanos":816201,"millis":0.816201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:46.857 [print] Beheer PDOK \n"},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:46.857 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":746601,"millis":0.746601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":779501,"millis":0.779501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":87200,"millis":0.0872,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:46.858 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":715301,"millis":0.715301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:46.859 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":671101,"millis":0.671101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:46.860 [print] \"true\";\"true\" \n"},{"result":{"nanos":304800,"millis":0.3048,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":397100,"millis":0.3971,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323301,"millis":0.323301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":549.523408,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","startTime":1647665746311,"refId":"[1.169:82]","endTime":1647665746861,"exampleData":{"datasetIdentifierCode":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507"},"exampleIndex":168},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.472 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":414200,"millis":0.4142,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":339400,"millis":0.3394,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541866299,"millis":541.866299,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":714201,"millis":0.714201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":838101,"millis":0.838101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":642900,"millis":0.6429,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":753701,"millis":0.753701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":669401,"millis":0.669401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":705801,"millis":0.705801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":608201,"millis":0.608201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":586900,"millis":0.5869,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":524101,"millis":0.524101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94800,"millis":0.0948,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169600,"millis":0.1696,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.022 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n"},{"result":{"nanos":546201,"millis":0.546201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.022 [print] #notpresent \n"},{"result":{"nanos":640401,"millis":0.640401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.023 [print] INSPIRE Atom \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.023 [print] #notpresent \n"},{"result":{"nanos":628300,"millis":0.6283,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.024 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.024 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":931301,"millis":0.931301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":768000,"millis":0.768,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50401,"millis":0.050401,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":381100,"millis":0.3811,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.028 [print] #notpresent \n"},{"result":{"nanos":790001,"millis":0.790001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":492401,"millis":0.492401,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.029 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":753800,"millis":0.7538,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":197301,"millis":0.197301,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.030 [print] \"true\";\"true\" \n"},{"result":{"nanos":355700,"millis":0.3557,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":362201,"millis":0.362201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288400,"millis":0.2884,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.227716,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","startTime":1647665746472,"refId":"[1.170:82]","endTime":1647665747032,"exampleData":{"datasetIdentifierCode":"243c6401-9ed1-4cdd-b9a7-caff08813ce4"},"exampleIndex":169},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.758 karate.env system property was: null \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374800,"millis":0.3748,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":176200,"millis":0.1762,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412601,"millis":0.412601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546816904,"millis":546.816904,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1112601,"millis":1.112601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":828701,"millis":0.828701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1087802,"millis":1.087802,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":744000,"millis":0.744,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1019502,"millis":1.019502,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":737000,"millis":0.737,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":624201,"millis":0.624201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":673701,"millis":0.673701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":599901,"millis":0.599901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":165100,"millis":0.1651,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1619602,"millis":1.619602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.316 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":694900,"millis":0.6949,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":385701,"millis":0.385701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.317 [print] #notpresent \n"},{"result":{"nanos":729501,"millis":0.729501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":410900,"millis":0.4109,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.319 [print] INSPIRE Atom \n"},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":378901,"millis":0.378901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.319 [print] #notpresent \n"},{"result":{"nanos":1136001,"millis":1.136001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":432100,"millis":0.4321,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.320 [print] Beheer PDOK \n"},{"result":{"nanos":671601,"millis":0.671601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.321 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":760801,"millis":0.760801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853401,"millis":0.853401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":334600,"millis":0.3346,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.323 [print] #notpresent \n"},{"result":{"nanos":9692311,"millis":9.692311,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":797801,"millis":0.797801,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.334 [print] \"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":915901,"millis":0.915901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":410301,"millis":0.410301,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.335 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":403400,"millis":0.4034,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":424001,"millis":0.424001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3348603,"millis":3.348603,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":580.584341,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","startTime":1647665746758,"refId":"[1.171:82]","endTime":1647665747340,"exampleData":{"datasetIdentifierCode":"ddf33bff-8de3-4cca-b6f5-24d18daa502f"},"exampleIndex":170},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.800 karate.env system property was: null \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281400,"millis":0.2814,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404001,"millis":0.404001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523479978,"millis":523.479978,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":652701,"millis":0.652701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":620801,"millis":0.620801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":658701,"millis":0.658701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":730800,"millis":0.7308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1045302,"millis":1.045302,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":954401,"millis":0.954401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":568300,"millis":0.5683,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":555501,"millis":0.555501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":678801,"millis":0.678801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1545201,"millis":1.545201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":3640404,"millis":3.640404,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.337 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":662801,"millis":0.662801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":495201,"millis":0.495201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.338 [print] INSPIRE Atom \n"},{"result":{"nanos":688901,"millis":0.688901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1323201,"millis":1.323201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.340 [print] #notpresent \n"},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":730001,"millis":0.730001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.341 [print] INSPIRE Atom \n"},{"result":{"nanos":1224601,"millis":1.224601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":551701,"millis":0.551701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.343 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":622401,"millis":0.622401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.344 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1006701,"millis":1.006701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1005501,"millis":1.005501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":457400,"millis":0.4574,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.346 [print] #notpresent \n"},{"result":{"nanos":717401,"millis":0.717401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":1388602,"millis":1.388602,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.348 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":736901,"millis":0.736901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":548600,"millis":0.5486,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.350 [print] \"true\";\"true\" \n"},{"result":{"nanos":293801,"millis":0.293801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":392100,"millis":0.3921,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307400,"millis":0.3074,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":549.641507,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"77971fa3-f869-4726-969a-482e0b1a8c5d","startTime":1647665746800,"refId":"[1.172:82]","endTime":1647665747351,"exampleData":{"datasetIdentifierCode":"77971fa3-f869-4726-969a-482e0b1a8c5d"},"exampleIndex":171},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:46.864 karate.env system property was: null \n"},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301500,"millis":0.3015,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":503000,"millis":0.503,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551233409,"millis":551.233409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":939201,"millis":0.939201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6'"}},{"result":{"nanos":754301,"millis":0.754301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681301,"millis":0.681301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":658601,"millis":0.658601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1035801,"millis":1.035801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":766001,"millis":0.766001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":592401,"millis":0.592401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":559900,"millis":0.5599,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":535901,"millis":0.535901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":198100,"millis":0.1981,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":234100,"millis":0.2341,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.424 [print] https:\/\/service.pdok.nl\/kadaster\/hy\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":629201,"millis":0.629201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157200,"millis":0.1572,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.425 [print] INSPIRE Atom \n"},{"result":{"nanos":702101,"millis":0.702101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130700,"millis":0.1307,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.426 [print] #notpresent \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140300,"millis":0.1403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.426 [print] INSPIRE Atom \n"},{"result":{"nanos":672101,"millis":0.672101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132700,"millis":0.1327,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.427 [print] Beheer PDOK \n"},{"result":{"nanos":177500,"millis":0.1775,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.427 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":670001,"millis":0.670001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":663201,"millis":0.663201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":106800,"millis":0.1068,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":215400,"millis":0.2154,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.428 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":705201,"millis":0.705201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":168400,"millis":0.1684,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.429 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":712601,"millis":0.712601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":193001,"millis":0.193001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.430 [print] \"true\";\"true\" \n"},{"result":{"nanos":332100,"millis":0.3321,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":528201,"millis":0.528201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317300,"millis":0.3173,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.049227,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6","startTime":1647665746863,"refId":"[1.173:82]","endTime":1647665747432,"exampleData":{"datasetIdentifierCode":"88c6f637-ed7a-4d3a-8ff3-afc8a6b744d6"},"exampleIndex":172},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.034 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81501,"millis":0.081501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350500,"millis":0.3505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":464301,"millis":0.464301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":185000,"millis":0.185,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0fa448bb-332b-40b2-adab-13626b29bee6'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553832212,"millis":553.832212,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1007301,"millis":1.007301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0fa448bb-332b-40b2-adab-13626b29bee6'"}},{"result":{"nanos":682601,"millis":0.682601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":790801,"millis":0.790801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":745901,"millis":0.745901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":787600,"millis":0.7876,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":693801,"millis":0.693801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":289901,"millis":0.289901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":555700,"millis":0.5557,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":543301,"millis":0.543301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":640901,"millis":0.640901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":869701,"millis":0.869701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.597 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":706400,"millis":0.7064,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.598 [print] INSPIRE Atom \n"},{"result":{"nanos":586000,"millis":0.586,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.599 [print] #notpresent \n"},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76701,"millis":0.076701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.599 [print] INSPIRE Atom \n"},{"result":{"nanos":652700,"millis":0.6527,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.600 [print] Beheer PDOK \n"},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.600 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n"},{"result":{"nanos":585901,"millis":0.585901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":607001,"millis":0.607001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.601 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":840601,"millis":0.840601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":180400,"millis":0.1804,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.602 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":727701,"millis":0.727701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":101200,"millis":0.1012,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.603 [print] \"true\";\"true\" \n"},{"result":{"nanos":374001,"millis":0.374001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":463000,"millis":0.463,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308101,"millis":0.308101,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.78563,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0fa448bb-332b-40b2-adab-13626b29bee6","startTime":1647665747033,"refId":"[1.174:82]","endTime":1647665747604,"exampleData":{"datasetIdentifierCode":"0fa448bb-332b-40b2-adab-13626b29bee6"},"exampleIndex":173},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.344 karate.env system property was: null \n"},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382401,"millis":0.382401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377500,"millis":0.3775,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":735701,"millis":0.735701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":577582438,"millis":577.582438,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1098402,"millis":1.098402,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":979201,"millis":0.979201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":713400,"millis":0.7134,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":603301,"millis":0.603301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":970401,"millis":0.970401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791101,"millis":0.791101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":679301,"millis":0.679301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":803701,"millis":0.803701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":716201,"millis":0.716201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147200,"millis":0.1472,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":503800,"millis":0.5038,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.932 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":720101,"millis":0.720101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":141300,"millis":0.1413,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.933 [print] #notpresent \n"},{"result":{"nanos":800001,"millis":0.800001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":201001,"millis":0.201001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.934 [print] INSPIRE Atom \n"},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.934 [print] #notpresent \n"},{"result":{"nanos":728201,"millis":0.728201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.935 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":188300,"millis":0.1883,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.935 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":726201,"millis":0.726201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":761501,"millis":0.761501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":137800,"millis":0.1378,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":125400,"millis":0.1254,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.937 [print] #notpresent \n"},{"result":{"nanos":762301,"millis":0.762301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":155600,"millis":0.1556,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.938 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Zie verordening\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Zie specificatie\" \n"},{"result":{"nanos":742201,"millis":0.742201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":125100,"millis":0.1251,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.939 [print] \"true\";\"true\" \n"},{"result":{"nanos":220901,"millis":0.220901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":485500,"millis":0.4855,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330101,"millis":0.330101,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":595.546359,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c47e4ef8-951e-4765-8d01-29150c12a22d","startTime":1647665747343,"refId":"[1.175:82]","endTime":1647665747940,"exampleData":{"datasetIdentifierCode":"c47e4ef8-951e-4765-8d01-29150c12a22d"},"exampleIndex":174},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.353 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":355301,"millis":0.355301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420800,"millis":0.4208,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":396801,"millis":0.396801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":604956868,"millis":604.956868,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":826801,"millis":0.826801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":629001,"millis":0.629001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":752701,"millis":0.752701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639400,"millis":0.6394,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":803901,"millis":0.803901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":827301,"millis":0.827301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":709601,"millis":0.709601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1831802,"millis":1.831802,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":913101,"millis":0.913101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3209604,"millis":3.209604,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":173700,"millis":0.1737,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.971 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":753401,"millis":0.753401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125800,"millis":0.1258,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.972 [print] INSPIRE Atom \n"},{"result":{"nanos":748801,"millis":0.748801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1204801,"millis":1.204801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:47.974 [print] #notpresent \n"},{"result":{"nanos":133700,"millis":0.1337,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:47.974 [print] INSPIRE Atom \n"},{"result":{"nanos":660701,"millis":0.660701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":227101,"millis":0.227101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:47.975 [print] Beheer PDOK \n"},{"result":{"nanos":121800,"millis":0.1218,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:47.975 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":695300,"millis":0.6953,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":641801,"millis":0.641801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":110500,"millis":0.1105,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:47.977 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":871501,"millis":0.871501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":128701,"millis":0.128701,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":123200,"millis":0.1232,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:47.978 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":803001,"millis":0.803001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":112100,"millis":0.1121,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:47.979 [print] \"true\";\"true\" \n"},{"result":{"nanos":181800,"millis":0.1818,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":361501,"millis":0.361501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":380000,"millis":0.38,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":626.674693,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","startTime":1647665747352,"refId":"[1.176:82]","endTime":1647665747980,"exampleData":{"datasetIdentifierCode":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba"},"exampleIndex":175},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.434 karate.env system property was: null \n"},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398200,"millis":0.3982,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402701,"millis":0.402701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555050413,"millis":555.050413,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":829301,"millis":0.829301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":673901,"millis":0.673901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":663801,"millis":0.663801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":711901,"millis":0.711901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":751501,"millis":0.751501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":816600,"millis":0.8166,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":744100,"millis":0.7441,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":801401,"millis":0.801401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":607601,"millis":0.607601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113600,"millis":0.1136,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147100,"millis":0.1471,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:47.998 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":734101,"millis":0.734101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:47.999 [print] #notpresent \n"},{"result":{"nanos":664301,"millis":0.664301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":132000,"millis":0.132,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.000 [print] INSPIRE Atom \n"},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.000 [print] #notpresent \n"},{"result":{"nanos":764601,"millis":0.764601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139500,"millis":0.1395,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.001 [print] Beheer PDOK \n"},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.001 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":736400,"millis":0.7364,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":733701,"millis":0.733701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":144600,"millis":0.1446,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.002 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":713301,"millis":0.713301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":99700,"millis":0.0997,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":143001,"millis":0.143001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.003 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":697900,"millis":0.6979,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":109300,"millis":0.1093,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.004 [print] \"true\";\"true\" \n"},{"result":{"nanos":221700,"millis":0.2217,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":403900,"millis":0.4039,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343401,"millis":0.343401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.72583,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","startTime":1647665747434,"refId":"[1.177:82]","endTime":1647665748005,"exampleData":{"datasetIdentifierCode":"641a0f48-872b-4470-b130-e3d28e6bfdfb"},"exampleIndex":176},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.608 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":452000,"millis":0.452,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351101,"millis":0.351101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":104300,"millis":0.1043,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533953290,"millis":533.95329,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1069601,"millis":1.069601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":713401,"millis":0.713401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688401,"millis":0.688401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":643501,"millis":0.643501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":860801,"millis":0.860801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":670601,"millis":0.670601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83500,"millis":0.0835,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":661500,"millis":0.6615,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":807101,"millis":0.807101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723601,"millis":0.723601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138800,"millis":0.1388,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184800,"millis":0.1848,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:48.151 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":675001,"millis":0.675001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":176200,"millis":0.1762,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:48.152 [print] INSPIRE Atom \n"},{"result":{"nanos":683101,"millis":0.683101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.153 [print] #notpresent \n"},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":119901,"millis":0.119901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.153 [print] INSPIRE Atom \n"},{"result":{"nanos":699800,"millis":0.6998,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224401,"millis":0.224401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.154 [print] Beheer PDOK \n"},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.154 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":780801,"millis":0.780801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":705400,"millis":0.7054,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":135901,"millis":0.135901,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":166000,"millis":0.166,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.156 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":748801,"millis":0.748801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":293400,"millis":0.2934,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":141300,"millis":0.1413,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.157 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":741001,"millis":0.741001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":148000,"millis":0.148,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.158 [print] \"true\";\"true\" \n"},{"result":{"nanos":235401,"millis":0.235401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":450900,"millis":0.4509,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343900,"millis":0.3439,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":550.323808,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","startTime":1647665747608,"refId":"[1.178:82]","endTime":1647665748159,"exampleData":{"datasetIdentifierCode":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f"},"exampleIndex":177},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.943 karate.env system property was: null \n"},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":170700,"millis":0.1707,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":364001,"millis":0.364001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108700,"millis":0.1087,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":528101,"millis":0.528101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128500,"millis":0.1285,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":241200,"millis":0.2412,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":303701,"millis":0.303701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552531710,"millis":552.53171,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":989301,"millis":0.989301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":862001,"millis":0.862001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":788801,"millis":0.788801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":731501,"millis":0.731501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":798801,"millis":0.798801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":776901,"millis":0.776901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":629900,"millis":0.6299,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":593101,"millis":0.593101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":740301,"millis":0.740301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117800,"millis":0.1178,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:48.506 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":724901,"millis":0.724901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105200,"millis":0.1052,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:48.506 [print] #notpresent \n"},{"result":{"nanos":661501,"millis":0.661501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.507 [print] OGC:WFS \n"},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93200,"millis":0.0932,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.507 [print] #notpresent \n"},{"result":{"nanos":754601,"millis":0.754601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":152300,"millis":0.1523,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.508 [print] Beheer PDOK \n"},{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.508 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":758801,"millis":0.758801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":795001,"millis":0.795001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":166900,"millis":0.1669,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.510 [print] #notpresent \n"},{"result":{"nanos":903001,"millis":0.903001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.511 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":819501,"millis":0.819501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.512 [print] \"true\";\"true\" \n"},{"result":{"nanos":414200,"millis":0.4142,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":428900,"millis":0.4289,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":373701,"millis":0.373701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.60693,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e08079df-6c19-486e-916e-5c9948cfafea","startTime":1647665747942,"refId":"[1.179:82]","endTime":1647665748513,"exampleData":{"datasetIdentifierCode":"e08079df-6c19-486e-916e-5c9948cfafea"},"exampleIndex":178},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:47.983 karate.env system property was: null \n"},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":168900,"millis":0.1689,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340201,"millis":0.340201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108100,"millis":0.1081,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456401,"millis":0.456401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":427600,"millis":0.4276,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109000,"millis":0.109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546596204,"millis":546.596204,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":740901,"millis":0.740901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":1428102,"millis":1.428102,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":759000,"millis":0.759,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":797701,"millis":0.797701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":743701,"millis":0.743701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":731601,"millis":0.731601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":667901,"millis":0.667901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":668701,"millis":0.668701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":795700,"millis":0.7957,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":624200,"millis":0.6242,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":606901,"millis":0.606901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:48.541 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n"},{"result":{"nanos":697601,"millis":0.697601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474400,"millis":0.4744,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:48.542 [print] #notpresent \n"},{"result":{"nanos":695601,"millis":0.695601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":3529604,"millis":3.529604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.546 [print] OGC:WMS \n"},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.546 [print] #notpresent \n"},{"result":{"nanos":811901,"millis":0.811901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.547 [print] Beheer PDOK \n"},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.547 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":727701,"millis":0.727701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":746501,"millis":0.746501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":120600,"millis":0.1206,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.549 [print] #notpresent \n"},{"result":{"nanos":799201,"millis":0.799201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":80500,"millis":0.0805,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.550 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":971101,"millis":0.971101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.551 [print] \"true\";\"true\" \n"},{"result":{"nanos":372401,"millis":0.372401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":360700,"millis":0.3607,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":284701,"millis":0.284701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.371728,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","startTime":1647665747982,"refId":"[1.180:82]","endTime":1647665748552,"exampleData":{"datasetIdentifierCode":"88a93a3b-d522-4c5d-9b0f-c6c39a118442"},"exampleIndex":179},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.008 karate.env system property was: null \n"},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116800,"millis":0.1168,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":395101,"millis":0.395101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":137700,"millis":0.1377,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457700,"millis":0.4577,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":578581339,"millis":578.581339,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":862601,"millis":0.862601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":761801,"millis":0.761801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":771501,"millis":0.771501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":706600,"millis":0.7066,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":715901,"millis":0.715901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":622101,"millis":0.622101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":610201,"millis":0.610201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":550200,"millis":0.5502,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":593001,"millis":0.593001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":182900,"millis":0.1829,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:48.595 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":661601,"millis":0.661601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:48.596 [print] OGC:WFS \n"},{"result":{"nanos":738001,"millis":0.738001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106900,"millis":0.1069,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.597 [print] #notpresent \n"},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.597 [print] OGC:WFS \n"},{"result":{"nanos":669501,"millis":0.669501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107700,"millis":0.1077,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.598 [print] Beheer PDOK \n"},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.598 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":630201,"millis":0.630201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":741901,"millis":0.741901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.600 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":887301,"millis":0.887301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.601 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":803901,"millis":0.803901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.602 [print] \"true\";\"true\" \n"},{"result":{"nanos":300801,"millis":0.300801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":351000,"millis":0.351,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328400,"millis":0.3284,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":593.869956,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d94b1eca-8a7d-4dc4-b979-36257878758f","startTime":1647665748007,"refId":"[1.181:82]","endTime":1647665748603,"exampleData":{"datasetIdentifierCode":"d94b1eca-8a7d-4dc4-b979-36257878758f"},"exampleIndex":180},{"sectionIndex":0,"stepResults":[{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.162 karate.env system property was: null \n"},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":137401,"millis":0.137401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105600,"millis":0.1056,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":524500,"millis":0.5245,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":156301,"millis":0.156301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":571100,"millis":0.5711,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":158500,"millis":0.1585,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553992812,"millis":553.992812,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1085001,"millis":1.085001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":862801,"millis":0.862801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":975701,"millis":0.975701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":993501,"millis":0.993501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":885401,"millis":0.885401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":768401,"millis":0.768401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":667301,"millis":0.667301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":783001,"millis":0.783001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":631300,"millis":0.6313,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149900,"millis":0.1499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:48.727 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n"},{"result":{"nanos":763501,"millis":0.763501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:48.728 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":851101,"millis":0.851101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159200,"millis":0.1592,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:48.729 [print] #notpresent \n"},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84000,"millis":0.084,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:48.729 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":815901,"millis":0.815901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:48.730 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":125400,"millis":0.1254,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:48.730 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":846401,"millis":0.846401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":879001,"millis":0.879001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:48.732 [print] #notpresent \n"},{"result":{"nanos":973701,"millis":0.973701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":124701,"millis":0.124701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:48.733 [print] \"VERORDENING (EU) Nr. 1089\\\/2010 VAN DE COMMISSIE van 23 november 2010 ter uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad betreffende de interoperabiliteit van verzamelingen ruimtelijke gegevens en van diensten met betrekking tot ruimtelijke gegevens\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.0\";\"conformant\" \n"},{"result":{"nanos":1470001,"millis":1.470001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":122500,"millis":0.1225,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:48.735 [print] \"false\";\"true\";\"true\" \n"},{"result":{"nanos":473101,"millis":0.473101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":465901,"millis":0.465901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":408500,"millis":0.4085,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.015334,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","startTime":1647665748161,"refId":"[1.182:82]","endTime":1647665748736,"exampleData":{"datasetIdentifierCode":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e"},"exampleIndex":181},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.516 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340900,"millis":0.3409,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352001,"millis":0.352001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537048293,"millis":537.048293,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1009001,"millis":1.009001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":716001,"millis":0.716001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":677001,"millis":0.677001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":620801,"millis":0.620801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":741900,"millis":0.7419,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":621001,"millis":0.621001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":539701,"millis":0.539701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":567100,"millis":0.5671,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":520001,"millis":0.520001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.061 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":708901,"millis":0.708901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.061 [print] OGC:WMS \n"},{"result":{"nanos":630601,"millis":0.630601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.062 [print] #notpresent \n"},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.062 [print] OGC:WMS \n"},{"result":{"nanos":767801,"millis":0.767801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.063 [print] Beheer PDOK \n"},{"result":{"nanos":114100,"millis":0.1141,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.063 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":782301,"millis":0.782301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":736701,"millis":0.736701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.065 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":816901,"millis":0.816901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.066 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":3612504,"millis":3.612504,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.070 [print] \"true\";\"true\" \n"},{"result":{"nanos":442300,"millis":0.4423,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":376800,"millis":0.3768,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325601,"millis":0.325601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":554.553313,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","startTime":1647665748516,"refId":"[1.183:82]","endTime":1647665749071,"exampleData":{"datasetIdentifierCode":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa"},"exampleIndex":182},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.554 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":377501,"millis":0.377501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371200,"millis":0.3712,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186601,"millis":0.186601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":603318666,"millis":603.318666,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":902001,"millis":0.902001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":764901,"millis":0.764901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":695401,"millis":0.695401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":771601,"millis":0.771601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":811301,"millis":0.811301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":929201,"millis":0.929201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718501,"millis":0.718501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":637300,"millis":0.6373,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":716201,"millis":0.716201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107900,"millis":0.1079,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127701,"millis":0.127701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.167 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":733300,"millis":0.7333,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":158601,"millis":0.158601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.168 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":707400,"millis":0.7074,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.168 [print] #notpresent \n"},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138200,"millis":0.1382,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.169 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":815201,"millis":0.815201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.170 [print] Beheer PDOK \n"},{"result":{"nanos":96500,"millis":0.0965,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.170 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":805301,"millis":0.805301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757701,"millis":0.757701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":124300,"millis":0.1243,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.171 [print] #notpresent \n"},{"result":{"nanos":798801,"millis":0.798801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.172 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":857701,"millis":0.857701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.173 [print] \"true\";\"true\" \n"},{"result":{"nanos":342700,"millis":0.3427,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":322701,"millis":0.322701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438200,"millis":0.4382,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":619.570185,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"db1e010a-96f8-453e-b63c-9c27d6273157","startTime":1647665748554,"refId":"[1.184:82]","endTime":1647665749175,"exampleData":{"datasetIdentifierCode":"db1e010a-96f8-453e-b63c-9c27d6273157"},"exampleIndex":183},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.605 karate.env system property was: null \n"},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309301,"millis":0.309301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428000,"millis":0.428,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":573481633,"millis":573.481633,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":754401,"millis":0.754401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":670301,"millis":0.670301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":781501,"millis":0.781501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":776600,"millis":0.7766,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":685401,"millis":0.685401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":887801,"millis":0.887801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":792201,"millis":0.792201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":752701,"millis":0.752701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":983701,"millis":0.983701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":162400,"millis":0.1624,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.187 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":715201,"millis":0.715201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143300,"millis":0.1433,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.188 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":713701,"millis":0.713701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.189 [print] #notpresent \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116000,"millis":0.116,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.189 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":800200,"millis":0.8002,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":143001,"millis":0.143001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.190 [print] Beheer PDOK \n"},{"result":{"nanos":126700,"millis":0.1267,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.190 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":863001,"millis":0.863001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":763301,"millis":0.763301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.192 [print] #notpresent \n"},{"result":{"nanos":849501,"millis":0.849501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.193 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":931301,"millis":0.931301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.194 [print] \"true\";\"true\" \n"},{"result":{"nanos":324000,"millis":0.324,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":542001,"millis":0.542001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350100,"millis":0.3501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":589.931151,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","startTime":1647665748605,"refId":"[1.185:82]","endTime":1647665749196,"exampleData":{"datasetIdentifierCode":"25a99d92-ea8a-4163-82ab-3521c9b0c96b"},"exampleIndex":184},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:48.739 karate.env system property was: null \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340900,"millis":0.3409,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366801,"millis":0.366801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539231896,"millis":539.231896,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":720801,"millis":0.720801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":663100,"millis":0.6631,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":704001,"millis":0.704001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":571601,"millis":0.571601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":675101,"millis":0.675101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":630600,"millis":0.6306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":537401,"millis":0.537401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":580401,"millis":0.580401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":566600,"millis":0.5666,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.285 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":752501,"millis":0.752501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120900,"millis":0.1209,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.286 [print] OGC:WMS \n"},{"result":{"nanos":739901,"millis":0.739901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120500,"millis":0.1205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.287 [print] #notpresent \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80601,"millis":0.080601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.287 [print] OGC:WMS \n"},{"result":{"nanos":811300,"millis":0.8113,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126001,"millis":0.126001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.288 [print] Beheer PDOK \n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.288 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":703200,"millis":0.7032,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":788601,"millis":0.788601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.290 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":772501,"millis":0.772501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":126501,"millis":0.126501,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.291 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":792300,"millis":0.7923,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":40201,"millis":0.040201,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.292 [print] \"true\";\"true\" \n"},{"result":{"nanos":213900,"millis":0.2139,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":305400,"millis":0.3054,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":305201,"millis":0.305201,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":553.260612,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","startTime":1647665748738,"refId":"[1.186:82]","endTime":1647665749293,"exampleData":{"datasetIdentifierCode":"488c1e6d-363e-4476-b2ff-17756ac9b35f"},"exampleIndex":185},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.073 karate.env system property was: null \n"},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75200,"millis":0.0752,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":426800,"millis":0.4268,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462400,"millis":0.4624,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529290085,"millis":529.290085,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":931901,"millis":0.931901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":769201,"millis":0.769201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":696601,"millis":0.696601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":742201,"millis":0.742201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":678600,"millis":0.6786,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":744901,"millis":0.744901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":521701,"millis":0.521701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":643901,"millis":0.643901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":797300,"millis":0.7973,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119200,"millis":0.1192,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.611 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":1363701,"millis":1.363701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.613 [print] OGC:WFS \n"},{"result":{"nanos":685601,"millis":0.685601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.614 [print] INSPIRE Atom \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103400,"millis":0.1034,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.614 [print] OGC:WFS \n"},{"result":{"nanos":652801,"millis":0.652801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.615 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.615 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":629301,"millis":0.629301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":622701,"millis":0.622701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.616 [print] #notpresent \n"},{"result":{"nanos":691301,"millis":0.691301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.617 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services 3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":653000,"millis":0.653,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42701,"millis":0.042701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.618 [print] \"false\";\"false\" \n"},{"result":{"nanos":356900,"millis":0.3569,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":440801,"millis":0.440801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322800,"millis":0.3228,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":544.618601,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"46873d16-6835-48c4-b47f-134ab0cb31fa","startTime":1647665749073,"refId":"[1.187:82]","endTime":1647665749619,"exampleData":{"datasetIdentifierCode":"46873d16-6835-48c4-b47f-134ab0cb31fa"},"exampleIndex":186},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.177 karate.env system property was: null \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367901,"millis":0.367901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477000,"millis":0.477,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3450504,"millis":3.450504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544679902,"millis":544.679902,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":696401,"millis":0.696401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":662501,"millis":0.662501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":790201,"millis":0.790201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":688400,"millis":0.6884,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":834901,"millis":0.834901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":785901,"millis":0.785901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":707101,"millis":0.707101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":617601,"millis":0.617601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":557700,"millis":0.5577,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72200,"millis":0.0722,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":194901,"millis":0.194901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.733 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n"},{"result":{"nanos":740500,"millis":0.7405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":156001,"millis":0.156001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.734 [print] #notpresent \n"},{"result":{"nanos":882201,"millis":0.882201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.735 [print] INSPIRE Atom \n"},{"result":{"nanos":224400,"millis":0.2244,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.736 [print] #notpresent \n"},{"result":{"nanos":857101,"millis":0.857101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83700,"millis":0.0837,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.737 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":243800,"millis":0.2438,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.737 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":670201,"millis":0.670201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697401,"millis":0.697401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.738 [print] #notpresent \n"},{"result":{"nanos":812001,"millis":0.812001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.739 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":865601,"millis":0.865601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.741 [print] \"true\";\"true\" \n"},{"result":{"nanos":417101,"millis":0.417101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":452800,"millis":0.4528,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336801,"millis":0.336801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.127324,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5f0c583a-101e-45ea-b684-a056713cf811","startTime":1647665749176,"refId":"[1.188:82]","endTime":1647665749742,"exampleData":{"datasetIdentifierCode":"5f0c583a-101e-45ea-b684-a056713cf811"},"exampleIndex":187},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.198 karate.env system property was: null \n"},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":300101,"millis":0.300101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":340400,"millis":0.3404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":195100,"millis":0.1951,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":568114928,"millis":568.114928,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":691501,"millis":0.691501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":21249023,"millis":21.249023,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1239402,"millis":1.239402,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":721900,"millis":0.7219,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":991001,"millis":0.991001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1008401,"millis":1.008401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":795901,"millis":0.795901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":733801,"millis":0.733801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":690800,"millis":0.6908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":176501,"millis":0.176501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":532400,"millis":0.5324,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.796 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":798201,"millis":0.798201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":344100,"millis":0.3441,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.798 [print] OGC:WMS \n"},{"result":{"nanos":785901,"millis":0.785901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":267401,"millis":0.267401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.799 [print] #notpresent \n"},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":217400,"millis":0.2174,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.799 [print] OGC:WMS \n"},{"result":{"nanos":2468703,"millis":2.468703,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128000,"millis":0.128,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.802 [print] Beheer PDOK \n"},{"result":{"nanos":364700,"millis":0.3647,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.802 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":981101,"millis":0.981101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":776701,"millis":0.776701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":253801,"millis":0.253801,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.804 [print] #notpresent \n"},{"result":{"nanos":741801,"millis":0.741801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":170100,"millis":0.1701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.805 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":780101,"millis":0.780101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":176900,"millis":0.1769,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.806 [print] \"true\";\"true\" \n"},{"result":{"nanos":255600,"millis":0.2556,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":396101,"millis":0.396101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":259200,"millis":0.2592,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":608.789472,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","startTime":1647665749197,"refId":"[1.189:82]","endTime":1647665749807,"exampleData":{"datasetIdentifierCode":"6a129fd1-0988-4b8a-975a-6ff134b6754a"},"exampleIndex":188},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.294 karate.env system property was: null \n"},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298800,"millis":0.2988,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":290400,"millis":0.2904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551358509,"millis":551.358509,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":831601,"millis":0.831601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":742901,"millis":0.742901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":763000,"millis":0.763,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":821000,"millis":0.821,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":945901,"millis":0.945901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":807901,"millis":0.807901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":826901,"millis":0.826901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":923401,"millis":0.923401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":778801,"millis":0.778801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143601,"millis":0.143601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":274500,"millis":0.2745,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:49.855 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":775001,"millis":0.775001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165500,"millis":0.1655,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:49.856 [print] #notpresent \n"},{"result":{"nanos":845001,"millis":0.845001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140300,"millis":0.1403,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:49.857 [print] OGC:WFS \n"},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":255500,"millis":0.2555,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:49.858 [print] #notpresent \n"},{"result":{"nanos":778901,"millis":0.778901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":210900,"millis":0.2109,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:49.859 [print] Beheer PDOK \n"},{"result":{"nanos":276900,"millis":0.2769,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:49.859 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":768601,"millis":0.768601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":801101,"millis":0.801101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":140500,"millis":0.1405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":192200,"millis":0.1922,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:49.861 [print] #notpresent \n"},{"result":{"nanos":789801,"millis":0.789801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":155701,"millis":0.155701,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:49.862 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":777001,"millis":0.777001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":259600,"millis":0.2596,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:49.863 [print] \"true\";\"true\" \n"},{"result":{"nanos":249900,"millis":0.2499,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":425601,"millis":0.425601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":397000,"millis":0.397,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.080027,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","startTime":1647665749294,"refId":"[1.190:82]","endTime":1647665749864,"exampleData":{"datasetIdentifierCode":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c"},"exampleIndex":189},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.621 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":332401,"millis":0.332401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372900,"millis":0.3729,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541635799,"millis":541.635799,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1112201,"millis":1.112201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":1030501,"millis":1.030501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":677501,"millis":0.677501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":991501,"millis":0.991501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":988201,"millis":0.988201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":780301,"millis":0.780301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":797901,"millis":0.797901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":692501,"millis":0.692501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":594601,"millis":0.594601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":422900,"millis":0.4229,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.174 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":725901,"millis":0.725901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":312700,"millis":0.3127,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.175 [print] OGC:WMS \n"},{"result":{"nanos":756401,"millis":0.756401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.176 [print] #notpresent \n"},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144901,"millis":0.144901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.176 [print] OGC:WMS \n"},{"result":{"nanos":960101,"millis":0.960101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224700,"millis":0.2247,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.177 [print] Beheer PDOK \n"},{"result":{"nanos":185900,"millis":0.1859,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.177 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":1685802,"millis":1.685802,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723301,"millis":0.723301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":123700,"millis":0.1237,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":244100,"millis":0.2441,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.180 [print] #notpresent \n"},{"result":{"nanos":784101,"millis":0.784101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":153300,"millis":0.1533,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":254501,"millis":0.254501,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.182 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":895901,"millis":0.895901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":177000,"millis":0.177,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.183 [print] \"true\";\"true\" \n"},{"result":{"nanos":225400,"millis":0.2254,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":410201,"millis":0.410201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352300,"millis":0.3523,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.487821,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","startTime":1647665749621,"refId":"[1.191:82]","endTime":1647665750184,"exampleData":{"datasetIdentifierCode":"5be14ec9-9bb3-4395-a061-e7e78d04a527"},"exampleIndex":190},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.744 karate.env system property was: null \n"},{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379300,"millis":0.3793,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":326801,"millis":0.326801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561126820,"millis":561.12682,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1121101,"millis":1.121101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":935901,"millis":0.935901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769601,"millis":0.769601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":880801,"millis":0.880801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884101,"millis":0.884101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":998301,"millis":0.998301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91900,"millis":0.0919,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":856801,"millis":0.856801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":706601,"millis":0.706601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":701901,"millis":0.701901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118500,"millis":0.1185,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":275200,"millis":0.2752,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.315 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":703701,"millis":0.703701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119100,"millis":0.1191,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.316 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":740801,"millis":0.740801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.317 [print] #notpresent \n"},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.317 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":956201,"millis":0.956201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.318 [print] Beheer PDOK \n"},{"result":{"nanos":201400,"millis":0.2014,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.319 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n"},{"result":{"nanos":776201,"millis":0.776201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":916001,"millis":0.916001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":103500,"millis":0.1035,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":111700,"millis":0.1117,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.321 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":786301,"millis":0.786301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":100000,"millis":0.1,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":108900,"millis":0.1089,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.322 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":811201,"millis":0.811201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.323 [print] \"true\";\"true\" \n"},{"result":{"nanos":195201,"millis":0.195201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":550100,"millis":0.5501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":415701,"millis":0.415701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":579.085641,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"74620aa8-4fa2-414d-8350-50d93e500da8","startTime":1647665749744,"refId":"[1.192:82]","endTime":1647665750324,"exampleData":{"datasetIdentifierCode":"74620aa8-4fa2-414d-8350-50d93e500da8"},"exampleIndex":191},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.810 karate.env system property was: null \n"},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141100,"millis":0.1411,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":450701,"millis":0.450701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":155500,"millis":0.1555,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413200,"millis":0.4132,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":132400,"millis":0.1324,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32501,"millis":0.032501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553582611,"millis":553.582611,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":810901,"millis":0.810901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":763901,"millis":0.763901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1096201,"millis":1.096201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1074001,"millis":1.074001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":785001,"millis":0.785001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":915101,"millis":0.915101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":723001,"millis":0.723001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":585801,"millis":0.585801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710801,"millis":0.710801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.374 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":809801,"millis":0.809801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108700,"millis":0.1087,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.375 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":760701,"millis":0.760701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.376 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.376 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":935501,"millis":0.935501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.377 [print] Beheer PDOK \n"},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.377 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n"},{"result":{"nanos":967601,"millis":0.967601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":970301,"millis":0.970301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":99900,"millis":0.0999,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":108300,"millis":0.1083,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.379 [print] #notpresent \n"},{"result":{"nanos":825101,"millis":0.825101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.380 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":888101,"millis":0.888101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":175500,"millis":0.1755,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.381 [print] \"true\";\"true\" \n"},{"result":{"nanos":254401,"millis":0.254401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":546900,"millis":0.5469,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":416701,"millis":0.416701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.715433,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","startTime":1647665749809,"refId":"[1.193:82]","endTime":1647665750383,"exampleData":{"datasetIdentifierCode":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d"},"exampleIndex":192},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:49.871 karate.env system property was: null \n"},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":172600,"millis":0.1726,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":352200,"millis":0.3522,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381101,"millis":0.381101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":525601,"millis":0.525601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543642600,"millis":543.6426,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":724801,"millis":0.724801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":655401,"millis":0.655401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":836901,"millis":0.836901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":769001,"millis":0.769001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":631200,"millis":0.6312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":789101,"millis":0.789101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":683901,"millis":0.683901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":591701,"millis":0.591701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":590900,"millis":0.5909,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.423 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n"},{"result":{"nanos":618700,"millis":0.6187,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.424 [print] #notpresent \n"},{"result":{"nanos":694901,"millis":0.694901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.425 [print] INSPIRE Atom \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109301,"millis":0.109301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.425 [print] #notpresent \n"},{"result":{"nanos":689400,"millis":0.6894,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.426 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.426 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":690201,"millis":0.690201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":623601,"millis":0.623601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":80500,"millis":0.0805,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.427 [print] #notpresent \n"},{"result":{"nanos":747101,"millis":0.747101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":122000,"millis":0.122,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.428 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":936401,"millis":0.936401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":101200,"millis":0.1012,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.429 [print] \"true\";\"true\" \n"},{"result":{"nanos":246801,"millis":0.246801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":419500,"millis":0.4195,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":256201,"millis":0.256201,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.923419,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","startTime":1647665749866,"refId":"[1.194:82]","endTime":1647665750430,"exampleData":{"datasetIdentifierCode":"efb5222c-112a-4c57-9bbf-f2af918cb9b5"},"exampleIndex":193},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.187 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131400,"millis":0.1314,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139200,"millis":0.1392,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":464200,"millis":0.4642,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":485900,"millis":0.4859,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":101300,"millis":0.1013,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549110606,"millis":549.110606,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1085202,"millis":1.085202,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":720700,"millis":0.7207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":719701,"millis":0.719701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":692801,"millis":0.692801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1029801,"millis":1.029801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":784101,"millis":0.784101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":742101,"millis":0.742101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":640101,"millis":0.640101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":570600,"millis":0.5706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157001,"millis":0.157001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.745 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":731000,"millis":0.731,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116100,"millis":0.1161,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.746 [print] OGC:WMS \n"},{"result":{"nanos":763100,"millis":0.7631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.747 [print] #notpresent \n"},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.747 [print] OGC:WMS \n"},{"result":{"nanos":696900,"millis":0.6969,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.748 [print] Beheer PDOK \n"},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.748 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":809901,"millis":0.809901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853300,"millis":0.8533,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.750 [print] #notpresent \n"},{"result":{"nanos":930801,"millis":0.930801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":114000,"millis":0.114,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.751 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":914101,"millis":0.914101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.752 [print] \"true\";\"true\" \n"},{"result":{"nanos":422101,"millis":0.422101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":745200,"millis":0.7452,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":525801,"millis":0.525801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.547622,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"62dc32f1-853c-416a-876b-6e083554f1b6","startTime":1647665750186,"refId":"[1.195:82]","endTime":1647665750754,"exampleData":{"datasetIdentifierCode":"62dc32f1-853c-416a-876b-6e083554f1b6"},"exampleIndex":194},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.326 karate.env system property was: null \n"},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":167200,"millis":0.1672,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125400,"millis":0.1254,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":394601,"millis":0.394601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142200,"millis":0.1422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519801,"millis":0.519801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":137400,"millis":0.1374,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541422098,"millis":541.422098,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1114802,"millis":1.114802,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":799200,"millis":0.7992,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":837800,"millis":0.8378,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":669301,"millis":0.669301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":789101,"millis":0.789101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":902901,"millis":0.902901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":609201,"millis":0.609201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":653101,"millis":0.653101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":696900,"millis":0.6969,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":126501,"millis":0.126501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120800,"millis":0.1208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.878 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":833701,"millis":0.833701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92300,"millis":0.0923,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.879 [print] OGC:WFS \n"},{"result":{"nanos":674700,"millis":0.6747,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.879 [print] #notpresent \n"},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103500,"millis":0.1035,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.880 [print] OGC:WFS \n"},{"result":{"nanos":825301,"millis":0.825301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.881 [print] Beheer PDOK \n"},{"result":{"nanos":147800,"millis":0.1478,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.881 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":806501,"millis":0.806501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":889401,"millis":0.889401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.883 [print] #notpresent \n"},{"result":{"nanos":829401,"millis":0.829401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.884 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":849101,"millis":0.849101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":79000,"millis":0.079,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.885 [print] \"true\";\"true\" \n"},{"result":{"nanos":493501,"millis":0.493501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":640501,"millis":0.640501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330300,"millis":0.3303,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.713517,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","startTime":1647665750326,"refId":"[1.196:82]","endTime":1647665750886,"exampleData":{"datasetIdentifierCode":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a"},"exampleIndex":195},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.385 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286901,"millis":0.286901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360100,"millis":0.3601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127900,"millis":0.1279,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548003806,"millis":548.003806,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":727801,"millis":0.727801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":846901,"millis":0.846901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":819300,"millis":0.8193,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":754301,"millis":0.754301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":753401,"millis":0.753401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":690101,"millis":0.690101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":717901,"millis":0.717901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":613900,"millis":0.6139,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":581301,"millis":0.581301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":209300,"millis":0.2093,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.941 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n"},{"result":{"nanos":787201,"millis":0.787201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.942 [print] #notpresent \n"},{"result":{"nanos":1699202,"millis":1.699202,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":475101,"millis":0.475101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.944 [print] OGC:WMS \n"},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":423100,"millis":0.4231,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.945 [print] #notpresent \n"},{"result":{"nanos":1135002,"millis":1.135002,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":500700,"millis":0.5007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.946 [print] Beheer PDOK \n"},{"result":{"nanos":549401,"millis":0.549401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.947 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":1150101,"millis":1.150101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":944301,"millis":0.944301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":110700,"millis":0.1107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":309901,"millis":0.309901,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.949 [print] #notpresent \n"},{"result":{"nanos":978001,"millis":0.978001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":275400,"millis":0.2754,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":604501,"millis":0.604501,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.951 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1061401,"millis":1.061401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":417001,"millis":0.417001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.953 [print] \"true\";\"true\" \n"},{"result":{"nanos":305700,"millis":0.3057,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":607201,"millis":0.607201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":455600,"millis":0.4556,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.961429,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","startTime":1647665750384,"refId":"[1.197:82]","endTime":1647665750954,"exampleData":{"datasetIdentifierCode":"c474b492-da63-4a33-9bdd-b3709ce2cd6c"},"exampleIndex":196},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.432 karate.env system property was: null \n"},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278300,"millis":0.2783,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371001,"millis":0.371001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539237496,"millis":539.237496,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":711400,"millis":0.7114,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":798701,"millis":0.798701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693101,"millis":0.693101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":713101,"millis":0.713101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":964001,"millis":0.964001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":713501,"millis":0.713501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":664701,"millis":0.664701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":631300,"millis":0.6313,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":580701,"millis":0.580701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:50.980 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1026301,"millis":1.026301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:50.981 [print] OGC:WFS \n"},{"result":{"nanos":767201,"millis":0.767201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:50.982 [print] #notpresent \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":378001,"millis":0.378001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:50.982 [print] OGC:WFS \n"},{"result":{"nanos":839801,"millis":0.839801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:50.983 [print] Beheer PDOK \n"},{"result":{"nanos":417400,"millis":0.4174,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:50.983 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":744101,"millis":0.744101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":747201,"millis":0.747201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:50.985 [print] #notpresent \n"},{"result":{"nanos":1215301,"millis":1.215301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:50.986 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1375901,"millis":1.375901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:50.988 [print] \"true\";\"true\" \n"},{"result":{"nanos":489001,"millis":0.489001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":321500,"millis":0.3215,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":281501,"millis":0.281501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.169414,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","startTime":1647665750432,"refId":"[1.198:82]","endTime":1647665750989,"exampleData":{"datasetIdentifierCode":"7827b68f-647e-46cc-a02a-cac48eaa5dda"},"exampleIndex":197},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.757 karate.env system property was: null \n"},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":410201,"millis":0.410201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409700,"millis":0.4097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":105601,"millis":0.105601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540253096,"millis":540.253096,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1119701,"millis":1.119701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":601300,"millis":0.6013,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":631201,"millis":0.631201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":564701,"millis":0.564701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":774801,"millis":0.774801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":673400,"millis":0.6734,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":603300,"millis":0.6033,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":685801,"millis":0.685801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":577101,"millis":0.577101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":182200,"millis":0.1822,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.305 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":625001,"millis":0.625001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:51.306 [print] OGC:WMS \n"},{"result":{"nanos":657700,"millis":0.6577,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139201,"millis":0.139201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:51.307 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131800,"millis":0.1318,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:51.307 [print] OGC:WMS \n"},{"result":{"nanos":678401,"millis":0.678401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:51.308 [print] Beheer PDOK \n"},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:51.308 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":674201,"millis":0.674201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":888101,"millis":0.888101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:51.310 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":743401,"millis":0.743401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:51.311 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":727401,"millis":0.727401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:51.311 [print] \"true\";\"true\" \n"},{"result":{"nanos":347500,"millis":0.3475,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":430501,"millis":0.430501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306400,"millis":0.3064,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.227512,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3ac5737f-55ed-455d-8350-44af11b67fc3","startTime":1647665750756,"refId":"[1.199:82]","endTime":1647665751313,"exampleData":{"datasetIdentifierCode":"3ac5737f-55ed-455d-8350-44af11b67fc3"},"exampleIndex":198},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.889 karate.env system property was: null \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370501,"millis":0.370501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366300,"millis":0.3663,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537070294,"millis":537.070294,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1023201,"millis":1.023201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":715201,"millis":0.715201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":835401,"millis":0.835401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":793401,"millis":0.793401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":654001,"millis":0.654001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":527300,"millis":0.5273,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":608100,"millis":0.6081,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":594501,"millis":0.594501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161000,"millis":0.161,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.434 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":616301,"millis":0.616301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:51.435 [print] OGC:WFS \n"},{"result":{"nanos":578701,"millis":0.578701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:51.435 [print] #notpresent \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99800,"millis":0.0998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:51.436 [print] OGC:WFS \n"},{"result":{"nanos":737601,"millis":0.737601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102400,"millis":0.1024,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:51.437 [print] Beheer PDOK \n"},{"result":{"nanos":96200,"millis":0.0962,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:51.437 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":704401,"millis":0.704401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":685701,"millis":0.685701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:51.438 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":833501,"millis":0.833501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":132100,"millis":0.1321,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:51.439 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":710501,"millis":0.710501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":108800,"millis":0.1088,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:51.440 [print] \"true\";\"true\" \n"},{"result":{"nanos":570401,"millis":0.570401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":484300,"millis":0.4843,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339801,"millis":0.339801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":552.22131,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"027e3f15-3b58-4570-97bb-779ce3ca947e","startTime":1647665750888,"refId":"[1.200:82]","endTime":1647665751442,"exampleData":{"datasetIdentifierCode":"027e3f15-3b58-4570-97bb-779ce3ca947e"},"exampleIndex":199},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.957 karate.env system property was: null \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":494600,"millis":0.4946,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397701,"millis":0.397701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":325300,"millis":0.3253,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544305702,"millis":544.305702,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":981601,"millis":0.981601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":645400,"millis":0.6454,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":558901,"millis":0.558901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":589601,"millis":0.589601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":660101,"millis":0.660101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":622800,"millis":0.6228,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":575601,"millis":0.575601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":566901,"millis":0.566901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":585500,"millis":0.5855,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103900,"millis":0.1039,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":950101,"millis":0.950101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.510 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":587601,"millis":0.587601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89000,"millis":0.089,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:51.511 [print] OGC:WMS \n"},{"result":{"nanos":1225602,"millis":1.225602,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:51.512 [print] #notpresent \n"},{"result":{"nanos":273200,"millis":0.2732,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":433800,"millis":0.4338,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:51.513 [print] OGC:WMS \n"},{"result":{"nanos":664000,"millis":0.664,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:51.514 [print] Beheer PDOK \n"},{"result":{"nanos":435801,"millis":0.435801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:51.514 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":1163301,"millis":1.163301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":663501,"millis":0.663501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:51.516 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1186702,"millis":1.186702,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:51.518 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":4559705,"millis":4.559705,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":173400,"millis":0.1734,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:51.523 [print] \"true\";\"true\" \n"},{"result":{"nanos":363700,"millis":0.3637,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":365401,"millis":0.365401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297600,"millis":0.2976,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.790324,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","startTime":1647665750956,"refId":"[1.201:82]","endTime":1647665751524,"exampleData":{"datasetIdentifierCode":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d"},"exampleIndex":200},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:50.991 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262800,"millis":0.2628,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":421201,"millis":0.421201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549829507,"millis":549.829507,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":696101,"millis":0.696101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":650601,"millis":0.650601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":735601,"millis":0.735601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":693800,"millis":0.6938,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":705101,"millis":0.705101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":697301,"millis":0.697301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":732201,"millis":0.732201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":538100,"millis":0.5381,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":536301,"millis":0.536301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116500,"millis":0.1165,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":98200,"millis":0.0982,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.549 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":600401,"millis":0.600401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147600,"millis":0.1476,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:51.550 [print] OGC:WMS \n"},{"result":{"nanos":672801,"millis":0.672801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:51.551 [print] #notpresent \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:51.551 [print] OGC:WMS \n"},{"result":{"nanos":625601,"millis":0.625601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101200,"millis":0.1012,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:51.552 [print] Beheer PDOK \n"},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:51.552 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":807301,"millis":0.807301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":614801,"millis":0.614801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":110800,"millis":0.1108,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:51.553 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":972201,"millis":0.972201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":182601,"millis":0.182601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:51.563 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":851301,"millis":0.851301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":98700,"millis":0.0987,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":185100,"millis":0.1851,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:51.564 [print] \"true\";\"true\" \n"},{"result":{"nanos":396600,"millis":0.3966,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1152802,"millis":1.152802,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339700,"millis":0.3397,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.467425,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","startTime":1647665750991,"refId":"[1.202:82]","endTime":1647665751566,"exampleData":{"datasetIdentifierCode":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36"},"exampleIndex":201},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:51.315 karate.env system property was: null \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386001,"millis":0.386001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381200,"millis":0.3812,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539500896,"millis":539.500896,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1192902,"millis":1.192902,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":848401,"millis":0.848401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691000,"millis":0.691,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":850101,"millis":0.850101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1050502,"millis":1.050502,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":884001,"millis":0.884001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120600,"millis":0.1206,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":834101,"millis":0.834101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":820501,"millis":0.820501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1031001,"millis":1.031001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":371600,"millis":0.3716,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":334701,"millis":0.334701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.865 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":915701,"millis":0.915701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:51.866 [print] OGC:WFS \n"},{"result":{"nanos":711001,"millis":0.711001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140200,"millis":0.1402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:51.867 [print] #notpresent \n"},{"result":{"nanos":151900,"millis":0.1519,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":226700,"millis":0.2267,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:51.868 [print] OGC:WFS \n"},{"result":{"nanos":699901,"millis":0.699901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":220200,"millis":0.2202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:51.869 [print] Beheer PDOK \n"},{"result":{"nanos":230301,"millis":0.230301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:51.869 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":727300,"millis":0.7273,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":743701,"millis":0.743701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":163200,"millis":0.1632,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":203301,"millis":0.203301,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:51.871 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":724400,"millis":0.7244,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":216100,"millis":0.2161,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:51.872 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":883301,"millis":0.883301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":137900,"millis":0.1379,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":221800,"millis":0.2218,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:51.873 [print] \"true\";\"true\" \n"},{"result":{"nanos":249701,"millis":0.249701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":452300,"millis":0.4523,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317700,"millis":0.3177,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.361217,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","startTime":1647665751315,"refId":"[1.203:82]","endTime":1647665751874,"exampleData":{"datasetIdentifierCode":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774"},"exampleIndex":202},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:51.444 karate.env system property was: null \n"},{"result":{"nanos":92601,"millis":0.092601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88000,"millis":0.088,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":472500,"millis":0.4725,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358901,"millis":0.358901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103400,"millis":0.1034,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545236102,"millis":545.236102,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1250701,"millis":1.250701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":788901,"millis":0.788901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":715801,"millis":0.715801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":745600,"millis":0.7456,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":905201,"millis":0.905201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":845900,"millis":0.8459,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":136801,"millis":0.136801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":642600,"millis":0.6426,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":699301,"millis":0.699301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":663701,"millis":0.663701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148300,"millis":0.1483,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":347900,"millis":0.3479,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:51.999 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":659801,"millis":0.659801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134800,"millis":0.1348,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.000 [print] OGC:WFS \n"},{"result":{"nanos":652401,"millis":0.652401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.001 [print] #notpresent \n"},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":221301,"millis":0.221301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.001 [print] OGC:WFS \n"},{"result":{"nanos":721000,"millis":0.721,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137301,"millis":0.137301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.002 [print] Beheer PDOK \n"},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.002 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":664201,"millis":0.664201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":739000,"millis":0.739,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":115300,"millis":0.1153,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":119100,"millis":0.1191,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.004 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":739800,"millis":0.7398,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":121400,"millis":0.1214,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.005 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":798401,"millis":0.798401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":183000,"millis":0.183,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":253600,"millis":0.2536,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.006 [print] \"true\";\"true\" \n"},{"result":{"nanos":349501,"millis":0.349501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":425600,"millis":0.4256,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":300700,"millis":0.3007,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.364119,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","startTime":1647665751444,"refId":"[1.204:82]","endTime":1647665752007,"exampleData":{"datasetIdentifierCode":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1"},"exampleIndex":203},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:51.526 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":477001,"millis":0.477001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":994001,"millis":0.994001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109600,"millis":0.1096,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":575157336,"millis":575.157336,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1059301,"millis":1.059301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5'"}},{"result":{"nanos":713401,"millis":0.713401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":707701,"millis":0.707701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":933501,"millis":0.933501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1001501,"millis":1.001501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":685000,"millis":0.685,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84701,"millis":0.084701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":632100,"millis":0.6321,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":732301,"millis":0.732301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":692701,"millis":0.692701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154500,"millis":0.1545,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":319000,"millis":0.319,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.111 [print] https:\/\/service.pdok.nl\/cbs\/wb2021\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":642201,"millis":0.642201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130500,"millis":0.1305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.112 [print] OGC:WMS \n"},{"result":{"nanos":667101,"millis":0.667101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.113 [print] #notpresent \n"},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126100,"millis":0.1261,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.113 [print] OGC:WMS \n"},{"result":{"nanos":709101,"millis":0.709101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151200,"millis":0.1512,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.114 [print] Beheer PDOK \n"},{"result":{"nanos":180101,"millis":0.180101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.114 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\"] \n"},{"result":{"nanos":686400,"millis":0.6864,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":658501,"millis":0.658501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":114900,"millis":0.1149,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.116 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":672301,"millis":0.672301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":102400,"millis":0.1024,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":158001,"millis":0.158001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.117 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":780600,"millis":0.7806,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":109001,"millis":0.109001,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":5011905,"millis":5.011905,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.123 [print] \"true\";\"true\" \n"},{"result":{"nanos":282800,"millis":0.2828,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":505301,"millis":0.505301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347700,"millis":0.3477,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":597.34366,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5","startTime":1647665751526,"refId":"[1.205:82]","endTime":1647665752124,"exampleData":{"datasetIdentifierCode":"e38a7188-4aa6-4c2e-ba5c-b8a2c172c4e5"},"exampleIndex":204},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:51.568 karate.env system property was: null \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324000,"millis":0.324,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394501,"millis":0.394501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":152500,"millis":0.1525,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '60dc9632-50c8-40b1-ac63-cd91b85352d2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567973628,"millis":567.973628,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":818401,"millis":0.818401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '60dc9632-50c8-40b1-ac63-cd91b85352d2'"}},{"result":{"nanos":657800,"millis":0.6578,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":742301,"millis":0.742301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":734701,"millis":0.734701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":741501,"millis":0.741501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":796001,"millis":0.796001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":108800,"millis":0.1088,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":592501,"millis":0.592501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":702900,"millis":0.7029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":600601,"millis":0.600601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":722201,"millis":0.722201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":750001,"millis":0.750001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.146 [print] https:\/\/service.pdok.nl\/cbs\/wb2021\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":732901,"millis":0.732901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":686500,"millis":0.6865,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.147 [print] OGC:WFS \n"},{"result":{"nanos":723101,"millis":0.723101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":5062406,"millis":5.062406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.153 [print] #notpresent \n"},{"result":{"nanos":91300,"millis":0.0913,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":552000,"millis":0.552,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.154 [print] OGC:WFS \n"},{"result":{"nanos":693201,"millis":0.693201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":583101,"millis":0.583101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.155 [print] Beheer PDOK \n"},{"result":{"nanos":795501,"millis":0.795501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.156 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=524b1e94-1981-4ef6-be1f-482d309b5db8#MD_DataIdentification\"] \n"},{"result":{"nanos":1816402,"millis":1.816402,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1168801,"millis":1.168801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":162600,"millis":0.1626,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":688401,"millis":0.688401,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.160 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2010\\\/1089\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/ats\\\/metadata\\\/2.0\\\/sds-invocable\";\"http:\\\/\\\/www.opengis.net\\\/def\\\/serviceType\\\/ogc\\\/wfs\" \n"},{"result":{"nanos":765201,"millis":0.765201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":147900,"millis":0.1479,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":632101,"millis":0.632101,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.162 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"De service voldoet aan de requirements van de invocable conformance class\";\"De service voldoet aan de requirements van de WFS 2.0 conformance class\" \n"},{"result":{"nanos":758601,"millis":0.758601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":102400,"millis":0.1024,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":533300,"millis":0.5333,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.163 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":274201,"millis":0.274201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"60dc9632-50c8-40b1-ac63-cd91b85352d2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":521100,"millis":0.5211,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"60dc9632-50c8-40b1-ac63-cd91b85352d2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1046901,"millis":1.046901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"60dc9632-50c8-40b1-ac63-cd91b85352d2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":595.689558,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"60dc9632-50c8-40b1-ac63-cd91b85352d2","startTime":1647665751568,"refId":"[1.206:82]","endTime":1647665752165,"exampleData":{"datasetIdentifierCode":"60dc9632-50c8-40b1-ac63-cd91b85352d2"},"exampleIndex":205},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:51.877 karate.env system property was: null \n"},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":179700,"millis":0.1797,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139800,"millis":0.1398,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":921501,"millis":0.921501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":130001,"millis":0.130001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402100,"millis":0.4021,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":217900,"millis":0.2179,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":562219721,"millis":562.219721,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":946301,"millis":0.946301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":659401,"millis":0.659401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":638700,"millis":0.6387,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":596001,"millis":0.596001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":717901,"millis":0.717901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":697401,"millis":0.697401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":612600,"millis":0.6126,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":530501,"millis":0.530501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":619701,"millis":0.619701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":336000,"millis":0.336,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.449 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":777001,"millis":0.777001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105900,"millis":0.1059,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.450 [print] OGC:WMS \n"},{"result":{"nanos":901501,"millis":0.901501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135900,"millis":0.1359,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.451 [print] #notpresent \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":195501,"millis":0.195501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.451 [print] OGC:WMS \n"},{"result":{"nanos":819700,"millis":0.8197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106301,"millis":0.106301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.452 [print] Beheer PDOK \n"},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.452 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":947201,"millis":0.947201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":887701,"millis":0.887701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.454 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":788601,"millis":0.788601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.455 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":771001,"millis":0.771001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.456 [print] \"true\";\"true\" \n"},{"result":{"nanos":579701,"millis":0.579701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":464900,"millis":0.4649,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":458601,"millis":0.458601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":579.66954,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f917ffa9-1531-48ea-867e-0d413d85b05a","startTime":1647665751876,"refId":"[1.207:82]","endTime":1647665752458,"exampleData":{"datasetIdentifierCode":"f917ffa9-1531-48ea-867e-0d413d85b05a"},"exampleIndex":206},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.010 karate.env system property was: null \n"},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128500,"millis":0.1285,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":135300,"millis":0.1353,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":434201,"millis":0.434201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107000,"millis":0.107,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392900,"millis":0.3929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76300,"millis":0.0763,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107900,"millis":0.1079,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545085602,"millis":545.085602,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":965101,"millis":0.965101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":696401,"millis":0.696401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":640100,"millis":0.6401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":651301,"millis":0.651301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":767201,"millis":0.767201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":868301,"millis":0.868301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":595001,"millis":0.595001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":621400,"millis":0.6214,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":600201,"millis":0.600201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163800,"millis":0.1638,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164300,"millis":0.1643,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.564 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":986702,"millis":0.986702,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144200,"millis":0.1442,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.565 [print] OGC:WFS \n"},{"result":{"nanos":745101,"millis":0.745101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118600,"millis":0.1186,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.566 [print] #notpresent \n"},{"result":{"nanos":154400,"millis":0.1544,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.566 [print] OGC:WFS \n"},{"result":{"nanos":769001,"millis":0.769001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":162200,"millis":0.1622,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.567 [print] Beheer PDOK \n"},{"result":{"nanos":187900,"millis":0.1879,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.568 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":730201,"millis":0.730201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":648201,"millis":0.648201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.569 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":819601,"millis":0.819601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":147500,"millis":0.1475,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.570 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":838401,"millis":0.838401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103300,"millis":0.1033,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.571 [print] \"true\";\"true\" \n"},{"result":{"nanos":662201,"millis":0.662201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":518601,"millis":0.518601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402100,"millis":0.4021,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.008421,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","startTime":1647665752009,"refId":"[1.208:82]","endTime":1647665752573,"exampleData":{"datasetIdentifierCode":"03c48a93-1e31-4c69-92c6-9a7efecf67a9"},"exampleIndex":207},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.127 karate.env system property was: null \n"},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":164700,"millis":0.1647,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":131800,"millis":0.1318,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":607901,"millis":0.607901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456700,"millis":0.4567,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":509901,"millis":0.509901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":572120832,"millis":572.120832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":979802,"millis":0.979802,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":700800,"millis":0.7008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":756801,"millis":0.756801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":865901,"millis":0.865901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":743801,"millis":0.743801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":688301,"millis":0.688301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":590900,"millis":0.5909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":562301,"millis":0.562301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":653101,"millis":0.653101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134700,"millis":0.1347,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.709 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":812801,"millis":0.812801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.710 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":712401,"millis":0.712401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.711 [print] #notpresent \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.711 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":669401,"millis":0.669401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.712 [print] Beheer PDOK \n"},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.712 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":846601,"millis":0.846601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":822601,"millis":0.822601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.714 [print] #notpresent \n"},{"result":{"nanos":751201,"millis":0.751201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.715 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":749801,"millis":0.749801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":81400,"millis":0.0814,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.716 [print] \"true\";\"true\" \n"},{"result":{"nanos":2097303,"millis":2.097303,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":547700,"millis":0.5477,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355601,"millis":0.355601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":590.540754,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"4041f923-6b77-4816-bf46-437e85416c31","startTime":1647665752126,"refId":"[1.209:82]","endTime":1647665752719,"exampleData":{"datasetIdentifierCode":"4041f923-6b77-4816-bf46-437e85416c31"},"exampleIndex":208},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.168 karate.env system property was: null \n"},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122800,"millis":0.1228,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107600,"millis":0.1076,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":390601,"millis":0.390601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123100,"millis":0.1231,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448900,"millis":0.4489,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":142101,"millis":0.142101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":571846732,"millis":571.846732,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":845701,"millis":0.845701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":703400,"millis":0.7034,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":718101,"millis":0.718101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":709601,"millis":0.709601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":824001,"millis":0.824001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":738901,"millis":0.738901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":734001,"millis":0.734001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":589101,"millis":0.589101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83500,"millis":0.0835,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:52.749 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":621301,"millis":0.621301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:52.750 [print] OGC:WFS \n"},{"result":{"nanos":661601,"millis":0.661601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:52.751 [print] #notpresent \n"},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97600,"millis":0.0976,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:52.751 [print] OGC:WFS \n"},{"result":{"nanos":850101,"millis":0.850101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134000,"millis":0.134,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:52.752 [print] Beheer PDOK \n"},{"result":{"nanos":126800,"millis":0.1268,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:52.752 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":750201,"millis":0.750201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":925501,"millis":0.925501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:52.754 [print] \"http:\\\/\\\/\";\"\";\"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2010\\\/1089\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/ats\\\/metadata\\\/2.0\\\/sds-invocable\";\"http:\\\/\\\/www.opengis.net\\\/def\\\/serviceType\\\/ogc\\\/wfs\" \n"},{"result":{"nanos":676601,"millis":0.676601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:52.755 [print] \"\";\"Deze service voldoet aan de specificaties voor spatial data services\";\"De service voldoet aan de requirements van de invocable conformance class\";\"De service voldoet aan de requirements van de WFS 2.0 conformance class\" \n"},{"result":{"nanos":745701,"millis":0.745701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:52.756 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":307901,"millis":0.307901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":389000,"millis":0.389,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293600,"millis":0.2936,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":587.408949,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"93a9571d-1754-47ee-a8f9-92633abfab3a","startTime":1647665752168,"refId":"[1.210:82]","endTime":1647665752757,"exampleData":{"datasetIdentifierCode":"93a9571d-1754-47ee-a8f9-92633abfab3a"},"exampleIndex":209},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.460 karate.env system property was: null \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":397201,"millis":0.397201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416700,"millis":0.4167,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545480302,"millis":545.480302,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":932401,"millis":0.932401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":657901,"millis":0.657901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":773701,"millis":0.773701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":596101,"millis":0.596101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":758401,"millis":0.758401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":654900,"millis":0.6549,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":549701,"millis":0.549701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":544101,"millis":0.544101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":584500,"millis":0.5845,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76600,"millis":0.0766,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":179901,"millis":0.179901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.014 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":566000,"millis":0.566,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.015 [print] OGC:WMS \n"},{"result":{"nanos":623601,"millis":0.623601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.015 [print] #notpresent \n"},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.016 [print] OGC:WMS \n"},{"result":{"nanos":869101,"millis":0.869101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":124100,"millis":0.1241,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.017 [print] Beheer PDOK \n"},{"result":{"nanos":108900,"millis":0.1089,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.017 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":885101,"millis":0.885101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":956602,"millis":0.956602,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":154800,"millis":0.1548,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.019 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":829401,"millis":0.829401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.020 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":766101,"millis":0.766101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":194400,"millis":0.1944,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.021 [print] \"true\";\"true\" \n"},{"result":{"nanos":378301,"millis":0.378301,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":381700,"millis":0.3817,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363600,"millis":0.3636,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.89982,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b196f948-5d87-4eb4-9854-a93841c3877f","startTime":1647665752460,"refId":"[1.211:82]","endTime":1647665753022,"exampleData":{"datasetIdentifierCode":"b196f948-5d87-4eb4-9854-a93841c3877f"},"exampleIndex":210},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.575 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":329801,"millis":0.329801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437600,"millis":0.4376,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100000,"millis":0.1,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":628537495,"millis":628.537495,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1117301,"millis":1.117301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":870501,"millis":0.870501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1077001,"millis":1.077001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1022001,"millis":1.022001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1045002,"millis":1.045002,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":774600,"millis":0.7746,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":638300,"millis":0.6383,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":714701,"millis":0.714701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":640801,"millis":0.640801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":167700,"millis":0.1677,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.214 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":879601,"millis":0.879601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.215 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":752801,"millis":0.752801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.216 [print] #notpresent \n"},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":290800,"millis":0.2908,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.216 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":838601,"millis":0.838601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112901,"millis":0.112901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.217 [print] Beheer PDOK \n"},{"result":{"nanos":242200,"millis":0.2422,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.217 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":1260401,"millis":1.260401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1388202,"millis":1.388202,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":158200,"millis":0.1582,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.220 [print] #notpresent \n"},{"result":{"nanos":973201,"millis":0.973201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":119400,"millis":0.1194,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.221 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":844801,"millis":0.844801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":113300,"millis":0.1133,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.222 [print] \"true\";\"true\" \n"},{"result":{"nanos":543400,"millis":0.5434,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":455601,"millis":0.455601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346000,"millis":0.346,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":647.731715,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1647665752575,"refId":"[1.212:82]","endTime":1647665753224,"exampleData":{"datasetIdentifierCode":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":211},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.722 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":544901,"millis":0.544901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392300,"millis":0.3923,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":312901,"millis":0.312901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555603614,"millis":555.603614,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1756402,"millis":1.756402,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":2829003,"millis":2.829003,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3139203,"millis":3.139203,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2026503,"millis":2.026503,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2102302,"millis":2.102302,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1861402,"millis":1.861402,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1260901,"millis":1.260901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1318601,"millis":1.318601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1300301,"millis":1.300301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":324201,"millis":0.324201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188600,"millis":0.1886,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.298 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":13099614,"millis":13.099614,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":258001,"millis":0.258001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.311 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1533501,"millis":1.533501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122801,"millis":0.122801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.313 [print] #notpresent \n"},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94800,"millis":0.0948,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.313 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2440203,"millis":2.440203,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1023901,"millis":1.023901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.317 [print] Beheer PDOK \n"},{"result":{"nanos":107000,"millis":0.107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.317 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":4767505,"millis":4.767505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2000202,"millis":2.000202,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":5671807,"millis":5.671807,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.329 [print] #notpresent \n"},{"result":{"nanos":2107302,"millis":2.107302,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75600,"millis":0.0756,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":128300,"millis":0.1283,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.332 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":4783006,"millis":4.783006,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":989801,"millis":0.989801,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.338 [print] \"true\";\"true\" \n"},{"result":{"nanos":212400,"millis":0.2124,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":429701,"millis":0.429701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":422300,"millis":0.4223,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":615.85328,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","startTime":1647665752721,"refId":"[1.213:82]","endTime":1647665753339,"exampleData":{"datasetIdentifierCode":"2b9da196-422e-4b0e-a5ba-ba41ade308e9"},"exampleIndex":212},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:52.759 karate.env system property was: null \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":351001,"millis":0.351001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370800,"millis":0.3708,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543789301,"millis":543.789301,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":650901,"millis":0.650901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'"}},{"result":{"nanos":648901,"millis":0.648901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":684500,"millis":0.6845,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639901,"millis":0.639901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661701,"millis":0.661701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":872301,"millis":0.872301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695901,"millis":0.695901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":620200,"millis":0.6202,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":644401,"millis":0.644401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":380701,"millis":0.380701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2243302,"millis":2.243302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.313 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3200704,"millis":3.200704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":367600,"millis":0.3676,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.317 [print] OGC:WMS \n"},{"result":{"nanos":724801,"millis":0.724801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162900,"millis":0.1629,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.318 [print] #notpresent \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140700,"millis":0.1407,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.318 [print] OGC:WMS \n"},{"result":{"nanos":888101,"millis":0.888101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":4712106,"millis":4.712106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.324 [print] Beheer PDOK \n"},{"result":{"nanos":125200,"millis":0.1252,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.324 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n"},{"result":{"nanos":843401,"millis":0.843401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":691500,"millis":0.6915,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.326 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":778601,"millis":0.778601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":108000,"millis":0.108,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.327 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":817201,"millis":0.817201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103300,"millis":0.1033,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.328 [print] \"true\";\"true\" \n"},{"result":{"nanos":497400,"millis":0.4974,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":399101,"millis":0.399101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":270100,"millis":0.2701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.865029,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","startTime":1647665752759,"refId":"[1.214:82]","endTime":1647665753329,"exampleData":{"datasetIdentifierCode":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9"},"exampleIndex":213},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.024 karate.env system property was: null \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367501,"millis":0.367501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":331300,"millis":0.3313,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115501,"millis":0.115501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":110000,"millis":0.11,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":572705420,"millis":572.70542,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1855002,"millis":1.855002,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":2290903,"millis":2.290903,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2075402,"millis":2.075402,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2582502,"millis":2.582502,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":28209930,"millis":28.20993,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3599203,"millis":3.599203,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":111201,"millis":0.111201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1467001,"millis":1.467001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1788102,"millis":1.788102,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1853302,"millis":1.853302,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":370500,"millis":0.3705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":199401,"millis":0.199401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.645 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1969602,"millis":1.969602,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":217100,"millis":0.2171,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.648 [print] #notpresent \n"},{"result":{"nanos":1820602,"millis":1.820602,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":205600,"millis":0.2056,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.650 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":143700,"millis":0.1437,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160300,"millis":0.1603,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.650 [print] #notpresent \n"},{"result":{"nanos":2399303,"millis":2.399303,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":303200,"millis":0.3032,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.653 [print] Beheer PDOK \n"},{"result":{"nanos":192400,"millis":0.1924,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.653 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2305503,"millis":2.305503,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2360702,"millis":2.360702,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":141000,"millis":0.141,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":197901,"millis":0.197901,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.658 [print] #notpresent \n"},{"result":{"nanos":2456102,"millis":2.456102,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":192001,"millis":0.192001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.661 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":2700302,"millis":2.700302,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":102701,"millis":0.102701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":184300,"millis":0.1843,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.664 [print] \"true\";\"true\" \n"},{"result":{"nanos":305900,"millis":0.3059,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":564001,"millis":0.564001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":285200,"millis":0.2852,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":639.733691,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","startTime":1647665753024,"refId":"[1.215:82]","endTime":1647665753665,"exampleData":{"datasetIdentifierCode":"82541a1f-2e4e-459f-ab2f-e97cac3ad040"},"exampleIndex":214},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.226 karate.env system property was: null \n"},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":389101,"millis":0.389101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384200,"millis":0.3842,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":131001,"millis":0.131001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":603938239,"millis":603.938239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4413105,"millis":4.413105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":3403103,"millis":3.403103,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3074003,"millis":3.074003,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3191904,"millis":3.191904,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4255304,"millis":4.255304,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":4198705,"millis":4.198705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110500,"millis":0.1105,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2062602,"millis":2.062602,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3409003,"millis":3.409003,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2363603,"millis":2.363603,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":521300,"millis":0.5213,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":681201,"millis":0.681201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.863 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":2402303,"millis":2.402303,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":174500,"millis":0.1745,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.866 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2311703,"millis":2.311703,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":403100,"millis":0.4031,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.869 [print] #notpresent \n"},{"result":{"nanos":116300,"millis":0.1163,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":620101,"millis":0.620101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.870 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3091703,"millis":3.091703,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":397801,"millis":0.397801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.874 [print] Beheer PDOK \n"},{"result":{"nanos":580500,"millis":0.5805,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.874 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":3072403,"millis":3.072403,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2956703,"millis":2.956703,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":113401,"millis":0.113401,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":334800,"millis":0.3348,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.881 [print] #notpresent \n"},{"result":{"nanos":3273703,"millis":3.273703,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":123500,"millis":0.1235,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":657900,"millis":0.6579,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.885 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":3550204,"millis":3.550204,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":334600,"millis":0.3346,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.889 [print] \"true\";\"true\" \n"},{"result":{"nanos":299701,"millis":0.299701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":513600,"millis":0.5136,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":284401,"millis":0.284401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":662.721001,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","startTime":1647665753226,"refId":"[1.216:82]","endTime":1647665753890,"exampleData":{"datasetIdentifierCode":"9c4862c3-0bab-49c3-bc2f-ac5486826766"},"exampleIndex":215},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.334 karate.env system property was: null \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2536303,"millis":2.536303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336001,"millis":0.336001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3349604,"millis":3.349604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":598557826,"millis":598.557826,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1657002,"millis":1.657002,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":1954402,"millis":1.954402,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2081102,"millis":2.081102,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1829002,"millis":1.829002,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2132402,"millis":2.132402,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2184002,"millis":2.184002,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1396402,"millis":1.396402,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1448701,"millis":1.448701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1684202,"millis":1.684202,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":386300,"millis":0.3863,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157201,"millis":0.157201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.957 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1562701,"millis":1.562701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165700,"millis":0.1657,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.958 [print] #notpresent \n"},{"result":{"nanos":1602002,"millis":1.602002,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":211100,"millis":0.2111,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.960 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":206201,"millis":0.206201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":208500,"millis":0.2085,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.961 [print] #notpresent \n"},{"result":{"nanos":2034102,"millis":2.034102,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":147700,"millis":0.1477,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.963 [print] Beheer PDOK \n"},{"result":{"nanos":368200,"millis":0.3682,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.963 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2429002,"millis":2.429002,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1945902,"millis":1.945902,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":10110511,"millis":10.110511,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:53.978 [print] #notpresent \n"},{"result":{"nanos":2156002,"millis":2.156002,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117600,"millis":0.1176,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":188000,"millis":0.188,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:53.980 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":2129402,"millis":2.129402,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":2576902,"millis":2.576902,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:53.985 [print] \"true\";\"true\" \n"},{"result":{"nanos":288701,"millis":0.288701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1497501,"millis":1.497501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1890302,"millis":1.890302,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":654.160284,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","startTime":1647665753334,"refId":"[1.217:82]","endTime":1647665753989,"exampleData":{"datasetIdentifierCode":"9c5351c8-d8f4-41c2-9642-42a63496a6fe"},"exampleIndex":216},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.342 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":308000,"millis":0.308,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35701,"millis":0.035701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345400,"millis":0.3454,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106800,"millis":0.1068,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":627769557,"millis":627.769557,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1096601,"millis":1.096601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":1466101,"millis":1.466101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1423302,"millis":1.423302,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1355901,"millis":1.355901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1689602,"millis":1.689602,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1452701,"millis":1.452701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1571801,"millis":1.571801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1068501,"millis":1.068501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2110903,"millis":2.110903,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":511100,"millis":0.5111,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":752201,"millis":0.752201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:53.986 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":2477102,"millis":2.477102,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148801,"millis":0.148801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:53.988 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2182302,"millis":2.182302,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":164800,"millis":0.1648,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:53.991 [print] #notpresent \n"},{"result":{"nanos":2752303,"millis":2.752303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151200,"millis":0.1512,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:53.994 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1754802,"millis":1.754802,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":164100,"millis":0.1641,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:53.996 [print] Beheer PDOK \n"},{"result":{"nanos":2400503,"millis":2.400503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:53.998 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":1565901,"millis":1.565901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1423202,"millis":1.423202,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":143400,"millis":0.1434,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.001 [print] #notpresent \n"},{"result":{"nanos":2500903,"millis":2.500903,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":104200,"millis":0.1042,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":512600,"millis":0.5126,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.005 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1580202,"millis":1.580202,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":90500,"millis":0.0905,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":350500,"millis":0.3505,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.006 [print] \"true\";\"true\" \n"},{"result":{"nanos":186501,"millis":0.186501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":323400,"millis":0.3234,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321300,"millis":0.3213,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":664.824795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","startTime":1647665753340,"refId":"[1.218:82]","endTime":1647665754008,"exampleData":{"datasetIdentifierCode":"1ce74355-763a-481d-b9d7-aaafbf0d7d53"},"exampleIndex":217},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.668 karate.env system property was: null \n"},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141200,"millis":0.1412,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":179701,"millis":0.179701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":538800,"millis":0.5388,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404801,"millis":0.404801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118400,"millis":0.1184,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144100,"millis":0.1441,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533148554,"millis":533.148554,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":971201,"millis":0.971201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":595300,"millis":0.5953,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":618601,"millis":0.618601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":601401,"millis":0.601401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":762600,"millis":0.7626,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":841501,"millis":0.841501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":591801,"millis":0.591801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":577001,"millis":0.577001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":534600,"millis":0.5346,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":167700,"millis":0.1677,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:54.210 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":641401,"millis":0.641401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100400,"millis":0.1004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:54.211 [print] OGC:WFS \n"},{"result":{"nanos":650601,"millis":0.650601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76500,"millis":0.0765,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:54.212 [print] #notpresent \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:54.212 [print] OGC:WFS \n"},{"result":{"nanos":630901,"millis":0.630901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:54.212 [print] Beheer PDOK \n"},{"result":{"nanos":110000,"millis":0.11,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:54.212 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":635301,"millis":0.635301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":803601,"millis":0.803601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":136500,"millis":0.1365,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.214 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2010\\\/1089\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/ats\\\/metadata\\\/2.0\\\/sds-invocable\";\"http:\\\/\\\/www.opengis.net\\\/def\\\/serviceType\\\/ogc\\\/wfs\" \n"},{"result":{"nanos":729601,"millis":0.729601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":113900,"millis":0.1139,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.215 [print] \"Deze service voldoet aan de specificaties voor spatial data services\";\"De service voldoet aan de requirements van de invocable conformance class\";\"De service voldoet aan de requirements van de WFS 2.0 conformance class\" \n"},{"result":{"nanos":732301,"millis":0.732301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.216 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":359100,"millis":0.3591,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":564201,"millis":0.564201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360300,"millis":0.3603,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":548.65177,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"8129296b-b9c1-489f-990a-df4a879e12b2","startTime":1647665753667,"refId":"[1.219:82]","endTime":1647665754217,"exampleData":{"datasetIdentifierCode":"8129296b-b9c1-489f-990a-df4a879e12b2"},"exampleIndex":218},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.893 karate.env system property was: null \n"},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121900,"millis":0.1219,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103400,"millis":0.1034,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":447500,"millis":0.4475,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103201,"millis":0.103201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":527100,"millis":0.5271,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":134800,"millis":0.1348,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":239401,"millis":0.239401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543670164,"millis":543.670164,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1112701,"millis":1.112701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":908801,"millis":0.908801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":578601,"millis":0.578601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":737301,"millis":0.737301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":699000,"millis":0.699,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":643901,"millis":0.643901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":577501,"millis":0.577501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":570000,"millis":0.57,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":648301,"millis":0.648301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118700,"millis":0.1187,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164700,"millis":0.1647,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:54.446 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":630601,"millis":0.630601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191400,"millis":0.1914,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:54.447 [print] OGC:WMS \n"},{"result":{"nanos":612201,"millis":0.612201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131600,"millis":0.1316,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:54.447 [print] #notpresent \n"},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87100,"millis":0.0871,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:54.448 [print] OGC:WMS \n"},{"result":{"nanos":681901,"millis":0.681901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:54.448 [print] Beheer PDOK \n"},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:54.448 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":778001,"millis":0.778001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1368001,"millis":1.368001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":200000,"millis":0.2,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.451 [print] #notpresent \n"},{"result":{"nanos":723800,"millis":0.7238,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.452 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":734001,"millis":0.734001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.453 [print] \"true\";\"true\" \n"},{"result":{"nanos":419001,"millis":0.419001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":393900,"millis":0.3939,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288001,"millis":0.288001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.277681,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","startTime":1647665753892,"refId":"[1.220:82]","endTime":1647665754454,"exampleData":{"datasetIdentifierCode":"68722979-8d6c-4ee4-a81a-8381d2588fe5"},"exampleIndex":219},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:53.993 karate.env system property was: null \n"},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":183500,"millis":0.1835,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":440901,"millis":0.440901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350800,"millis":0.3508,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":134700,"millis":0.1347,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":3871504,"millis":3.871504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":581378104,"millis":581.378104,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":9613910,"millis":9.61391,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":11342012,"millis":11.342012,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3062503,"millis":3.062503,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5923906,"millis":5.923906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3070903,"millis":3.070903,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3244104,"millis":3.244104,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2374002,"millis":2.374002,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1956402,"millis":1.956402,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2163102,"millis":2.163102,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":504601,"millis":0.504601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":401800,"millis":0.4018,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:54.627 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":2770103,"millis":2.770103,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":709401,"millis":0.709401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:54.631 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2777503,"millis":2.777503,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":393200,"millis":0.3932,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:54.634 [print] #notpresent \n"},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":579301,"millis":0.579301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:54.634 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3010003,"millis":3.010003,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":370200,"millis":0.3702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:54.638 [print] Beheer PDOK \n"},{"result":{"nanos":431001,"millis":0.431001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:54.638 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":3241503,"millis":3.241503,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2990103,"millis":2.990103,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":370201,"millis":0.370201,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.645 [print] #notpresent \n"},{"result":{"nanos":2971403,"millis":2.971403,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.648 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":3950404,"millis":3.950404,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":108900,"millis":0.1089,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.652 [print] \"true\";\"true\" \n"},{"result":{"nanos":612501,"millis":0.612501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":389300,"millis":0.3893,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":276401,"millis":0.276401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":656.836682,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4f4c7848-1767-4c67-be08-87d45d07f313","startTime":1647665753993,"refId":"[1.221:82]","endTime":1647665754654,"exampleData":{"datasetIdentifierCode":"4f4c7848-1767-4c67-be08-87d45d07f313"},"exampleIndex":220},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.010 karate.env system property was: null \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145800,"millis":0.1458,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":305801,"millis":0.305801,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159200,"millis":0.1592,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379500,"millis":0.3795,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120400,"millis":0.1204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566317288,"millis":566.317288,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":976901,"millis":0.976901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":743500,"millis":0.7435,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":707001,"millis":0.707001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":751101,"millis":0.751101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":794701,"millis":0.794701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":771301,"millis":0.771301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":594700,"millis":0.5947,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":605001,"millis":0.605001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":621001,"millis":0.621001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":338000,"millis":0.338,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":173200,"millis":0.1732,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:54.585 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":772101,"millis":0.772101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":183500,"millis":0.1835,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:54.586 [print] OGC:WMS \n"},{"result":{"nanos":791501,"millis":0.791501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":219700,"millis":0.2197,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:54.587 [print] #notpresent \n"},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133000,"millis":0.133,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:54.588 [print] OGC:WMS \n"},{"result":{"nanos":757101,"millis":0.757101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":243000,"millis":0.243,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:54.589 [print] Beheer PDOK \n"},{"result":{"nanos":149801,"millis":0.149801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:54.589 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":802900,"millis":0.8029,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":829701,"millis":0.829701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":203201,"millis":0.203201,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.591 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1016101,"millis":1.016101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":177900,"millis":0.1779,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.592 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":729601,"millis":0.729601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":181300,"millis":0.1813,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.593 [print] \"true\";\"true\" \n"},{"result":{"nanos":309500,"millis":0.3095,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":491201,"millis":0.491201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332600,"millis":0.3326,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":583.512505,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","startTime":1647665754009,"refId":"[1.222:82]","endTime":1647665754594,"exampleData":{"datasetIdentifierCode":"f0c6fbfe-a172-4223-8af3-58f6a28c881d"},"exampleIndex":221},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.220 karate.env system property was: null \n"},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":424501,"millis":0.424501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":481200,"millis":0.4812,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129200,"millis":0.1292,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":570194791,"millis":570.194791,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2210103,"millis":2.210103,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":2716403,"millis":2.716403,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2369302,"millis":2.369302,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2437303,"millis":2.437303,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2743402,"millis":2.743402,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2675703,"millis":2.675703,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1529902,"millis":1.529902,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1902102,"millis":1.902102,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1841102,"millis":1.841102,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":564200,"millis":0.5642,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193501,"millis":0.193501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:54.813 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":2598002,"millis":2.598002,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:54.816 [print] #notpresent \n"},{"result":{"nanos":1962103,"millis":1.962103,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:54.818 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:54.818 [print] #notpresent \n"},{"result":{"nanos":3485904,"millis":3.485904,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:54.822 [print] Beheer PDOK \n"},{"result":{"nanos":77000,"millis":0.077,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:54.822 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2978803,"millis":2.978803,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":37286039,"millis":37.286039,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":303100,"millis":0.3031,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":354800,"millis":0.3548,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:54.863 [print] #notpresent \n"},{"result":{"nanos":3545804,"millis":3.545804,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":115700,"millis":0.1157,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":189400,"millis":0.1894,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:54.867 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":2717203,"millis":2.717203,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":148000,"millis":0.148,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:54.870 [print] \"true\";\"true\" \n"},{"result":{"nanos":373101,"millis":0.373101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":472500,"millis":0.4725,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":340401,"millis":0.340401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":650.490575,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","startTime":1647665754220,"refId":"[1.223:82]","endTime":1647665754871,"exampleData":{"datasetIdentifierCode":"1fa220c2-5f2e-4943-a57e-c291cc35084b"},"exampleIndex":222},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.456 karate.env system property was: null \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402001,"millis":0.402001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447100,"millis":0.4471,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":153301,"millis":0.153301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565479387,"millis":565.479387,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2516902,"millis":2.516902,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":2436903,"millis":2.436903,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2483002,"millis":2.483002,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2325203,"millis":2.325203,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2666903,"millis":2.666903,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2931803,"millis":2.931803,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1433301,"millis":1.433301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1594402,"millis":1.594402,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1493901,"millis":1.493901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":270501,"millis":0.270501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163000,"millis":0.163,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.044 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":2169402,"millis":2.169402,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.046 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1890002,"millis":1.890002,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":415301,"millis":0.415301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.049 [print] #notpresent \n"},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.049 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2397903,"millis":2.397903,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134600,"millis":0.1346,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.051 [print] Beheer PDOK \n"},{"result":{"nanos":266600,"millis":0.2666,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.052 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2426903,"millis":2.426903,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2626602,"millis":2.626602,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":185700,"millis":0.1857,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":393500,"millis":0.3935,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.057 [print] #notpresent \n"},{"result":{"nanos":2812703,"millis":2.812703,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":132700,"millis":0.1327,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.061 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":2582003,"millis":2.582003,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":181100,"millis":0.1811,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":129900,"millis":0.1299,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.064 [print] \"true\";\"true\" \n"},{"result":{"nanos":393701,"millis":0.393701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":388100,"millis":0.3881,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362900,"millis":0.3629,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":607.58183,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"af4841b5-ce83-4edb-af41-429a21140316","startTime":1647665754456,"refId":"[1.224:82]","endTime":1647665755065,"exampleData":{"datasetIdentifierCode":"af4841b5-ce83-4edb-af41-429a21140316"},"exampleIndex":223},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.597 karate.env system property was: null \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347301,"millis":0.347301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351300,"millis":0.3513,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156100,"millis":0.1561,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":562364984,"millis":562.364984,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1635202,"millis":1.635202,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":2083802,"millis":2.083802,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1900902,"millis":1.900902,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2171802,"millis":2.171802,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2091502,"millis":2.091502,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2556003,"millis":2.556003,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1362801,"millis":1.362801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1359302,"millis":1.359302,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":5931006,"millis":5.931006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":296200,"millis":0.2962,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":415901,"millis":0.415901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.183 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1648902,"millis":1.648902,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":275900,"millis":0.2759,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.185 [print] #notpresent \n"},{"result":{"nanos":1752402,"millis":1.752402,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":543700,"millis":0.5437,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.187 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":155100,"millis":0.1551,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":318701,"millis":0.318701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.187 [print] #notpresent \n"},{"result":{"nanos":2165602,"millis":2.165602,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":351300,"millis":0.3513,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.190 [print] Beheer PDOK \n"},{"result":{"nanos":265101,"millis":0.265101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.190 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2219402,"millis":2.219402,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2050402,"millis":2.050402,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":257501,"millis":0.257501,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.195 [print] #notpresent \n"},{"result":{"nanos":2446102,"millis":2.446102,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":179300,"millis":0.1793,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":194901,"millis":0.194901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.198 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1855901,"millis":1.855901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":107801,"millis":0.107801,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":164600,"millis":0.1646,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.200 [print] \"true\";\"true\" \n"},{"result":{"nanos":247000,"millis":0.247,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":441001,"millis":0.441001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359200,"millis":0.3592,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":603.533527,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b0119753-5625-4500-9df3-13823ff9868f","startTime":1647665754596,"refId":"[1.225:82]","endTime":1647665755201,"exampleData":{"datasetIdentifierCode":"b0119753-5625-4500-9df3-13823ff9868f"},"exampleIndex":224},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.656 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":380400,"millis":0.3804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452301,"millis":0.452301,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100100,"millis":0.1001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":250000,"millis":0.25,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":579469302,"millis":579.469302,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1028301,"millis":1.028301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":816500,"millis":0.8165,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693500,"millis":0.6935,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1012401,"millis":1.012401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":855201,"millis":0.855201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":866101,"millis":0.866101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":665301,"millis":0.665301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":812901,"millis":0.812901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":937101,"millis":0.937101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":166800,"millis":0.1668,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":206000,"millis":0.206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.246 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1159401,"millis":1.159401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147601,"millis":0.147601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.247 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":982501,"millis":0.982501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131900,"millis":0.1319,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.248 [print] #notpresent \n"},{"result":{"nanos":250900,"millis":0.2509,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.248 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":903201,"millis":0.903201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129600,"millis":0.1296,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.250 [print] Beheer PDOK \n"},{"result":{"nanos":309901,"millis":0.309901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.250 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":1198601,"millis":1.198601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":773301,"millis":0.773301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.252 [print] #notpresent \n"},{"result":{"nanos":980101,"millis":0.980101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.253 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1064901,"millis":1.064901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":122701,"millis":0.122701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.255 [print] \"true\";\"true\" \n"},{"result":{"nanos":266500,"millis":0.2665,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":388500,"millis":0.3885,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332301,"millis":0.332301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":598.964821,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7681eb19-a914-4dc7-9208-c2a131dca06d","startTime":1647665754656,"refId":"[1.226:82]","endTime":1647665755256,"exampleData":{"datasetIdentifierCode":"7681eb19-a914-4dc7-9208-c2a131dca06d"},"exampleIndex":225},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:54.874 karate.env system property was: null \n"},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148200,"millis":0.1482,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":443101,"millis":0.443101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112600,"millis":0.1126,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":391900,"millis":0.3919,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":314800,"millis":0.3148,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541590162,"millis":541.590162,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":797801,"millis":0.797801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":1006701,"millis":1.006701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":791001,"millis":0.791001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":785301,"millis":0.785301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":833401,"millis":0.833401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":810700,"millis":0.8107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":158801,"millis":0.158801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":635700,"millis":0.6357,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":640201,"millis":0.640201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":547301,"millis":0.547301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143100,"millis":0.1431,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":495700,"millis":0.4957,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.426 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":565701,"millis":0.565701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114500,"millis":0.1145,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.427 [print] OGC:WMS \n"},{"result":{"nanos":704401,"millis":0.704401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.427 [print] #notpresent \n"},{"result":{"nanos":299200,"millis":0.2992,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145300,"millis":0.1453,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.428 [print] OGC:WMS \n"},{"result":{"nanos":815601,"millis":0.815601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":225000,"millis":0.225,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.429 [print] Beheer PDOK \n"},{"result":{"nanos":340501,"millis":0.340501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.429 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":977501,"millis":0.977501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":586900,"millis":0.5869,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":104700,"millis":0.1047,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.431 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":862701,"millis":0.862701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":122800,"millis":0.1228,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.432 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":849501,"millis":0.849501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":142100,"millis":0.1421,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.433 [print] \"true\";\"true\" \n"},{"result":{"nanos":495400,"millis":0.4954,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":318001,"millis":0.318001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":260900,"millis":0.2609,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.279981,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","startTime":1647665754873,"refId":"[1.227:82]","endTime":1647665755434,"exampleData":{"datasetIdentifierCode":"dd49e02c-ea87-4ffc-89dd-f888608d95b7"},"exampleIndex":226},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.069 karate.env system property was: null \n"},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":231501,"millis":0.231501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132300,"millis":0.1323,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":489800,"millis":0.4898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":483701,"millis":0.483701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":200400,"millis":0.2004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537234658,"millis":537.234658,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1024601,"millis":1.024601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":850001,"millis":0.850001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":855001,"millis":0.855001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1500401,"millis":1.500401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":839001,"millis":0.839001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":798301,"millis":0.798301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":590701,"millis":0.590701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":664800,"millis":0.6648,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":673701,"millis":0.673701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":267200,"millis":0.2672,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":253601,"millis":0.253601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.617 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":834801,"millis":0.834801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":243800,"millis":0.2438,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.618 [print] OGC:WMS \n"},{"result":{"nanos":1057201,"millis":1.057201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":501301,"millis":0.501301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.620 [print] #notpresent \n"},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":517900,"millis":0.5179,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.620 [print] OGC:WMS \n"},{"result":{"nanos":1635502,"millis":1.635502,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99100,"millis":0.0991,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.622 [print] Beheer PDOK \n"},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.622 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":1123201,"millis":1.123201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723701,"millis":0.723701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.624 [print] #notpresent \n"},{"result":{"nanos":1033701,"millis":1.033701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":110100,"millis":0.1101,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":177401,"millis":0.177401,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.626 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1106201,"millis":1.106201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":105500,"millis":0.1055,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.627 [print] \"true\";\"true\" \n"},{"result":{"nanos":337000,"millis":0.337,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":362901,"millis":0.362901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352200,"millis":0.3522,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.18528,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","startTime":1647665755068,"refId":"[1.228:82]","endTime":1647665755628,"exampleData":{"datasetIdentifierCode":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21"},"exampleIndex":227},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.204 karate.env system property was: null \n"},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":136100,"millis":0.1361,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":425501,"millis":0.425501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114400,"millis":0.1144,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386500,"millis":0.3865,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":101900,"millis":0.1019,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":174700,"millis":0.1747,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532088252,"millis":532.088252,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":743601,"millis":0.743601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":670000,"millis":0.67,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":632901,"millis":0.632901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":798101,"millis":0.798101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":914801,"millis":0.914801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":715301,"millis":0.715301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":603100,"millis":0.6031,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":631001,"millis":0.631001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":557301,"millis":0.557301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":123200,"millis":0.1232,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.746 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":782101,"millis":0.782101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.747 [print] OGC:WMS \n"},{"result":{"nanos":755501,"millis":0.755501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.747 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":295000,"millis":0.295,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.748 [print] OGC:WMS \n"},{"result":{"nanos":775801,"millis":0.775801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.749 [print] Beheer PDOK \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.749 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":917801,"millis":0.917801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":720401,"millis":0.720401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":109600,"millis":0.1096,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.750 [print] #notpresent \n"},{"result":{"nanos":723601,"millis":0.723601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":178900,"millis":0.1789,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.751 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1163701,"millis":1.163701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":139101,"millis":0.139101,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.753 [print] \"true\";\"true\" \n"},{"result":{"nanos":357600,"millis":0.3576,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":343400,"millis":0.3434,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401601,"millis":0.401601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":548.46557,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","startTime":1647665755203,"refId":"[1.229:82]","endTime":1647665755754,"exampleData":{"datasetIdentifierCode":"5b40b9b4-fcb2-4553-bcab-34824c43c992"},"exampleIndex":228},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.258 karate.env system property was: null \n"},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":561301,"millis":0.561301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396100,"millis":0.3961,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555124176,"millis":555.124176,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":772001,"millis":0.772001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":619100,"millis":0.6191,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":640101,"millis":0.640101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":650801,"millis":0.650801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":581700,"millis":0.5817,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":665201,"millis":0.665201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":630501,"millis":0.630501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":648800,"millis":0.6488,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":658901,"millis":0.658901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":341800,"millis":0.3418,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180701,"millis":0.180701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.822 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":765100,"millis":0.7651,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":194201,"millis":0.194201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.823 [print] OGC:WFS \n"},{"result":{"nanos":615900,"millis":0.6159,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137600,"millis":0.1376,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.824 [print] #notpresent \n"},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.824 [print] OGC:WFS \n"},{"result":{"nanos":694500,"millis":0.6945,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132300,"millis":0.1323,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.825 [print] Beheer PDOK \n"},{"result":{"nanos":160701,"millis":0.160701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.825 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":703900,"millis":0.7039,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":608301,"millis":0.608301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":129100,"millis":0.1291,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.827 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":1649502,"millis":1.649502,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":99900,"millis":0.0999,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":426600,"millis":0.4266,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:55.829 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":741101,"millis":0.741101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":377701,"millis":0.377701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:55.830 [print] \"true\";\"true\" \n"},{"result":{"nanos":307800,"millis":0.3078,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":354900,"millis":0.3549,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":299501,"millis":0.299501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.878993,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","startTime":1647665755258,"refId":"[1.230:82]","endTime":1647665755831,"exampleData":{"datasetIdentifierCode":"b87a0095-2ad7-4dbb-81a1-fed060df79e1"},"exampleIndex":229},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.436 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":323900,"millis":0.3239,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":310700,"millis":0.3107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":326401,"millis":0.326401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544398065,"millis":544.398065,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":930101,"millis":0.930101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":871001,"millis":0.871001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1048401,"millis":1.048401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":856301,"millis":0.856301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":868801,"millis":0.868801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2508302,"millis":2.508302,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":642101,"millis":0.642101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":759801,"millis":0.759801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":680800,"millis":0.6808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161000,"millis":0.161,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:55.992 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1009001,"millis":1.009001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116400,"millis":0.1164,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:55.993 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":985901,"millis":0.985901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":228200,"millis":0.2282,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:55.994 [print] #notpresent \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:55.995 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1940602,"millis":1.940602,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118100,"millis":0.1181,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:55.997 [print] Beheer PDOK \n"},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:55.997 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":796901,"millis":0.796901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":827601,"millis":0.827601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":107700,"millis":0.1077,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:55.999 [print] #notpresent \n"},{"result":{"nanos":907001,"millis":0.907001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":130101,"millis":0.130101,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.001 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1245301,"millis":1.245301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.002 [print] \"true\";\"true\" \n"},{"result":{"nanos":561301,"millis":0.561301,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":390400,"millis":0.3904,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355701,"millis":0.355701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.410688,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","startTime":1647665755436,"refId":"[1.231:82]","endTime":1647665756003,"exampleData":{"datasetIdentifierCode":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98"},"exampleIndex":230},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.631 karate.env system property was: null \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":376301,"millis":0.376301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317500,"millis":0.3175,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":341401,"millis":0.341401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542541863,"millis":542.541863,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1170701,"millis":1.170701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":729501,"millis":0.729501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799001,"millis":0.799001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":718300,"millis":0.7183,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":770501,"millis":0.770501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":815901,"millis":0.815901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":704001,"millis":0.704001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":606300,"millis":0.6063,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":717601,"millis":0.717601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122300,"millis":0.1223,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.183 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n"},{"result":{"nanos":951101,"millis":0.951101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.184 [print] #notpresent \n"},{"result":{"nanos":741000,"millis":0.741,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.184 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":266501,"millis":0.266501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.185 [print] #notpresent \n"},{"result":{"nanos":754201,"millis":0.754201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93100,"millis":0.0931,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.186 [print] Beheer PDOK \n"},{"result":{"nanos":183000,"millis":0.183,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.186 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n"},{"result":{"nanos":1163801,"millis":1.163801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":763601,"millis":0.763601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.188 [print] #notpresent \n"},{"result":{"nanos":908801,"millis":0.908801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":120200,"millis":0.1202,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.189 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":987001,"millis":0.987001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.190 [print] \"true\";\"true\" \n"},{"result":{"nanos":459201,"millis":0.459201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":373200,"millis":0.3732,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307801,"millis":0.307801,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.881981,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"598c4109-21d2-4a6c-b083-9975a6736849","startTime":1647665755630,"refId":"[1.232:82]","endTime":1647665756191,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736849"},"exampleIndex":231},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.756 karate.env system property was: null \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":305501,"millis":0.305501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":332500,"millis":0.3325,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536936157,"millis":536.936157,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1103801,"millis":1.103801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":846701,"millis":0.846701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783501,"millis":0.783501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":703300,"millis":0.7033,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":740501,"millis":0.740501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":789301,"millis":0.789301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747301,"millis":0.747301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":695701,"millis":0.695701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":671100,"millis":0.6711,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":120700,"millis":0.1207,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":219901,"millis":0.219901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.302 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1020801,"millis":1.020801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":169500,"millis":0.1695,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.304 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":658001,"millis":0.658001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":247200,"millis":0.2472,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.305 [print] #notpresent \n"},{"result":{"nanos":185800,"millis":0.1858,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":164400,"millis":0.1644,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.305 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":733301,"millis":0.733301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":166500,"millis":0.1665,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.306 [print] Beheer PDOK \n"},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.307 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":1146401,"millis":1.146401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":930901,"millis":0.930901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":183000,"millis":0.183,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.309 [print] #notpresent \n"},{"result":{"nanos":888101,"millis":0.888101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":170800,"millis":0.1708,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":264300,"millis":0.2643,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.311 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1188102,"millis":1.188102,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":149900,"millis":0.1499,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.312 [print] \"true\";\"true\" \n"},{"result":{"nanos":287800,"millis":0.2878,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":399401,"millis":0.399401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302700,"millis":0.3027,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.075576,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","startTime":1647665755756,"refId":"[1.233:82]","endTime":1647665756313,"exampleData":{"datasetIdentifierCode":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e"},"exampleIndex":232},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:55.833 karate.env system property was: null \n"},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402301,"millis":0.402301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335600,"millis":0.3356,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":236901,"millis":0.236901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534340654,"millis":534.340654,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":854501,"millis":0.854501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":716201,"millis":0.716201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":743501,"millis":0.743501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":733400,"millis":0.7334,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":772601,"millis":0.772601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":956601,"millis":0.956601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728101,"millis":0.728101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":610401,"millis":0.610401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":781101,"millis":0.781101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127500,"millis":0.1275,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":342100,"millis":0.3421,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.377 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":922601,"millis":0.922601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":261400,"millis":0.2614,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.378 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":698401,"millis":0.698401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":351000,"millis":0.351,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.379 [print] #notpresent \n"},{"result":{"nanos":133601,"millis":0.133601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":816500,"millis":0.8165,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.380 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1223002,"millis":1.223002,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":299100,"millis":0.2991,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.382 [print] Beheer PDOK \n"},{"result":{"nanos":303700,"millis":0.3037,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.382 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n"},{"result":{"nanos":1050102,"millis":1.050102,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":794800,"millis":0.7948,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":245300,"millis":0.2453,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.384 [print] #notpresent \n"},{"result":{"nanos":944801,"millis":0.944801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":211400,"millis":0.2114,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.386 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":921301,"millis":0.921301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":211000,"millis":0.211,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.387 [print] \"true\";\"true\" \n"},{"result":{"nanos":219501,"millis":0.219501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":557300,"millis":0.5573,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387001,"millis":0.387001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":553.931276,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d7a395a2-8673-4794-a5a6-fed6492cd580","startTime":1647665755833,"refId":"[1.234:82]","endTime":1647665756388,"exampleData":{"datasetIdentifierCode":"d7a395a2-8673-4794-a5a6-fed6492cd580"},"exampleIndex":233},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.006 karate.env system property was: null \n"},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54401,"millis":0.054401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":395400,"millis":0.3954,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368800,"millis":0.3688,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":573653295,"millis":573.653295,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1065201,"millis":1.065201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":833201,"millis":0.833201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716701,"millis":0.716701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":817501,"millis":0.817501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":845801,"millis":0.845801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":912601,"millis":0.912601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":927701,"millis":0.927701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":767401,"millis":0.767401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":677000,"millis":0.677,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":314401,"millis":0.314401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.590 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1141801,"millis":1.141801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":170600,"millis":0.1706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.591 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":960701,"millis":0.960701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154300,"millis":0.1543,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.592 [print] #notpresent \n"},{"result":{"nanos":328701,"millis":0.328701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":150000,"millis":0.15,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.593 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":959401,"millis":0.959401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173700,"millis":0.1737,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.594 [print] Beheer PDOK \n"},{"result":{"nanos":369001,"millis":0.369001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.594 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n"},{"result":{"nanos":1369901,"millis":1.369901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":900801,"millis":0.900801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":110700,"millis":0.1107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":137900,"millis":0.1379,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.597 [print] #notpresent \n"},{"result":{"nanos":1010701,"millis":1.010701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":143901,"millis":0.143901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.598 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1132101,"millis":1.132101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":142100,"millis":0.1421,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.599 [print] \"true\";\"true\" \n"},{"result":{"nanos":554101,"millis":0.554101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":434400,"millis":0.4344,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336700,"millis":0.3367,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":593.893917,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","startTime":1647665756005,"refId":"[1.235:82]","endTime":1647665756601,"exampleData":{"datasetIdentifierCode":"a301ddc7-c26f-42d8-b367-509ae5ae47d0"},"exampleIndex":234},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.194 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":486201,"millis":0.486201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381300,"millis":0.3813,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553057074,"millis":553.057074,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1096101,"millis":1.096101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":840801,"millis":0.840801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":905001,"millis":0.905001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639600,"millis":0.6396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":888001,"millis":0.888001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":877301,"millis":0.877301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78800,"millis":0.0788,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":772901,"millis":0.772901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":640601,"millis":0.640601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739701,"millis":0.739701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":490500,"millis":0.4905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":554201,"millis":0.554201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.757 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":840101,"millis":0.840101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":391800,"millis":0.3918,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.758 [print] OGC:WFS \n"},{"result":{"nanos":730401,"millis":0.730401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":409200,"millis":0.4092,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.760 [print] #notpresent \n"},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":379001,"millis":0.379001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.760 [print] OGC:WFS \n"},{"result":{"nanos":871601,"millis":0.871601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":471200,"millis":0.4712,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.761 [print] Beheer PDOK \n"},{"result":{"nanos":494201,"millis":0.494201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.762 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":773900,"millis":0.7739,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":778600,"millis":0.7786,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":416101,"millis":0.416101,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.764 [print] #notpresent \n"},{"result":{"nanos":889001,"millis":0.889001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":513501,"millis":0.513501,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.766 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":847900,"millis":0.8479,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":385300,"millis":0.3853,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.767 [print] \"true\";\"true\" \n"},{"result":{"nanos":2522503,"millis":2.522503,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":465000,"millis":0.465,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396200,"millis":0.3962,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.950997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","startTime":1647665756193,"refId":"[1.236:82]","endTime":1647665756770,"exampleData":{"datasetIdentifierCode":"aaf53e6f-fe99-4a86-a61c-50b128412d80"},"exampleIndex":235},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.316 karate.env system property was: null \n"},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122500,"millis":0.1225,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136301,"millis":0.136301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":461700,"millis":0.4617,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":176700,"millis":0.1767,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":356701,"millis":0.356701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":116400,"millis":0.1164,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":101600,"millis":0.1016,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":226800,"millis":0.2268,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541478762,"millis":541.478762,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":959401,"millis":0.959401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":777201,"millis":0.777201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":746001,"millis":0.746001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":676501,"millis":0.676501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":820101,"millis":0.820101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2841503,"millis":2.841503,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":611200,"millis":0.6112,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":582301,"millis":0.582301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":681101,"millis":0.681101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1117501,"millis":1.117501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":527400,"millis":0.5274,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.870 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":5143106,"millis":5.143106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":429400,"millis":0.4294,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.876 [print] OGC:WMS \n"},{"result":{"nanos":660001,"millis":0.660001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":425700,"millis":0.4257,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.877 [print] #notpresent \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":513701,"millis":0.513701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.878 [print] OGC:WMS \n"},{"result":{"nanos":752801,"millis":0.752801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":5110805,"millis":5.110805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.884 [print] Beheer PDOK \n"},{"result":{"nanos":577301,"millis":0.577301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.884 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":726700,"millis":0.7267,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":818401,"millis":0.818401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":453001,"millis":0.453001,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.886 [print] #notpresent \n"},{"result":{"nanos":962501,"millis":0.962501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":681201,"millis":0.681201,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.888 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":770300,"millis":0.7703,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":503501,"millis":0.503501,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.889 [print] \"true\";\"true\" \n"},{"result":{"nanos":446100,"millis":0.4461,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":474501,"millis":0.474501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":384000,"millis":0.384,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.844796,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","startTime":1647665756315,"refId":"[1.237:82]","endTime":1647665756891,"exampleData":{"datasetIdentifierCode":"0bc2bcb8-558b-446b-b4e2-381b13d483a8"},"exampleIndex":236},{"sectionIndex":0,"stepResults":[{"result":{"nanos":980201,"millis":0.980201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.390 karate.env system property was: null \n"},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":191300,"millis":0.1913,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":773301,"millis":0.773301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":415600,"millis":0.4156,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377001,"millis":0.377001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":133500,"millis":0.1335,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":106100,"millis":0.1061,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":124300,"millis":0.1243,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":303700,"millis":0.3037,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546765067,"millis":546.765067,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":923901,"millis":0.923901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":743101,"millis":0.743101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":658300,"millis":0.6583,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":621801,"millis":0.621801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":757901,"millis":0.757901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":674001,"millis":0.674001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":611600,"millis":0.6116,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":629801,"millis":0.629801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":538801,"millis":0.538801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":517300,"millis":0.5173,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":477901,"millis":0.477901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:56.949 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":691400,"millis":0.6914,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":480501,"millis":0.480501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:56.950 [print] #notpresent \n"},{"result":{"nanos":746301,"millis":0.746301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:56.951 [print] OGC:WFS \n"},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":471000,"millis":0.471,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:56.951 [print] #notpresent \n"},{"result":{"nanos":1414202,"millis":1.414202,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:56.953 [print] Beheer PDOK \n"},{"result":{"nanos":545301,"millis":0.545301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:56.954 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":787500,"millis":0.7875,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":819501,"millis":0.819501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:56.955 [print] #notpresent \n"},{"result":{"nanos":999001,"millis":0.999001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:56.957 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1283201,"millis":1.283201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":407001,"millis":0.407001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:56.958 [print] \"true\";\"true\" \n"},{"result":{"nanos":321000,"millis":0.321,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":343700,"millis":0.3437,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344701,"millis":0.344701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.049889,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","startTime":1647665756390,"refId":"[1.238:82]","endTime":1647665756959,"exampleData":{"datasetIdentifierCode":"e9ba7d7f-6cd1-4271-bce4-56432924b338"},"exampleIndex":237},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.603 karate.env system property was: null \n"},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100401,"millis":0.100401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370100,"millis":0.3701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392501,"millis":0.392501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545976367,"millis":545.976367,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1413101,"millis":1.413101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":758101,"millis":0.758101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1095101,"millis":1.095101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":767001,"millis":0.767001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":746001,"millis":0.746001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663601,"millis":0.663601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":558000,"millis":0.558,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":565501,"millis":0.565501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":658001,"millis":0.658001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":531900,"millis":0.5319,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":585801,"millis":0.585801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.160 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":5197005,"millis":5.197005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":445001,"millis":0.445001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.166 [print] OGC:WMS \n"},{"result":{"nanos":724200,"millis":0.7242,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":511601,"millis":0.511601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.167 [print] #notpresent \n"},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":459700,"millis":0.4597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.167 [print] OGC:WMS \n"},{"result":{"nanos":687801,"millis":0.687801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":509801,"millis":0.509801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.169 [print] Beheer PDOK \n"},{"result":{"nanos":471200,"millis":0.4712,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.169 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":820801,"millis":0.820801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":739601,"millis":0.739601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":430300,"millis":0.4303,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.171 [print] #notpresent \n"},{"result":{"nanos":822101,"millis":0.822101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":582101,"millis":0.582101,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.173 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":728401,"millis":0.728401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":479900,"millis":0.4799,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.174 [print] \"true\";\"true\" \n"},{"result":{"nanos":463501,"millis":0.463501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":489700,"millis":0.4897,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302701,"millis":0.302701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.925594,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","startTime":1647665756603,"refId":"[1.239:82]","endTime":1647665757175,"exampleData":{"datasetIdentifierCode":"c78a99eb-9ba3-4307-a21b-2a64ad5da039"},"exampleIndex":238},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.774 karate.env system property was: null \n"},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372301,"millis":0.372301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452100,"millis":0.4521,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":318301,"millis":0.318301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536812057,"millis":536.812057,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":946101,"millis":0.946101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":829301,"millis":0.829301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":827501,"millis":0.827501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":952601,"millis":0.952601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":755701,"millis":0.755701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1142501,"millis":1.142501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":655501,"millis":0.655501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":561900,"millis":0.5619,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636201,"millis":0.636201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113600,"millis":0.1136,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.320 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1023601,"millis":1.023601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143400,"millis":0.1434,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.321 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":887801,"millis":0.887801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.322 [print] #notpresent \n"},{"result":{"nanos":206601,"millis":0.206601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.323 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":927901,"millis":0.927901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.324 [print] Beheer PDOK \n"},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.324 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n"},{"result":{"nanos":1227901,"millis":1.227901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1026901,"millis":1.026901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.326 [print] #notpresent \n"},{"result":{"nanos":1100602,"millis":1.100602,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":169000,"millis":0.169,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.328 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1343001,"millis":1.343001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115300,"millis":0.1153,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.329 [print] \"true\";\"true\" \n"},{"result":{"nanos":652301,"millis":0.652301,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":423501,"millis":0.423501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":259600,"millis":0.2596,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.294378,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","startTime":1647665756773,"refId":"[1.240:82]","endTime":1647665757331,"exampleData":{"datasetIdentifierCode":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8"},"exampleIndex":239},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.894 karate.env system property was: null \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334600,"millis":0.3346,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325600,"millis":0.3256,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":403900,"millis":0.4039,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":101700,"millis":0.1017,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548949370,"millis":548.94937,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":948601,"millis":0.948601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":772601,"millis":0.772601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":982401,"millis":0.982401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":934401,"millis":0.934401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1001601,"millis":1.001601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1017301,"millis":1.017301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":759301,"millis":0.759301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":569700,"millis":0.5697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":608101,"millis":0.608101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":725301,"millis":0.725301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.453 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":686400,"millis":0.6864,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":466701,"millis":0.466701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.454 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":692101,"millis":0.692101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":502600,"millis":0.5026,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.455 [print] #notpresent \n"},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":518201,"millis":0.518201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.456 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":814201,"millis":0.814201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":766801,"millis":0.766801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.458 [print] Beheer PDOK \n"},{"result":{"nanos":572400,"millis":0.5724,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.458 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":768301,"millis":0.768301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":920901,"millis":0.920901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":547401,"millis":0.547401,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.460 [print] #notpresent \n"},{"result":{"nanos":792500,"millis":0.7925,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":600901,"millis":0.600901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.462 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":784701,"millis":0.784701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":473000,"millis":0.473,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.463 [print] \"true\";\"true\" \n"},{"result":{"nanos":452901,"millis":0.452901,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":376500,"millis":0.3765,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294301,"millis":0.294301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.088392,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"918388cf-9d8c-4264-b108-3e375bde0d52","startTime":1647665756893,"refId":"[1.241:82]","endTime":1647665757464,"exampleData":{"datasetIdentifierCode":"918388cf-9d8c-4264-b108-3e375bde0d52"},"exampleIndex":240},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:56.962 karate.env system property was: null \n"},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":243701,"millis":0.243701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2245602,"millis":2.245602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402400,"millis":0.4024,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33401,"millis":0.033401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":260100,"millis":0.2601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540144560,"millis":540.14456,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":767800,"millis":0.7678,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":797001,"millis":0.797001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":897301,"millis":0.897301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1268701,"millis":1.268701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":848801,"millis":0.848801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":890201,"millis":0.890201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":585201,"millis":0.585201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":643801,"millis":0.643801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":590100,"millis":0.5901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76300,"millis":0.0763,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134200,"millis":0.1342,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.513 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":943601,"millis":0.943601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":353800,"millis":0.3538,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.515 [print] #notpresent \n"},{"result":{"nanos":622601,"millis":0.622601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":358800,"millis":0.3588,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.516 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1906902,"millis":1.906902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.516 [print] #notpresent \n"},{"result":{"nanos":908201,"millis":0.908201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151800,"millis":0.1518,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.519 [print] Beheer PDOK \n"},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.519 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":1043101,"millis":1.043101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":888101,"millis":0.888101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.521 [print] #notpresent \n"},{"result":{"nanos":927700,"millis":0.9277,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":56601,"millis":0.056601,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":155700,"millis":0.1557,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.522 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":865301,"millis":0.865301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":104100,"millis":0.1041,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.523 [print] \"true\";\"true\" \n"},{"result":{"nanos":369100,"millis":0.3691,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":373001,"millis":0.373001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":277200,"millis":0.2772,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.836481,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"62c0d0a5-5826-406d-a625-d84bc5fec800","startTime":1647665756961,"refId":"[1.242:82]","endTime":1647665757524,"exampleData":{"datasetIdentifierCode":"62c0d0a5-5826-406d-a625-d84bc5fec800"},"exampleIndex":241},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.178 karate.env system property was: null \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336301,"millis":0.336301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":334200,"millis":0.3342,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":383501,"millis":0.383501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546149667,"millis":546.149667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1089301,"millis":1.089301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":901801,"millis":0.901801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":919901,"millis":0.919901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1014901,"millis":1.014901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1510701,"millis":1.510701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1035101,"millis":1.035101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":725101,"millis":0.725101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":17284118,"millis":17.284118,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1045101,"millis":1.045101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127600,"millis":0.1276,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":609701,"millis":0.609701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.752 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":899701,"millis":0.899701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":5019705,"millis":5.019705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.758 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1014301,"millis":1.014301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":191401,"millis":0.191401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.759 [print] #notpresent \n"},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180600,"millis":0.1806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.759 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1258301,"millis":1.258301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":183900,"millis":0.1839,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.761 [print] Beheer PDOK \n"},{"result":{"nanos":162101,"millis":0.162101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.761 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":1026001,"millis":1.026001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1018101,"millis":1.018101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":175100,"millis":0.1751,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.764 [print] #notpresent \n"},{"result":{"nanos":1168401,"millis":1.168401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":99800,"millis":0.0998,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":140901,"millis":0.140901,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.765 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":998701,"millis":0.998701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":83500,"millis":0.0835,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":212900,"millis":0.2129,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.766 [print] \"true\";\"true\" \n"},{"result":{"nanos":226800,"millis":0.2268,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":423201,"millis":0.423201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":419000,"millis":0.419,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":588.895512,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"40f04047-3b61-40eb-b026-c1a0caa71881","startTime":1647665757177,"refId":"[1.243:82]","endTime":1647665757767,"exampleData":{"datasetIdentifierCode":"40f04047-3b61-40eb-b026-c1a0caa71881"},"exampleIndex":242},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.333 karate.env system property was: null \n"},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":413001,"millis":0.413001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367700,"millis":0.3677,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":328401,"millis":0.328401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":408000,"millis":0.408,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546734668,"millis":546.734668,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1297601,"millis":1.297601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":1063501,"millis":1.063501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":952501,"millis":0.952501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1016501,"millis":1.016501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1011401,"millis":1.011401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":931101,"millis":0.931101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":813901,"millis":0.813901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":749601,"millis":0.749601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":924201,"millis":0.924201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":173100,"millis":0.1731,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":240401,"millis":0.240401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:57.891 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1023801,"millis":1.023801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201500,"millis":0.2015,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:57.892 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":809201,"millis":0.809201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":151300,"millis":0.1513,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:57.893 [print] #notpresent \n"},{"result":{"nanos":161900,"millis":0.1619,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":149200,"millis":0.1492,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:57.894 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":973401,"millis":0.973401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":163000,"millis":0.163,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:57.895 [print] Beheer PDOK \n"},{"result":{"nanos":142201,"millis":0.142201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:57.895 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":959101,"millis":0.959101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":979001,"millis":0.979001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":142200,"millis":0.1422,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:57.897 [print] #notpresent \n"},{"result":{"nanos":1015701,"millis":1.015701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":113900,"millis":0.1139,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":157900,"millis":0.1579,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:57.899 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":939901,"millis":0.939901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":140100,"millis":0.1401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:57.900 [print] \"true\";\"true\" \n"},{"result":{"nanos":231200,"millis":0.2312,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":583600,"millis":0.5836,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":492601,"millis":0.492601,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.541789,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ceda1b88-32ac-40b2-a841-71eb041c9427","startTime":1647665757333,"refId":"[1.244:82]","endTime":1647665757901,"exampleData":{"datasetIdentifierCode":"ceda1b88-32ac-40b2-a841-71eb041c9427"},"exampleIndex":243},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.467 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113100,"millis":0.1131,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":361200,"millis":0.3612,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377201,"millis":0.377201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":963701,"millis":0.963701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558324979,"millis":558.324979,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1178202,"millis":1.178202,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":798401,"millis":0.798401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":740200,"millis":0.7402,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":672201,"millis":0.672201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":940301,"millis":0.940301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":863301,"millis":0.863301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698001,"millis":0.698001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":721001,"millis":0.721001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767600,"millis":0.7676,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":216501,"millis":0.216501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":200800,"millis":0.2008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.036 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":721601,"millis":0.721601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":187400,"millis":0.1874,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.037 [print] OGC:WMS \n"},{"result":{"nanos":787701,"millis":0.787701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":198100,"millis":0.1981,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.038 [print] #notpresent \n"},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171000,"millis":0.171,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.038 [print] OGC:WMS \n"},{"result":{"nanos":813701,"millis":0.813701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145000,"millis":0.145,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.039 [print] Beheer PDOK \n"},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.039 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":773701,"millis":0.773701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":753901,"millis":0.753901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":131600,"millis":0.1316,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":140200,"millis":0.1402,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.041 [print] #notpresent \n"},{"result":{"nanos":1003501,"millis":1.003501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":132800,"millis":0.1328,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":138101,"millis":0.138101,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.043 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":765100,"millis":0.7651,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115401,"millis":0.115401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.044 [print] \"true\";\"true\" \n"},{"result":{"nanos":214500,"millis":0.2145,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":459400,"millis":0.4594,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333501,"millis":0.333501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":576.535999,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","startTime":1647665757466,"refId":"[1.245:82]","endTime":1647665758045,"exampleData":{"datasetIdentifierCode":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a"},"exampleIndex":244},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.527 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":79000,"millis":0.079,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":377100,"millis":0.3771,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467101,"millis":0.467101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545509566,"millis":545.509566,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1009501,"millis":1.009501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":701101,"millis":0.701101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":692801,"millis":0.692801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":649400,"millis":0.6494,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":709701,"millis":0.709701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":911401,"millis":0.911401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":604601,"millis":0.604601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":564700,"millis":0.5647,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":708301,"millis":0.708301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114300,"millis":0.1143,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164900,"millis":0.1649,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.081 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1089402,"millis":1.089402,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148400,"millis":0.1484,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1217601,"millis":1.217601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.084 [print] #notpresent \n"},{"result":{"nanos":221400,"millis":0.2214,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154801,"millis":0.154801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.084 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":865401,"millis":0.865401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150300,"millis":0.1503,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.085 [print] Beheer PDOK \n"},{"result":{"nanos":361100,"millis":0.3611,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.085 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":847601,"millis":0.847601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":824401,"millis":0.824401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":122500,"millis":0.1225,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.087 [print] #notpresent \n"},{"result":{"nanos":910701,"millis":0.910701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":175900,"millis":0.1759,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.089 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":930601,"millis":0.930601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":134201,"millis":0.134201,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.090 [print] \"true\";\"true\" \n"},{"result":{"nanos":339800,"millis":0.3398,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":333900,"millis":0.3339,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319901,"millis":0.319901,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.442086,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","startTime":1647665757526,"refId":"[1.246:82]","endTime":1647665758091,"exampleData":{"datasetIdentifierCode":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f"},"exampleIndex":245},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.770 karate.env system property was: null \n"},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138300,"millis":0.1383,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121300,"millis":0.1213,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427100,"millis":0.4271,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360201,"millis":0.360201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144400,"millis":0.1444,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530943751,"millis":530.943751,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":972501,"millis":0.972501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":867901,"millis":0.867901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":703901,"millis":0.703901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":686900,"millis":0.6869,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":865800,"millis":0.8658,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1030802,"millis":1.030802,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75900,"millis":0.0759,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":748400,"millis":0.7484,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":739001,"millis":0.739001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":632501,"millis":0.632501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108500,"millis":0.1085,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":340000,"millis":0.34,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.311 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n"},{"result":{"nanos":740200,"millis":0.7402,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.312 [print] OGC:WFS \n"},{"result":{"nanos":706701,"millis":0.706701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.313 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":214001,"millis":0.214001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.313 [print] OGC:WFS \n"},{"result":{"nanos":636300,"millis":0.6363,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.314 [print] Beheer PDOK \n"},{"result":{"nanos":56601,"millis":0.056601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.314 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":800100,"millis":0.8001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":832101,"millis":0.832101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.316 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2010\\\/1089\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/ats\\\/metadata\\\/2.0\\\/sds-invocable\";\"http:\\\/\\\/www.opengis.net\\\/def\\\/serviceType\\\/ogc\\\/wfs .\" \n"},{"result":{"nanos":658201,"millis":0.658201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.317 [print] \"Deze service voldoet aan specificaties voor spatial data services\";\"De service voldoet aan de requirements van de invocable conformance class\";\"De service voldoet aan de requirements van de WFS 2.0 conformance class\" \n"},{"result":{"nanos":1001901,"millis":1.001901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":125800,"millis":0.1258,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":249001,"millis":0.249001,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.318 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":504500,"millis":0.5045,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":348601,"millis":0.348601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280300,"millis":0.2803,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":548.031667,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","startTime":1647665757769,"refId":"[1.247:82]","endTime":1647665758319,"exampleData":{"datasetIdentifierCode":"008d85d1-460d-46f6-9af4-98afdedbc4dc"},"exampleIndex":246},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:57.904 karate.env system property was: null \n"},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119300,"millis":0.1193,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":385301,"millis":0.385301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376800,"millis":0.3768,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145700,"millis":0.1457,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525120545,"millis":525.120545,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":932201,"millis":0.932201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":872501,"millis":0.872501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":936201,"millis":0.936201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":637701,"millis":0.637701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":997101,"millis":0.997101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":832401,"millis":0.832401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":567001,"millis":0.567001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":607000,"millis":0.607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":646401,"millis":0.646401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":591101,"millis":0.591101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.439 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":646900,"millis":0.6469,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":348201,"millis":0.348201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.440 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":727200,"millis":0.7272,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":374200,"millis":0.3742,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.441 [print] #notpresent \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":343100,"millis":0.3431,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.441 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":678201,"millis":0.678201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.442 [print] Beheer PDOK \n"},{"result":{"nanos":405401,"millis":0.405401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.443 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":977001,"millis":0.977001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664301,"millis":0.664301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":418300,"millis":0.4183,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.445 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":684701,"millis":0.684701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":626001,"millis":0.626001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.446 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":853801,"millis":0.853801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.447 [print] \"true\";\"true\" \n"},{"result":{"nanos":524100,"millis":0.5241,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":382201,"millis":0.382201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289500,"millis":0.2895,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":543.948964,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","startTime":1647665757903,"refId":"[1.248:82]","endTime":1647665758449,"exampleData":{"datasetIdentifierCode":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db"},"exampleIndex":247},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.047 karate.env system property was: null \n"},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":152800,"millis":0.1528,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148300,"millis":0.1483,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":423101,"millis":0.423101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111100,"millis":0.1111,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475500,"millis":0.4755,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113600,"millis":0.1136,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546986967,"millis":546.986967,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1205801,"millis":1.205801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":968901,"millis":0.968901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":775801,"millis":0.775801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":787300,"millis":0.7873,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":881701,"millis":0.881701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":930601,"millis":0.930601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":734901,"millis":0.734901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":662301,"millis":0.662301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":610701,"millis":0.610701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":568600,"millis":0.5686,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.605 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n"},{"result":{"nanos":763001,"millis":0.763001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":340300,"millis":0.3403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.606 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":764201,"millis":0.764201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":356301,"millis":0.356301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.607 [print] #notpresent \n"},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":479500,"millis":0.4795,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.608 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":805601,"millis":0.805601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":333600,"millis":0.3336,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.609 [print] Beheer PDOK \n"},{"result":{"nanos":372201,"millis":0.372201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.609 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":851701,"millis":0.851701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":937701,"millis":0.937701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":373600,"millis":0.3736,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.612 [print] #notpresent \n"},{"result":{"nanos":967901,"millis":0.967901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":74800,"millis":0.0748,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":565301,"millis":0.565301,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.613 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":420700,"millis":0.4207,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.615 [print] \"true\";\"true\" \n"},{"result":{"nanos":318700,"millis":0.3187,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":394701,"millis":0.394701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417500,"millis":0.4175,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.394888,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","startTime":1647665758047,"refId":"[1.249:82]","endTime":1647665758616,"exampleData":{"datasetIdentifierCode":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c"},"exampleIndex":248},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.093 karate.env system property was: null \n"},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":351100,"millis":0.3511,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":90800,"millis":0.0908,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355501,"millis":0.355501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":184000,"millis":0.184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":114500,"millis":0.1145,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555156176,"millis":555.156176,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":859401,"millis":0.859401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":657800,"millis":0.6578,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797701,"millis":0.797701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":671901,"millis":0.671901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":709101,"millis":0.709101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":658000,"millis":0.658,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":564801,"millis":0.564801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":718601,"millis":0.718601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702600,"millis":0.7026,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":211900,"millis":0.2119,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.657 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":737201,"millis":0.737201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.659 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":896101,"millis":0.896101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.660 [print] #notpresent \n"},{"result":{"nanos":220200,"millis":0.2202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.660 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":947901,"millis":0.947901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.661 [print] Beheer PDOK \n"},{"result":{"nanos":311500,"millis":0.3115,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.662 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":1212401,"millis":1.212401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":900301,"millis":0.900301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.664 [print] #notpresent \n"},{"result":{"nanos":990501,"millis":0.990501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.665 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1161102,"millis":1.161102,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.666 [print] \"true\";\"true\" \n"},{"result":{"nanos":478900,"millis":0.4789,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":445301,"millis":0.445301,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325800,"millis":0.3258,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":572.907795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"280cee65-1b66-4973-a569-75122e0b745b","startTime":1647665758093,"refId":"[1.250:82]","endTime":1647665758668,"exampleData":{"datasetIdentifierCode":"280cee65-1b66-4973-a569-75122e0b745b"},"exampleIndex":249},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.322 karate.env system property was: null \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343500,"millis":0.3435,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342401,"millis":0.342401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536781357,"millis":536.781357,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1023901,"millis":1.023901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":878501,"millis":0.878501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":805901,"millis":0.805901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":889501,"millis":0.889501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":867701,"millis":0.867701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":803701,"millis":0.803701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718400,"millis":0.7184,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":571201,"millis":0.571201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":628801,"millis":0.628801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":6804907,"millis":6.804907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:58.874 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n"},{"result":{"nanos":695801,"millis":0.695801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":807900,"millis":0.8079,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:58.876 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":768401,"millis":0.768401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":434801,"millis":0.434801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:58.877 [print] #notpresent \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":304800,"millis":0.3048,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:58.878 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":815701,"millis":0.815701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":315000,"millis":0.315,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:58.879 [print] Beheer PDOK \n"},{"result":{"nanos":409201,"millis":0.409201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:58.879 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":792401,"millis":0.792401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":868800,"millis":0.8688,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":319801,"millis":0.319801,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:58.881 [print] #notpresent \n"},{"result":{"nanos":750001,"millis":0.750001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":542000,"millis":0.542,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:58.883 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":718001,"millis":0.718001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":307700,"millis":0.3077,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:58.884 [print] \"true\";\"true\" \n"},{"result":{"nanos":366101,"millis":0.366101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":398000,"millis":0.398,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389301,"millis":0.389301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.134684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3e65fa1b-9bb1-41bd-9760-76962751b839","startTime":1647665758321,"refId":"[1.251:82]","endTime":1647665758885,"exampleData":{"datasetIdentifierCode":"3e65fa1b-9bb1-41bd-9760-76962751b839"},"exampleIndex":250},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.451 karate.env system property was: null \n"},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334500,"millis":0.3345,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":333201,"millis":0.333201,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":336300,"millis":0.3363,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544307865,"millis":544.307865,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1046001,"millis":1.046001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":663901,"millis":0.663901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":700101,"millis":0.700101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":865501,"millis":0.865501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":955401,"millis":0.955401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":829400,"millis":0.8294,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":601600,"millis":0.6016,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":681001,"millis":0.681001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":617701,"millis":0.617701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":679000,"millis":0.679,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.005 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":641001,"millis":0.641001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":366400,"millis":0.3664,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.006 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":609701,"millis":0.609701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":363700,"millis":0.3637,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.007 [print] #notpresent \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":284200,"millis":0.2842,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.007 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":879901,"millis":0.879901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":312100,"millis":0.3121,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.009 [print] Beheer PDOK \n"},{"result":{"nanos":657801,"millis":0.657801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.009 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n"},{"result":{"nanos":780501,"millis":0.780501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":925601,"millis":0.925601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":607400,"millis":0.6074,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.012 [print] \"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\";\"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\" \n"},{"result":{"nanos":764601,"millis":0.764601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":498601,"millis":0.498601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.013 [print] \"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":788401,"millis":0.788401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":312400,"millis":0.3124,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.014 [print] \"true\";\"true\" \n"},{"result":{"nanos":305200,"millis":0.3052,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":427701,"millis":0.427701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":299300,"millis":0.2993,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.456684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","startTime":1647665758451,"refId":"[1.252:82]","endTime":1647665759015,"exampleData":{"datasetIdentifierCode":"108fec55-e467-4d04-ab35-fd0d7060e3e2"},"exampleIndex":251},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.618 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":399601,"millis":0.399601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379400,"millis":0.3794,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":385401,"millis":0.385401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":606921730,"millis":606.92173,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":881201,"millis":0.881201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":844401,"millis":0.844401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":793001,"millis":0.793001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":687800,"millis":0.6878,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748501,"millis":0.748501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2702203,"millis":2.702203,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":652801,"millis":0.652801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":667000,"millis":0.667,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":622701,"millis":0.622701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138600,"millis":0.1386,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139900,"millis":0.1399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.236 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n"},{"result":{"nanos":669501,"millis":0.669501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.237 [print] OGC:WFS \n"},{"result":{"nanos":788501,"millis":0.788501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162100,"millis":0.1621,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.238 [print] #notpresent \n"},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126900,"millis":0.1269,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.238 [print] OGC:WFS \n"},{"result":{"nanos":767501,"millis":0.767501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140900,"millis":0.1409,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.239 [print] Beheer PDOK \n"},{"result":{"nanos":132101,"millis":0.132101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.239 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":689300,"millis":0.6893,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":710101,"millis":0.710101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":135600,"millis":0.1356,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.241 [print] #notpresent \n"},{"result":{"nanos":1090601,"millis":1.090601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":129501,"millis":0.129501,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":143900,"millis":0.1439,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.242 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":928801,"millis":0.928801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":96200,"millis":0.0962,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":263600,"millis":0.2636,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.244 [print] \"true\";\"true\" \n"},{"result":{"nanos":184700,"millis":0.1847,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":456101,"millis":0.456101,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354500,"millis":0.3545,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":625.73585,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e75b66ae-21b1-4303-aeb3-787608707b23","startTime":1647665758618,"refId":"[1.253:82]","endTime":1647665759245,"exampleData":{"datasetIdentifierCode":"e75b66ae-21b1-4303-aeb3-787608707b23"},"exampleIndex":252},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.670 karate.env system property was: null \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370701,"millis":0.370701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":331100,"millis":0.3311,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":258100,"millis":0.2581,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548894069,"millis":548.894069,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1050501,"millis":1.050501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":700701,"millis":0.700701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1044901,"millis":1.044901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1046501,"millis":1.046501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":825001,"millis":0.825001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":869901,"millis":0.869901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104200,"millis":0.1042,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":743001,"millis":0.743001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":835101,"millis":0.835101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":770401,"millis":0.770401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":608700,"millis":0.6087,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":481901,"millis":0.481901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.230 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":676900,"millis":0.6769,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":356100,"millis":0.3561,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.231 [print] OGC:WMS \n"},{"result":{"nanos":762301,"millis":0.762301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":361600,"millis":0.3616,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.232 [print] #notpresent \n"},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":423001,"millis":0.423001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.233 [print] OGC:WMS \n"},{"result":{"nanos":1197701,"millis":1.197701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":421000,"millis":0.421,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.234 [print] Beheer PDOK \n"},{"result":{"nanos":413501,"millis":0.413501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.235 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n"},{"result":{"nanos":734001,"millis":0.734001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1054501,"millis":1.054501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":358900,"millis":0.3589,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.237 [print] #notpresent \n"},{"result":{"nanos":1563802,"millis":1.563802,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":474500,"millis":0.4745,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.239 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":716301,"millis":0.716301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":85500,"millis":0.0855,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":362100,"millis":0.3621,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.241 [print] \"true\";\"true\" \n"},{"result":{"nanos":468701,"millis":0.468701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":669000,"millis":0.669,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":370001,"millis":0.370001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.081792,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1bd24d1e-aa13-4395-809e-893570f7c651","startTime":1647665758670,"refId":"[1.254:82]","endTime":1647665759242,"exampleData":{"datasetIdentifierCode":"1bd24d1e-aa13-4395-809e-893570f7c651"},"exampleIndex":253},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:58.888 karate.env system property was: null \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":466100,"millis":0.4661,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349001,"millis":0.349001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":352100,"millis":0.3521,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566781489,"millis":566.781489,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1415201,"millis":1.415201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":1085301,"millis":1.085301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691301,"millis":0.691301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":721401,"millis":0.721401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1006001,"millis":1.006001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":935801,"millis":0.935801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":673201,"millis":0.673201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":675500,"millis":0.6755,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":825201,"millis":0.825201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171101,"millis":0.171101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.465 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n"},{"result":{"nanos":846800,"millis":0.8468,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166301,"millis":0.166301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.466 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":774800,"millis":0.7748,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130001,"millis":0.130001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.467 [print] #notpresent \n"},{"result":{"nanos":77300,"millis":0.0773,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130800,"millis":0.1308,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.467 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":720801,"millis":0.720801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144700,"millis":0.1447,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.468 [print] Beheer PDOK \n"},{"result":{"nanos":121300,"millis":0.1213,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.468 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":986501,"millis":0.986501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":793301,"millis":0.793301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":115300,"millis":0.1153,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":178700,"millis":0.1787,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.470 [print] #notpresent \n"},{"result":{"nanos":769201,"millis":0.769201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":140400,"millis":0.1404,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.471 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":789101,"millis":0.789101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":94800,"millis":0.0948,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.472 [print] \"true\";\"true\" \n"},{"result":{"nanos":245101,"millis":0.245101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":424400,"millis":0.4244,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":309100,"millis":0.3091,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":584.901207,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a2724dae-ebad-4a07-9405-49bddfde3368","startTime":1647665758887,"refId":"[1.255:82]","endTime":1647665759473,"exampleData":{"datasetIdentifierCode":"a2724dae-ebad-4a07-9405-49bddfde3368"},"exampleIndex":254},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.018 karate.env system property was: null \n"},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346301,"millis":0.346301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330200,"millis":0.3302,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":374801,"millis":0.374801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522504342,"millis":522.504342,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":948501,"millis":0.948501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":601101,"millis":0.601101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":750400,"millis":0.7504,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":595901,"millis":0.595901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":670201,"millis":0.670201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":909001,"millis":0.909001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":613300,"millis":0.6133,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":605401,"millis":0.605401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":602801,"millis":0.602801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":936401,"millis":0.936401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":779001,"millis":0.779001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.551 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":879900,"millis":0.8799,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":295200,"millis":0.2952,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.552 [print] OGC:WMS \n"},{"result":{"nanos":965001,"millis":0.965001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":138600,"millis":0.1386,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.553 [print] #notpresent \n"},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.553 [print] OGC:WMS \n"},{"result":{"nanos":972601,"millis":0.972601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":166200,"millis":0.1662,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.554 [print] Beheer PDOK \n"},{"result":{"nanos":148701,"millis":0.148701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.555 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":963201,"millis":0.963201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1054801,"millis":1.054801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":149200,"millis":0.1492,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.557 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":668701,"millis":0.668701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":134500,"millis":0.1345,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":179400,"millis":0.1794,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.558 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":776701,"millis":0.776701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":109500,"millis":0.1095,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":148200,"millis":0.1482,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.559 [print] \"true\";\"true\" \n"},{"result":{"nanos":234500,"millis":0.2345,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":421700,"millis":0.4217,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":7167407,"millis":7.167407,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":547.981667,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f57bdee7-4027-4aa2-8312-4051b854be3c","startTime":1647665759017,"refId":"[1.256:82]","endTime":1647665759567,"exampleData":{"datasetIdentifierCode":"f57bdee7-4027-4aa2-8312-4051b854be3c"},"exampleIndex":255},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.247 karate.env system property was: null \n"},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":383201,"millis":0.383201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112700,"millis":0.1127,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":395000,"millis":0.395,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":98501,"millis":0.098501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420600,"millis":0.4206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":225800,"millis":0.2258,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":583963306,"millis":583.963306,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":756300,"millis":0.7563,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":709601,"millis":0.709601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691401,"millis":0.691401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":652801,"millis":0.652801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5690506,"millis":5.690506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2236202,"millis":2.236202,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":656301,"millis":0.656301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":575300,"millis":0.5753,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":733101,"millis":0.733101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":620801,"millis":0.620801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":556200,"millis":0.5562,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.847 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":638501,"millis":0.638501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":458300,"millis":0.4583,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.848 [print] #notpresent \n"},{"result":{"nanos":675501,"millis":0.675501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":530601,"millis":0.530601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.849 [print] OGC:WMS \n"},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1497201,"millis":1.497201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.851 [print] #notpresent \n"},{"result":{"nanos":754201,"millis":0.754201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":505501,"millis":0.505501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.852 [print] Beheer PDOK \n"},{"result":{"nanos":554000,"millis":0.554,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.853 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":710701,"millis":0.710701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723201,"millis":0.723201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":460100,"millis":0.4601,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.855 [print] #notpresent \n"},{"result":{"nanos":824701,"millis":0.824701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":714601,"millis":0.714601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.857 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":722001,"millis":0.722001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":456200,"millis":0.4562,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.858 [print] \"true\";\"true\" \n"},{"result":{"nanos":313801,"millis":0.313801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":340700,"millis":0.3407,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":264900,"millis":0.2649,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":611.239734,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f76bdce5-344e-415f-8f2c-972755e80b65","startTime":1647665759246,"refId":"[1.257:82]","endTime":1647665759859,"exampleData":{"datasetIdentifierCode":"f76bdce5-344e-415f-8f2c-972755e80b65"},"exampleIndex":256},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.247 karate.env system property was: null \n"},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374301,"millis":0.374301,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108400,"millis":0.1084,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372600,"millis":0.3726,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65400,"millis":0.0654,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":377101,"millis":0.377101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":206000,"millis":0.206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528503348,"millis":528.503348,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1213102,"millis":1.213102,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":817301,"millis":0.817301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":640300,"millis":0.6403,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":697801,"millis":0.697801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":838201,"millis":0.838201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":654301,"millis":0.654301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":674400,"millis":0.6744,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":553701,"millis":0.553701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":596900,"millis":0.5969,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":690601,"millis":0.690601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":622001,"millis":0.622001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:55:59.786 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1632602,"millis":1.632602,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":433900,"millis":0.4339,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:55:59.788 [print] OGC:WFS \n"},{"result":{"nanos":2279202,"millis":2.279202,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":599301,"millis":0.599301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:55:59.791 [print] #notpresent \n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":482001,"millis":0.482001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:55:59.792 [print] OGC:WFS \n"},{"result":{"nanos":680700,"millis":0.6807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":444401,"millis":0.444401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:55:59.793 [print] Beheer PDOK \n"},{"result":{"nanos":532400,"millis":0.5324,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:55:59.793 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":1530502,"millis":1.530502,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":719401,"millis":0.719401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":551300,"millis":0.5513,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:55:59.796 [print] #notpresent \n"},{"result":{"nanos":844401,"millis":0.844401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":682701,"millis":0.682701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:55:59.798 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":828501,"millis":0.828501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":602701,"millis":0.602701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:55:59.799 [print] \"true\";\"true\" \n"},{"result":{"nanos":327200,"millis":0.3272,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":499701,"millis":0.499701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":298800,"millis":0.2988,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":552.622574,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"972edbaa-f860-4c48-b449-4f238a263472","startTime":1647665759247,"refId":"[1.258:82]","endTime":1647665759801,"exampleData":{"datasetIdentifierCode":"972edbaa-f860-4c48-b449-4f238a263472"},"exampleIndex":257},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.476 karate.env system property was: null \n"},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402900,"millis":0.4029,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":106100,"millis":0.1061,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399801,"millis":0.399801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87100,"millis":0.0871,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":164400,"millis":0.1644,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561687583,"millis":561.687583,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1372102,"millis":1.372102,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":880901,"millis":0.880901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":721400,"millis":0.7214,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":726101,"millis":0.726101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1402202,"millis":1.402202,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":765500,"millis":0.7655,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":626701,"millis":0.626701,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":822501,"millis":0.822501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":627101,"millis":0.627101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":928401,"millis":0.928401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.049 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":705901,"millis":0.705901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77000,"millis":0.077,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.050 [print] #notpresent \n"},{"result":{"nanos":830101,"millis":0.830101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.051 [print] OGC:WFS \n"},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.051 [print] #notpresent \n"},{"result":{"nanos":1508702,"millis":1.508702,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.053 [print] Beheer PDOK \n"},{"result":{"nanos":456200,"millis":0.4562,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.053 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":803101,"millis":0.803101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":764601,"millis":0.764601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.055 [print] #notpresent \n"},{"result":{"nanos":989601,"millis":0.989601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.056 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1260302,"millis":1.260302,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85900,"millis":0.0859,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.058 [print] \"true\";\"true\" \n"},{"result":{"nanos":566400,"millis":0.5664,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":363501,"millis":0.363501,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":260600,"millis":0.2606,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":581.594105,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c374d556-7b6e-459b-83c7-74da6ad90a59","startTime":1647665759475,"refId":"[1.259:82]","endTime":1647665760059,"exampleData":{"datasetIdentifierCode":"c374d556-7b6e-459b-83c7-74da6ad90a59"},"exampleIndex":258},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.570 karate.env system property was: null \n"},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":143000,"millis":0.143,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":147300,"millis":0.1473,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":460501,"millis":0.460501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432000,"millis":0.432,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143000,"millis":0.143,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552340473,"millis":552.340473,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":941101,"millis":0.941101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":712201,"millis":0.712201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":672501,"millis":0.672501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822201,"millis":0.822201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":858801,"millis":0.858801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":907200,"millis":0.9072,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":133301,"millis":0.133301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728400,"millis":0.7284,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":601001,"millis":0.601001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702801,"millis":0.702801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105000,"millis":0.105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.134 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":588001,"millis":0.588001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.135 [print] OGC:WMS \n"},{"result":{"nanos":572800,"millis":0.5728,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.135 [print] #notpresent \n"},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.135 [print] OGC:WMS \n"},{"result":{"nanos":678301,"millis":0.678301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.136 [print] Beheer PDOK \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.136 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":689101,"millis":0.689101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":812301,"millis":0.812301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.138 [print] #notpresent \n"},{"result":{"nanos":689901,"millis":0.689901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.139 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":688801,"millis":0.688801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.140 [print] \"true\";\"true\" \n"},{"result":{"nanos":307700,"millis":0.3077,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":366100,"millis":0.3661,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":255501,"millis":0.255501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.585889,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cea38797-ea4b-4969-b979-8d25eb543a6c","startTime":1647665759569,"refId":"[1.260:82]","endTime":1647665760141,"exampleData":{"datasetIdentifierCode":"cea38797-ea4b-4969-b979-8d25eb543a6c"},"exampleIndex":259},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.803 karate.env system property was: null \n"},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":172201,"millis":0.172201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":624700,"millis":0.6247,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":652401,"millis":0.652401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":165400,"millis":0.1654,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":979201,"millis":0.979201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552654973,"millis":552.654973,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":903201,"millis":0.903201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":698301,"millis":0.698301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":701401,"millis":0.701401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":607800,"millis":0.6078,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":842201,"millis":0.842201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":689101,"millis":0.689101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747501,"millis":0.747501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":857601,"millis":0.857601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":574800,"millis":0.5748,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108801,"millis":0.108801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133000,"millis":0.133,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.367 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1172401,"millis":1.172401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.368 [print] #notpresent \n"},{"result":{"nanos":876901,"millis":0.876901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.369 [print] #notpresent \n"},{"result":{"nanos":216900,"millis":0.2169,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.370 [print] #notpresent \n"},{"result":{"nanos":848001,"millis":0.848001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.370 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":250401,"millis":0.250401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.371 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":936001,"millis":0.936001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634400,"millis":0.6344,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.372 [print] #notpresent \n"},{"result":{"nanos":996401,"millis":0.996401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.374 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1080001,"millis":1.080001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86000,"millis":0.086,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.375 [print] true \n"},{"result":{"nanos":536900,"millis":0.5369,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":382701,"millis":0.382701,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":284600,"millis":0.2846,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.393594,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","startTime":1647665759802,"refId":"[1.261:82]","endTime":1647665760376,"exampleData":{"datasetIdentifierCode":"24055de7-dcff-487a-8f9a-7aee4f0d8351"},"exampleIndex":260},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:55:59.863 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":349400,"millis":0.3494,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470001,"millis":0.470001,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":452100,"millis":0.4521,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":658422384,"millis":658.422384,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":10085110,"millis":10.08511,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":10077011,"millis":10.077011,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":8363408,"millis":8.363408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":9197110,"millis":9.19711,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8409909,"millis":8.409909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":8141408,"millis":8.141408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110600,"millis":0.1106,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5674706,"millis":5.674706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6447607,"millis":6.447607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":6344206,"millis":6.344206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":965001,"millis":0.965001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164401,"millis":0.164401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.597 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":6005406,"millis":6.005406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":386200,"millis":0.3862,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.603 [print] #notpresent \n"},{"result":{"nanos":6145807,"millis":6.145807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1641201,"millis":1.641201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.610 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":366101,"millis":0.366101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.612 [print] #notpresent \n"},{"result":{"nanos":8916609,"millis":8.916609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":380100,"millis":0.3801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.621 [print] Beheer PDOK \n"},{"result":{"nanos":520401,"millis":0.520401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.621 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":9141310,"millis":9.14131,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":8074608,"millis":8.074608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":95700,"millis":0.0957,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":337200,"millis":0.3372,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.639 [print] #notpresent \n"},{"result":{"nanos":13118414,"millis":13.118414,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":108100,"millis":0.1081,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":526701,"millis":0.526701,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.653 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":8490809,"millis":8.490809,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":122800,"millis":0.1228,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":405600,"millis":0.4056,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.662 [print] \"true\";\"true\" \n"},{"result":{"nanos":302700,"millis":0.3027,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":352201,"millis":0.352201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328500,"millis":0.3285,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":799.891731,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"76854ff3-a853-4405-b9fd-acef66460376","startTime":1647665759862,"refId":"[1.262:82]","endTime":1647665760663,"exampleData":{"datasetIdentifierCode":"76854ff3-a853-4405-b9fd-acef66460376"},"exampleIndex":261},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.061 karate.env system property was: null \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111000,"millis":0.111,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":442001,"millis":0.442001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":586601,"millis":0.586601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":297400,"millis":0.2974,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":616242140,"millis":616.24214,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":12909413,"millis":12.909413,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":8480409,"millis":8.480409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":8493609,"millis":8.493609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":8238908,"millis":8.238908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8100009,"millis":8.100009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":8350808,"millis":8.350808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":7579908,"millis":7.579908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6362207,"millis":6.362207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":9842710,"millis":9.84271,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":822501,"millis":0.822501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1131001,"millis":1.131001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.761 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":10267911,"millis":10.267911,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":495800,"millis":0.4958,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.771 [print] #notpresent \n"},{"result":{"nanos":9193710,"millis":9.19371,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1147501,"millis":1.147501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.782 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":444401,"millis":0.444401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.782 [print] #notpresent \n"},{"result":{"nanos":11393912,"millis":11.393912,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":672600,"millis":0.6726,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.794 [print] Beheer PDOK \n"},{"result":{"nanos":528001,"millis":0.528001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.795 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":17708718,"millis":17.708718,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":34445036,"millis":34.445036,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":159500,"millis":0.1595,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":419301,"millis":0.419301,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.848 [print] #notpresent \n"},{"result":{"nanos":39107140,"millis":39.10714,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":113300,"millis":0.1133,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.887 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":35914238,"millis":35.914238,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":130500,"millis":0.1305,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":97800,"millis":0.0978,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.923 [print] \"true\";\"true\" \n"},{"result":{"nanos":296300,"millis":0.2963,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":455201,"millis":0.455201,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317100,"millis":0.3171,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":861.904395,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37e05521-c323-4dbe-aba4-de1178ba44a5","startTime":1647665760061,"refId":"[1.263:82]","endTime":1647665760924,"exampleData":{"datasetIdentifierCode":"37e05521-c323-4dbe-aba4-de1178ba44a5"},"exampleIndex":262},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.143 karate.env system property was: null \n"},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336401,"millis":0.336401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372500,"millis":0.3725,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":608045830,"millis":608.04583,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":27838528,"millis":27.838528,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":26597628,"millis":26.597628,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":8238109,"millis":8.238109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":8300308,"millis":8.300308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":12920314,"millis":12.920314,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6866207,"millis":6.866207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":113200,"millis":0.1132,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5750206,"millis":5.750206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":7707608,"millis":7.707608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":13402814,"millis":13.402814,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":768601,"millis":0.768601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":630100,"millis":0.6301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:00.872 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":5424406,"millis":5.424406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":452300,"millis":0.4523,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:00.877 [print] #notpresent \n"},{"result":{"nanos":5080406,"millis":5.080406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1113601,"millis":1.113601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:00.884 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":84800,"millis":0.0848,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":539401,"millis":0.539401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:00.884 [print] #notpresent \n"},{"result":{"nanos":7431007,"millis":7.431007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":498501,"millis":0.498501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:00.892 [print] Beheer PDOK \n"},{"result":{"nanos":532300,"millis":0.5323,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:00.893 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":12928614,"millis":12.928614,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":9267809,"millis":9.267809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":455200,"millis":0.4552,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:00.916 [print] #notpresent \n"},{"result":{"nanos":6354107,"millis":6.354107,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":626000,"millis":0.626,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:00.923 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":7408508,"millis":7.408508,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":556201,"millis":0.556201,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:00.931 [print] \"true\";\"true\" \n"},{"result":{"nanos":191300,"millis":0.1913,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":258300,"millis":0.2583,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301301,"millis":0.301301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":788.062417,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8e7686c3-f75e-411f-866e-6985267b916b","startTime":1647665760143,"refId":"[1.264:82]","endTime":1647665760932,"exampleData":{"datasetIdentifierCode":"8e7686c3-f75e-411f-866e-6985267b916b"},"exampleIndex":263},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.378 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":442601,"millis":0.442601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387200,"millis":0.3872,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":201900,"millis":0.2019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":625718549,"millis":625.718549,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":5488006,"millis":5.488006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":5153305,"millis":5.153305,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5237205,"millis":5.237205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5023306,"millis":5.023306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6702407,"millis":6.702407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6985607,"millis":6.985607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3090003,"millis":3.090003,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4364505,"millis":4.364505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4019204,"millis":4.019204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":668101,"millis":0.668101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":183900,"millis":0.1839,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.053 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3524104,"millis":3.524104,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.057 [print] #notpresent \n"},{"result":{"nanos":3602104,"millis":3.602104,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":126100,"millis":0.1261,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.061 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163900,"millis":0.1639,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.061 [print] #notpresent \n"},{"result":{"nanos":5178505,"millis":5.178505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.066 [print] Beheer PDOK \n"},{"result":{"nanos":106801,"millis":0.106801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.066 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":5403405,"millis":5.403405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":5208906,"millis":5.208906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":143700,"millis":0.1437,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":106700,"millis":0.1067,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.077 [print] #notpresent \n"},{"result":{"nanos":5241205,"millis":5.241205,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":95700,"millis":0.0957,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":156301,"millis":0.156301,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.083 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":5143805,"millis":5.143805,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.088 [print] \"true\";\"true\" \n"},{"result":{"nanos":254101,"millis":0.254101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":325300,"millis":0.3253,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":243000,"millis":0.243,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":709.776736,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","startTime":1647665760378,"refId":"[1.265:82]","endTime":1647665761089,"exampleData":{"datasetIdentifierCode":"e69bb2e9-eff4-4fb3-86a6-057cf628e761"},"exampleIndex":264},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.667 karate.env system property was: null \n"},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407001,"millis":0.407001,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387800,"millis":0.3878,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":6608907,"millis":6.608907,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549407370,"millis":549.40737,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1122301,"millis":1.122301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":719101,"millis":0.719101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":698800,"millis":0.6988,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":667801,"millis":0.667801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":769901,"millis":0.769901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":793901,"millis":0.793901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":701101,"millis":0.701101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":811400,"millis":0.8114,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":758801,"millis":0.758801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":165500,"millis":0.1655,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191501,"millis":0.191501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.239 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n"},{"result":{"nanos":1101201,"millis":1.101201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143900,"millis":0.1439,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.240 [print] OGC:WMS \n"},{"result":{"nanos":918801,"millis":0.918801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139900,"millis":0.1399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.241 [print] OGC:WMS \n"},{"result":{"nanos":265900,"millis":0.2659,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":175501,"millis":0.175501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.242 [print] OGC:WMS \n"},{"result":{"nanos":739401,"millis":0.739401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":207400,"millis":0.2074,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.243 [print] Beheer PDOK \n"},{"result":{"nanos":465600,"millis":0.4656,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.244 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n"},{"result":{"nanos":821001,"millis":0.821001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":774000,"millis":0.774,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":144001,"millis":0.144001,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.246 [print] #notpresent \n"},{"result":{"nanos":951301,"millis":0.951301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":116700,"millis":0.1167,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.247 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1074901,"millis":1.074901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":92600,"millis":0.0926,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.248 [print] \"true\";\"true\" \n"},{"result":{"nanos":379701,"millis":0.379701,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":477300,"millis":0.4773,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":269000,"millis":0.269,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.426795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"598c4109-21d2-4a6c-b083-9975a6736853","startTime":1647665760666,"refId":"[1.266:82]","endTime":1647665761249,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736853"},"exampleIndex":265},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.932 karate.env system property was: null \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":523300,"millis":0.5233,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123300,"millis":0.1233,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438601,"millis":0.438601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":219900,"millis":0.2199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":575660466,"millis":575.660466,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":694101,"millis":0.694101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":678400,"millis":0.6784,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":636501,"millis":0.636501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":715500,"millis":0.7155,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":667601,"millis":0.667601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":892500,"millis":0.8925,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":238000,"millis":0.238,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":685301,"millis":0.685301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625000,"millis":0.625,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":615301,"millis":0.615301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116800,"millis":0.1168,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.517 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":642600,"millis":0.6426,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":181500,"millis":0.1815,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.518 [print] OGC:WMS \n"},{"result":{"nanos":639601,"millis":0.639601,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.519 [print] #notpresent \n"},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.519 [print] OGC:WMS \n"},{"result":{"nanos":746101,"millis":0.746101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":164100,"millis":0.1641,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.520 [print] Beheer PDOK \n"},{"result":{"nanos":154400,"millis":0.1544,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.520 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n"},{"result":{"nanos":835900,"millis":0.8359,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715001,"millis":0.715001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":133500,"millis":0.1335,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.522 [print] #notpresent \n"},{"result":{"nanos":790201,"millis":0.790201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":97900,"millis":0.0979,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":176200,"millis":0.1762,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.523 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":865800,"millis":0.8658,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":81701,"millis":0.081701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":128500,"millis":0.1285,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.524 [print] \"true\";\"true\" \n"},{"result":{"nanos":194500,"millis":0.1945,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":278000,"millis":0.278,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324400,"millis":0.3244,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":591.751978,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","startTime":1647665760931,"refId":"[1.267:82]","endTime":1647665761525,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a"},"exampleIndex":266},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:00.935 karate.env system property was: null \n"},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":137001,"millis":0.137001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100300,"millis":0.1003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":331800,"millis":0.3318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375701,"millis":0.375701,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":431700,"millis":0.4317,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545804046,"millis":545.804046,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":947801,"millis":0.947801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":834900,"millis":0.8349,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":697901,"millis":0.697901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725600,"millis":0.7256,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1084401,"millis":1.084401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833501,"millis":0.833501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":691700,"millis":0.6917,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1716901,"millis":1.716901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":734901,"millis":0.734901,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":215800,"millis":0.2158,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":511900,"millis":0.5119,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.492 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1103201,"millis":1.103201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":190100,"millis":0.1901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.494 [print] OGC:WFS \n"},{"result":{"nanos":1375301,"millis":1.375301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":163300,"millis":0.1633,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.495 [print] #notpresent \n"},{"result":{"nanos":240700,"millis":0.2407,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131900,"millis":0.1319,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.496 [print] OGC:WFS \n"},{"result":{"nanos":841301,"millis":0.841301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":185700,"millis":0.1857,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.497 [print] Beheer PDOK \n"},{"result":{"nanos":238900,"millis":0.2389,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.497 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n"},{"result":{"nanos":902601,"millis":0.902601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":674900,"millis":0.6749,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":126301,"millis":0.126301,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":166900,"millis":0.1669,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.499 [print] #notpresent \n"},{"result":{"nanos":899900,"millis":0.8999,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":96900,"millis":0.0969,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":145700,"millis":0.1457,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.500 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":871101,"millis":0.871101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":102300,"millis":0.1023,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":145100,"millis":0.1451,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.501 [print] \"true\";\"true\" \n"},{"result":{"nanos":299000,"millis":0.299,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":371901,"millis":0.371901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":351800,"millis":0.3518,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.330261,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","startTime":1647665760934,"refId":"[1.268:82]","endTime":1647665761502,"exampleData":{"datasetIdentifierCode":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32"},"exampleIndex":267},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.092 karate.env system property was: null \n"},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144800,"millis":0.1448,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":197200,"millis":0.1972,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":464501,"millis":0.464501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104200,"millis":0.1042,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437600,"millis":0.4376,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100600,"millis":0.1006,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110200,"millis":0.1102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545051987,"millis":545.051987,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":854901,"millis":0.854901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":784301,"millis":0.784301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":825300,"millis":0.8253,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714101,"millis":0.714101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":749600,"millis":0.7496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840901,"millis":0.840901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":656600,"millis":0.6566,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":766801,"millis":0.766801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":790400,"millis":0.7904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.647 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n"},{"result":{"nanos":725301,"millis":0.725301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.648 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":807701,"millis":0.807701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.649 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.649 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":756500,"millis":0.7565,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.650 [print] Beheer PDOK \n"},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.650 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n"},{"result":{"nanos":788801,"millis":0.788801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":701600,"millis":0.7016,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.651 [print] https:\/\/inspire.ec.europa.eu\/documents\/technical-guidance-implementation-inspire-view-services-1 \n"},{"result":{"nanos":692101,"millis":0.692101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.652 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"conform specification\" \n"},{"result":{"nanos":749600,"millis":0.7496,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":92900,"millis":0.0929,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.653 [print] \"true\";\"true\" \n"},{"result":{"nanos":371600,"millis":0.3716,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":438400,"millis":0.4384,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306600,"millis":0.3066,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.161997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","startTime":1647665761092,"refId":"[1.269:82]","endTime":1647665761654,"exampleData":{"datasetIdentifierCode":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf"},"exampleIndex":268},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.252 karate.env system property was: null \n"},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114100,"millis":0.1141,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":131100,"millis":0.1311,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":369200,"millis":0.3692,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389000,"millis":0.389,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":213400,"millis":0.2134,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":562649741,"millis":562.649741,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1121501,"millis":1.121501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":666600,"millis":0.6666,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":751501,"millis":0.751501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788900,"millis":0.7889,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":855001,"millis":0.855001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":774600,"millis":0.7746,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":669201,"millis":0.669201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":609300,"millis":0.6093,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":624301,"millis":0.624301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178200,"millis":0.1782,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:01.824 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":670600,"millis":0.6706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":861201,"millis":0.861201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:01.826 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":907801,"millis":0.907801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":363700,"millis":0.3637,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:01.827 [print] #notpresent \n"},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":417500,"millis":0.4175,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:01.828 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":980401,"millis":0.980401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102400,"millis":0.1024,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:01.829 [print] Beheer PDOK \n"},{"result":{"nanos":545400,"millis":0.5454,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:01.829 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":872201,"millis":0.872201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":912100,"millis":0.9121,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":46801,"millis":0.046801,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:01.831 [print] #notpresent \n"},{"result":{"nanos":20902914,"millis":20.902914,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":221700,"millis":0.2217,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":139900,"millis":0.1399,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:01.853 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":779700,"millis":0.7797,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97501,"millis":0.097501,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":104700,"millis":0.1047,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:01.854 [print] \"true\";\"true\" \n"},{"result":{"nanos":803900,"millis":0.8039,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":358500,"millis":0.3585,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":240201,"millis":0.240201,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":601.924668,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","startTime":1647665761251,"refId":"[1.270:82]","endTime":1647665761855,"exampleData":{"datasetIdentifierCode":"627b50bf-2e33-4beb-a314-ff8c0fe8912e"},"exampleIndex":269},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.505 karate.env system property was: null \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":113900,"millis":0.1139,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137000,"millis":0.137,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374701,"millis":0.374701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370800,"millis":0.3708,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126600,"millis":0.1266,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553206773,"millis":553.206773,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1120001,"millis":1.120001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":902800,"millis":0.9028,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":753101,"millis":0.753101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":967300,"millis":0.9673,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":916801,"millis":0.916801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":913401,"millis":0.913401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":672400,"millis":0.6724,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":744601,"millis":0.744601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":869300,"millis":0.8693,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":122100,"millis":0.1221,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":195900,"millis":0.1959,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.069 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":930701,"millis":0.930701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180500,"millis":0.1805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.070 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1047801,"millis":1.047801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":157500,"millis":0.1575,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.071 [print] #notpresent \n"},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":261800,"millis":0.2618,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.071 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":935301,"millis":0.935301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136500,"millis":0.1365,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.072 [print] Beheer PDOK \n"},{"result":{"nanos":298100,"millis":0.2981,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.073 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":963001,"millis":0.963001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":745600,"millis":0.7456,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":198401,"millis":0.198401,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.075 [print] #notpresent \n"},{"result":{"nanos":897500,"millis":0.8975,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":132300,"millis":0.1323,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.076 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1061701,"millis":1.061701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103500,"millis":0.1035,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.077 [print] \"true\";\"true\" \n"},{"result":{"nanos":298700,"millis":0.2987,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":351601,"millis":0.351601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320500,"millis":0.3205,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":572.317886,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a84f9836-9111-4e45-a311-3dab39019e15","startTime":1647665761504,"refId":"[1.271:82]","endTime":1647665762078,"exampleData":{"datasetIdentifierCode":"a84f9836-9111-4e45-a311-3dab39019e15"},"exampleIndex":270},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.527 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89000,"millis":0.089,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320500,"millis":0.3205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369700,"millis":0.3697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dae8f9e3-99af-4d21-9feb-29f2a1693077'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":559663177,"millis":559.663177,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":691600,"millis":0.6916,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dae8f9e3-99af-4d21-9feb-29f2a1693077'"}},{"result":{"nanos":631301,"millis":0.631301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":993200,"millis":0.9932,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":632701,"millis":0.632701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":582300,"millis":0.5823,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":660500,"millis":0.6605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":618000,"millis":0.618,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":694300,"millis":0.6943,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":725001,"millis":0.725001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":135000,"millis":0.135,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.095 [print] https:\/\/service.pdok.nl\/kadaster\/tn\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":689301,"millis":0.689301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148100,"millis":0.1481,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.096 [print] OGC:WMS \n"},{"result":{"nanos":711500,"millis":0.7115,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":167600,"millis":0.1676,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.097 [print] #notpresent \n"},{"result":{"nanos":101900,"millis":0.1019,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98101,"millis":0.098101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.097 [print] OGC:WMS \n"},{"result":{"nanos":784300,"millis":0.7843,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131900,"millis":0.1319,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.098 [print] Beheer PDOK \n"},{"result":{"nanos":139600,"millis":0.1396,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.098 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification\"] \n"},{"result":{"nanos":589301,"millis":0.589301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":597000,"millis":0.597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":94000,"millis":0.094,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.100 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":1322001,"millis":1.322001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":106100,"millis":0.1061,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":145000,"millis":0.145,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.101 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":810501,"millis":0.810501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":128500,"millis":0.1285,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.102 [print] \"true\";\"true\" \n"},{"result":{"nanos":195800,"millis":0.1958,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"dae8f9e3-99af-4d21-9feb-29f2a1693077\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":432100,"millis":0.4321,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"dae8f9e3-99af-4d21-9feb-29f2a1693077\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":429701,"millis":0.429701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"dae8f9e3-99af-4d21-9feb-29f2a1693077\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.633188,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dae8f9e3-99af-4d21-9feb-29f2a1693077","startTime":1647665761526,"refId":"[1.272:82]","endTime":1647665762103,"exampleData":{"datasetIdentifierCode":"dae8f9e3-99af-4d21-9feb-29f2a1693077"},"exampleIndex":271},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.657 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368100,"millis":0.3681,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394901,"millis":0.394901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544204166,"millis":544.204166,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1097301,"millis":1.097301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":895501,"millis":0.895501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":731400,"millis":0.7314,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":842401,"millis":0.842401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":876400,"millis":0.8764,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":899801,"millis":0.899801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":740901,"millis":0.740901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":778300,"millis":0.7783,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":998001,"millis":0.998001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110100,"millis":0.1101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":158900,"millis":0.1589,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.211 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1244301,"millis":1.244301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128900,"millis":0.1289,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.212 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":963401,"millis":0.963401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147400,"millis":0.1474,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.213 [print] #notpresent \n"},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168400,"millis":0.1684,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.213 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":921701,"millis":0.921701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":221900,"millis":0.2219,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.215 [print] Beheer PDOK \n"},{"result":{"nanos":147300,"millis":0.1473,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.215 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":862600,"millis":0.8626,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":765101,"millis":0.765101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":145700,"millis":0.1457,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.217 [print] #notpresent \n"},{"result":{"nanos":788101,"millis":0.788101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":145800,"millis":0.1458,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.218 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":785600,"millis":0.7856,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.219 [print] \"true\";\"true\" \n"},{"result":{"nanos":255201,"millis":0.255201,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":341200,"millis":0.3412,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":259900,"millis":0.2599,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.304079,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","startTime":1647665761656,"refId":"[1.273:82]","endTime":1647665762220,"exampleData":{"datasetIdentifierCode":"018a28a5-1019-4747-b031-f66ffc1c6ae7"},"exampleIndex":272},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:01.858 karate.env system property was: null \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109400,"millis":0.1094,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111300,"millis":0.1113,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":513500,"millis":0.5135,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":138901,"millis":0.138901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":344900,"millis":0.3449,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":173100,"millis":0.1731,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543908966,"millis":543.908966,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1130201,"millis":1.130201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":731301,"millis":0.731301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":615700,"millis":0.6157,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":673501,"millis":0.673501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":938400,"millis":0.9384,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":874101,"millis":0.874101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":838700,"millis":0.8387,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":718501,"millis":0.718501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":718600,"millis":0.7186,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158001,"millis":0.158001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":158800,"millis":0.1588,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.412 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":867300,"millis":0.8673,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.413 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":926701,"millis":0.926701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140600,"millis":0.1406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.414 [print] #notpresent \n"},{"result":{"nanos":207900,"millis":0.2079,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":205000,"millis":0.205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.415 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":796001,"millis":0.796001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112600,"millis":0.1126,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.416 [print] Beheer PDOK \n"},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.416 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":791601,"millis":0.791601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":668800,"millis":0.6688,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.417 [print] #notpresent \n"},{"result":{"nanos":787001,"millis":0.787001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.418 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":767500,"millis":0.7675,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.419 [print] \"true\";\"true\" \n"},{"result":{"nanos":373200,"millis":0.3732,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":437700,"millis":0.4377,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":258100,"millis":0.2581,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.219978,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","startTime":1647665761857,"refId":"[1.274:82]","endTime":1647665762420,"exampleData":{"datasetIdentifierCode":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184"},"exampleIndex":273},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.081 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129600,"millis":0.1296,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":129500,"millis":0.1295,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":477700,"millis":0.4777,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104301,"millis":0.104301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388900,"millis":0.3889,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77300,"millis":0.0773,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110400,"millis":0.1104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558648876,"millis":558.648876,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":923301,"millis":0.923301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":686801,"millis":0.686801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720000,"millis":0.72,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639600,"millis":0.6396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":773401,"millis":0.773401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":992501,"millis":0.992501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":789500,"millis":0.7895,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":701701,"millis":0.701701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":671400,"millis":0.6714,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.649 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":721801,"millis":0.721801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.650 [print] OGC:WFS \n"},{"result":{"nanos":632800,"millis":0.6328,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.651 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.651 [print] OGC:WFS \n"},{"result":{"nanos":764101,"millis":0.764101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.652 [print] Beheer PDOK \n"},{"result":{"nanos":135500,"millis":0.1355,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.652 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":804601,"millis":0.804601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":736300,"millis":0.7363,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.654 [print] #notpresent \n"},{"result":{"nanos":834901,"millis":0.834901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.655 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":744600,"millis":0.7446,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.655 [print] \"true\";\"true\" \n"},{"result":{"nanos":306500,"millis":0.3065,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":521900,"millis":0.5219,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327900,"millis":0.3279,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.652287,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"180b6682-5d6f-429d-abb7-32f7d6253787","startTime":1647665762080,"refId":"[1.275:82]","endTime":1647665762657,"exampleData":{"datasetIdentifierCode":"180b6682-5d6f-429d-abb7-32f7d6253787"},"exampleIndex":274},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.106 karate.env system property was: null \n"},{"result":{"nanos":36701,"millis":0.036701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":152200,"millis":0.1522,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314900,"millis":0.3149,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388500,"millis":0.3885,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123400,"millis":0.1234,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21501,"millis":0.021501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566321081,"millis":566.321081,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":641200,"millis":0.6412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":517001,"millis":0.517001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":605000,"millis":0.605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":517101,"millis":0.517101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":740900,"millis":0.7409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":557800,"millis":0.5578,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":706501,"millis":0.706501,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":533500,"millis":0.5335,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":539301,"millis":0.539301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":421700,"millis":0.4217,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.680 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":561100,"millis":0.5611,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.680 [print] OGC:WMS \n"},{"result":{"nanos":897101,"millis":0.897101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.681 [print] #notpresent \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":284900,"millis":0.2849,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.682 [print] OGC:WMS \n"},{"result":{"nanos":670501,"millis":0.670501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.683 [print] Beheer PDOK \n"},{"result":{"nanos":816701,"millis":0.816701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.684 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n"},{"result":{"nanos":559000,"millis":0.559,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":642400,"millis":0.6424,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.685 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services\" \n"},{"result":{"nanos":1039901,"millis":1.039901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.686 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1745201,"millis":1.745201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":81601,"millis":0.081601,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.688 [print] \"true\";\"true\" \n"},{"result":{"nanos":523000,"millis":0.523,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":331200,"millis":0.3312,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310800,"millis":0.3108,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":582.639893,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","startTime":1647665762105,"refId":"[1.276:82]","endTime":1647665762689,"exampleData":{"datasetIdentifierCode":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2"},"exampleIndex":275},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.223 karate.env system property was: null \n"},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116901,"millis":0.116901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":131300,"millis":0.1313,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":519000,"millis":0.519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362600,"millis":0.3626,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541662764,"millis":541.662764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933701,"millis":0.933701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":719101,"millis":0.719101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":786700,"millis":0.7867,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":861601,"millis":0.861601,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":799700,"millis":0.7997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":869201,"millis":0.869201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":614900,"millis":0.6149,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":575401,"millis":0.575401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":628000,"millis":0.628,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":452800,"millis":0.4528,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.774 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":607501,"millis":0.607501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.775 [print] OGC:WMS \n"},{"result":{"nanos":701000,"millis":0.701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82801,"millis":0.082801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.776 [print] #notpresent \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76600,"millis":0.0766,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.776 [print] OGC:WMS \n"},{"result":{"nanos":777500,"millis":0.7775,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.777 [print] Beheer PDOK \n"},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.777 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":900601,"millis":0.900601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":820800,"millis":0.8208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.779 [print] #notpresent \n"},{"result":{"nanos":782201,"millis":0.782201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.780 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":868201,"millis":0.868201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.781 [print] \"true\";\"true\" \n"},{"result":{"nanos":263800,"millis":0.2638,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":318400,"millis":0.3184,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":248200,"millis":0.2482,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":557.851875,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d981070b-888c-42d5-85ff-1e383f3d7fce","startTime":1647665762222,"refId":"[1.277:82]","endTime":1647665762781,"exampleData":{"datasetIdentifierCode":"d981070b-888c-42d5-85ff-1e383f3d7fce"},"exampleIndex":276},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.424 karate.env system property was: null \n"},{"result":{"nanos":218800,"millis":0.2188,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416000,"millis":0.416,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355500,"millis":0.3555,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116101,"millis":0.116101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545409667,"millis":545.409667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":953501,"millis":0.953501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":836000,"millis":0.836,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":699901,"millis":0.699901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":779800,"millis":0.7798,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":778301,"millis":0.778301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":815300,"millis":0.8153,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":633301,"millis":0.633301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":644500,"millis":0.6445,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":720301,"millis":0.720301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102300,"millis":0.1023,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":252700,"millis":0.2527,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:02.978 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":673900,"millis":0.6739,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:02.979 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":788300,"millis":0.7883,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105300,"millis":0.1053,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:02.980 [print] #notpresent \n"},{"result":{"nanos":66100,"millis":0.0661,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:02.980 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":740801,"millis":0.740801,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104100,"millis":0.1041,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:02.981 [print] Beheer PDOK \n"},{"result":{"nanos":121400,"millis":0.1214,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:02.981 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":673000,"millis":0.673,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":805801,"millis":0.805801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":88000,"millis":0.088,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":159900,"millis":0.1599,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:02.983 [print] #notpresent \n"},{"result":{"nanos":700601,"millis":0.700601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":108200,"millis":0.1082,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:02.984 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":802100,"millis":0.8021,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":105201,"millis":0.105201,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:02.985 [print] \"true\";\"true\" \n"},{"result":{"nanos":225600,"millis":0.2256,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":355300,"millis":0.3553,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289200,"millis":0.2892,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.448278,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","startTime":1647665762423,"refId":"[1.278:82]","endTime":1647665762986,"exampleData":{"datasetIdentifierCode":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef"},"exampleIndex":277},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.659 karate.env system property was: null \n"},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":425601,"millis":0.425601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":357500,"millis":0.3575,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551600672,"millis":551.600672,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1211400,"millis":1.2114,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":913001,"millis":0.913001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":930401,"millis":0.930401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":926500,"millis":0.9265,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":768201,"millis":0.768201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":862100,"millis":0.8621,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":600000,"millis":0.6,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":884901,"millis":0.884901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":894400,"millis":0.8944,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":189000,"millis":0.189,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.221 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":835001,"millis":0.835001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201600,"millis":0.2016,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.222 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":165400,"millis":0.1654,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.223 [print] #notpresent \n"},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":194800,"millis":0.1948,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.223 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":831001,"millis":0.831001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158900,"millis":0.1589,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.224 [print] Beheer PDOK \n"},{"result":{"nanos":134600,"millis":0.1346,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.224 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":1090701,"millis":1.090701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":893300,"millis":0.8933,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":146200,"millis":0.1462,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.227 [print] #notpresent \n"},{"result":{"nanos":923801,"millis":0.923801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.228 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1011301,"millis":1.011301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":103000,"millis":0.103,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":124300,"millis":0.1243,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.229 [print] \"true\";\"true\" \n"},{"result":{"nanos":247100,"millis":0.2471,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":468500,"millis":0.4685,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":415300,"millis":0.4153,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":570.504484,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","startTime":1647665762659,"refId":"[1.279:82]","endTime":1647665763230,"exampleData":{"datasetIdentifierCode":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd"},"exampleIndex":278},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.698 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275900,"millis":0.2759,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2565901,"millis":2.565901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150800,"millis":0.1508,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536943061,"millis":536.943061,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":633001,"millis":0.633001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":572500,"millis":0.5725,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":876301,"millis":0.876301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":950001,"millis":0.950001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":794000,"millis":0.794,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":654601,"millis":0.654601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95900,"millis":0.0959,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":552400,"millis":0.5524,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":580600,"millis":0.5806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":587701,"millis":0.587701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":761100,"millis":0.7611,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.246 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":925001,"millis":0.925001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":156700,"millis":0.1567,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.247 [print] OGC:WMS \n"},{"result":{"nanos":1024401,"millis":1.024401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121600,"millis":0.1216,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.248 [print] #notpresent \n"},{"result":{"nanos":333200,"millis":0.3332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171500,"millis":0.1715,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.249 [print] OGC:WMS \n"},{"result":{"nanos":613700,"millis":0.6137,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106800,"millis":0.1068,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.250 [print] Beheer PDOK \n"},{"result":{"nanos":452800,"millis":0.4528,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.251 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n"},{"result":{"nanos":3534403,"millis":3.534403,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":766900,"millis":0.7669,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":99400,"millis":0.0994,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":231900,"millis":0.2319,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.255 [print] #notpresent \n"},{"result":{"nanos":687001,"millis":0.687001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":127400,"millis":0.1274,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":305000,"millis":0.305,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.256 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":781901,"millis":0.781901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":185800,"millis":0.1858,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.257 [print] \"true\";\"true\" \n"},{"result":{"nanos":171000,"millis":0.171,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":370400,"millis":0.3704,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294001,"millis":0.294001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.043876,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","startTime":1647665762698,"refId":"[1.280:82]","endTime":1647665763258,"exampleData":{"datasetIdentifierCode":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0"},"exampleIndex":279},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.784 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":391100,"millis":0.3911,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370501,"millis":0.370501,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531166258,"millis":531.166258,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":860200,"millis":0.8602,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":854401,"millis":0.854401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":576200,"millis":0.5762,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":605901,"millis":0.605901,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":647400,"millis":0.6474,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":866901,"millis":0.866901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":627400,"millis":0.6274,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":624501,"millis":0.624501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":670200,"millis":0.6702,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124700,"millis":0.1247,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152000,"millis":0.152,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.323 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":827201,"millis":0.827201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122300,"millis":0.1223,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.324 [print] OGC:WMS \n"},{"result":{"nanos":818800,"millis":0.8188,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":166301,"millis":0.166301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.325 [print] #notpresent \n"},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.325 [print] OGC:WMS \n"},{"result":{"nanos":782000,"millis":0.782,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129100,"millis":0.1291,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.326 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.326 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":880001,"millis":0.880001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":857401,"millis":0.857401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":109100,"millis":0.1091,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":208000,"millis":0.208,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.328 [print] #notpresent \n"},{"result":{"nanos":708300,"millis":0.7083,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":162201,"millis":0.162201,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.330 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":708800,"millis":0.7088,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":120300,"millis":0.1203,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":146100,"millis":0.1461,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.331 [print] \"true\";\"true\" \n"},{"result":{"nanos":211100,"millis":0.2111,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":327901,"millis":0.327901,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":257600,"millis":0.2576,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":546.944569,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a12ae6ca-b755-4707-884f-95c0d66f431a","startTime":1647665762783,"refId":"[1.281:82]","endTime":1647665763331,"exampleData":{"datasetIdentifierCode":"a12ae6ca-b755-4707-884f-95c0d66f431a"},"exampleIndex":280},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:02.989 karate.env system property was: null \n"},{"result":{"nanos":180400,"millis":0.1804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138701,"millis":0.138701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138700,"millis":0.1387,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":459400,"millis":0.4594,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408200,"millis":0.4082,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144201,"millis":0.144201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":557677375,"millis":557.677375,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":832401,"millis":0.832401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":653500,"millis":0.6535,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":635701,"millis":0.635701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":662000,"millis":0.662,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":671001,"millis":0.671001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":735500,"millis":0.7355,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97600,"millis":0.0976,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":594201,"millis":0.594201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":567200,"millis":0.5672,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723801,"millis":0.723801,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":658500,"millis":0.6585,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.556 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":664401,"millis":0.664401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.557 [print] OGC:WMS \n"},{"result":{"nanos":735100,"millis":0.7351,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":134500,"millis":0.1345,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.558 [print] #notpresent \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.558 [print] OGC:WMS \n"},{"result":{"nanos":609901,"millis":0.609901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.559 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.559 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":637500,"millis":0.6375,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":688701,"millis":0.688701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.560 [print] #notpresent \n"},{"result":{"nanos":858200,"millis":0.8582,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.561 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":724200,"millis":0.7242,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":99700,"millis":0.0997,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.562 [print] \"true\";\"true\" \n"},{"result":{"nanos":418501,"millis":0.418501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":358900,"millis":0.3589,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316500,"millis":0.3165,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":573.492887,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","startTime":1647665762988,"refId":"[1.282:82]","endTime":1647665763563,"exampleData":{"datasetIdentifierCode":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f"},"exampleIndex":281},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.233 karate.env system property was: null \n"},{"result":{"nanos":134900,"millis":0.1349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379601,"millis":0.379601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437700,"millis":0.4377,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95400,"millis":0.0954,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567912683,"millis":567.912683,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":965700,"millis":0.9657,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":685601,"millis":0.685601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":784200,"millis":0.7842,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":732201,"millis":0.732201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":896800,"millis":0.8968,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":839101,"millis":0.839101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":671400,"millis":0.6714,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":599300,"millis":0.5993,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":605300,"millis":0.6053,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":154600,"millis":0.1546,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.811 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":780600,"millis":0.7806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.811 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":626101,"millis":0.626101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.812 [print] #notpresent \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.812 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":690900,"millis":0.6909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.813 [print] Beheer PDOK \n"},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.813 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":633501,"millis":0.633501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":830700,"millis":0.8307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.815 [print] #notpresent \n"},{"result":{"nanos":670601,"millis":0.670601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.816 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":653700,"millis":0.6537,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.816 [print] \"true\";\"true\" \n"},{"result":{"nanos":337101,"millis":0.337101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":320500,"millis":0.3205,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":430400,"millis":0.4304,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":583.264991,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","startTime":1647665763233,"refId":"[1.283:82]","endTime":1647665763818,"exampleData":{"datasetIdentifierCode":"101a2cc7-bb53-4a16-98f9-bab1f4745b01"},"exampleIndex":282},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.271 karate.env system property was: null \n"},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108900,"millis":0.1089,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421300,"millis":0.4213,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369800,"millis":0.3698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28901,"millis":0.028901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552104171,"millis":552.104171,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":800,"millis":8.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":677601,"millis":0.677601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":752500,"millis":0.7525,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":699701,"millis":0.699701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":576000,"millis":0.576,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":717901,"millis":0.717901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":569500,"millis":0.5695,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":619901,"millis":0.619901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":500000,"millis":0.5,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":573900,"millis":0.5739,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.833 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n"},{"result":{"nanos":580401,"millis":0.580401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.833 [print] OGC:WMS \n"},{"result":{"nanos":543400,"millis":0.5434,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.834 [print] #notpresent \n"},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.834 [print] OGC:WMS \n"},{"result":{"nanos":862501,"millis":0.862501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.835 [print] Beheer PDOK \n"},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.835 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":708901,"millis":0.708901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":690700,"millis":0.6907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.837 [print] https:\/\/inspire.ec.europa.eu\/documents\/technical-guidance-implementation-inspire-view-services-1 \n"},{"result":{"nanos":993701,"millis":0.993701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":90500,"millis":0.0905,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.838 [print] \"Waterschappen Administratieve eenheden INSPIRE\";\"Technische specificatie waarmee de service volledig conform is\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Deze service voldoet aan de specificaties voor spatial data services\";\"conform specification\" \n"},{"result":{"nanos":757501,"millis":0.757501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.839 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":9489806,"millis":9.489806,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":381800,"millis":0.3818,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":300000,"millis":0.3,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.522587,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","startTime":1647665763270,"refId":"[1.284:82]","endTime":1647665763849,"exampleData":{"datasetIdentifierCode":"684ff4f6-1652-45a8-93f0-8e16d37b2a66"},"exampleIndex":283},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.334 karate.env system property was: null \n"},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":353900,"millis":0.3539,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":87000,"millis":0.087,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354900,"millis":0.3549,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":164900,"millis":0.1649,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":606396808,"millis":606.396808,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":893001,"millis":0.893001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":743500,"millis":0.7435,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":645800,"millis":0.6458,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741701,"millis":0.741701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1857501,"millis":1.857501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":848201,"millis":0.848201,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":126600,"millis":0.1266,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1087201,"millis":1.087201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1202300,"millis":1.2023,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":761401,"millis":0.761401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156900,"millis":0.1569,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":251600,"millis":0.2516,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:03.951 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":680601,"millis":0.680601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":216600,"millis":0.2166,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:03.952 [print] OGC:WMS \n"},{"result":{"nanos":728800,"millis":0.7288,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":153601,"millis":0.153601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:03.953 [print] #notpresent \n"},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128700,"millis":0.1287,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:03.953 [print] OGC:WMS \n"},{"result":{"nanos":707800,"millis":0.7078,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":195700,"millis":0.1957,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:03.954 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":135100,"millis":0.1351,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:03.954 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":719901,"millis":0.719901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696800,"millis":0.6968,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":108400,"millis":0.1084,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":178501,"millis":0.178501,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:03.956 [print] #notpresent \n"},{"result":{"nanos":818900,"millis":0.8189,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":108500,"millis":0.1085,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":153600,"millis":0.1536,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:03.957 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":755301,"millis":0.755301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97200,"millis":0.0972,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":259200,"millis":0.2592,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:03.958 [print] \"false\";\"false\" \n"},{"result":{"nanos":249300,"millis":0.2493,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":393401,"millis":0.393401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":268000,"millis":0.268,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":624.963722,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","startTime":1647665763333,"refId":"[1.285:82]","endTime":1647665763959,"exampleData":{"datasetIdentifierCode":"f61eec5c-cb91-40b6-ad35-9bca967006cc"},"exampleIndex":284},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.566 karate.env system property was: null \n"},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334500,"millis":0.3345,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":327600,"millis":0.3276,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553190672,"millis":553.190672,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1319101,"millis":1.319101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":844201,"millis":0.844201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":628100,"millis":0.6281,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":629001,"millis":0.629001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":640400,"millis":0.6404,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":788501,"millis":0.788501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95400,"millis":0.0954,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":791600,"millis":0.7916,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":605801,"millis":0.605801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":663800,"millis":0.6638,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":222300,"millis":0.2223,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":288700,"millis":0.2887,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.128 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":199400,"millis":0.1994,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.129 [print] #notpresent \n"},{"result":{"nanos":746901,"millis":0.746901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":268600,"millis":0.2686,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.130 [print] #notpresent \n"},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":187000,"millis":0.187,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.131 [print] #notpresent \n"},{"result":{"nanos":644400,"millis":0.6444,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113700,"millis":0.1137,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.131 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.131 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":727400,"millis":0.7274,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662401,"millis":0.662401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.133 [print] #notpresent \n"},{"result":{"nanos":626900,"millis":0.6269,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":149900,"millis":0.1499,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":105200,"millis":0.1052,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.134 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":648701,"millis":0.648701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":125400,"millis":0.1254,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.135 [print] true \n"},{"result":{"nanos":266000,"millis":0.266,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":398000,"millis":0.398,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":245000,"millis":0.245,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":569.128982,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","startTime":1647665763566,"refId":"[1.286:82]","endTime":1647665764136,"exampleData":{"datasetIdentifierCode":"eec0708d-bab6-41c2-aa5b-9c435a1a177e"},"exampleIndex":285},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.820 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":410400,"millis":0.4104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390700,"millis":0.3907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532153158,"millis":532.153158,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1033701,"millis":1.033701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":665000,"millis":0.665,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783801,"millis":0.783801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":701300,"millis":0.7013,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":819801,"millis":0.819801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":850100,"millis":0.8501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":646801,"millis":0.646801,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":661300,"millis":0.6613,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":676001,"millis":0.676001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140300,"millis":0.1403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":209600,"millis":0.2096,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.361 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":777601,"millis":0.777601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":226700,"millis":0.2267,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.362 [print] OGC:WFS \n"},{"result":{"nanos":824500,"millis":0.8245,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183900,"millis":0.1839,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.363 [print] #notpresent \n"},{"result":{"nanos":1072301,"millis":1.072301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":596801,"millis":0.596801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.364 [print] OGC:WFS \n"},{"result":{"nanos":1039200,"millis":1.0392,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":182700,"millis":0.1827,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.366 [print] Beheer PDOK \n"},{"result":{"nanos":240701,"millis":0.240701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.366 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":817500,"millis":0.8175,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":755001,"millis":0.755001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.368 [print] #notpresent \n"},{"result":{"nanos":774900,"millis":0.7749,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":106400,"millis":0.1064,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":126601,"millis":0.126601,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.369 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE Download Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":901600,"millis":0.9016,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":108700,"millis":0.1087,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":135100,"millis":0.1351,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.370 [print] \"true\";\"true\" \n"},{"result":{"nanos":309501,"millis":0.309501,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":403300,"millis":0.4033,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349600,"millis":0.3496,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":550.80867,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e264c1e4-90fe-4968-bbf2-7019f6095348","startTime":1647665763819,"refId":"[1.287:82]","endTime":1647665764371,"exampleData":{"datasetIdentifierCode":"e264c1e4-90fe-4968-bbf2-7019f6095348"},"exampleIndex":286},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.853 karate.env system property was: null \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112100,"millis":0.1121,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148300,"millis":0.1483,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":326900,"millis":0.3269,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432300,"millis":0.4323,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119200,"millis":0.1192,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":208901,"millis":0.208901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567125182,"millis":567.125182,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":974500,"millis":0.9745,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":702401,"millis":0.702401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":715400,"millis":0.7154,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741301,"millis":0.741301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":760100,"millis":0.7601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":884501,"millis":0.884501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":786901,"millis":0.786901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1130800,"millis":1.1308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":907401,"millis":0.907401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":166000,"millis":0.166,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":209300,"millis":0.2093,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.431 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":850901,"millis":0.850901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173100,"millis":0.1731,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.432 [print] OGC:WMS \n"},{"result":{"nanos":814700,"millis":0.8147,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":275701,"millis":0.275701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.433 [print] #notpresent \n"},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.433 [print] OGC:WMS \n"},{"result":{"nanos":881000,"millis":0.881,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":192301,"millis":0.192301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.434 [print] Beheer PDOK \n"},{"result":{"nanos":138200,"millis":0.1382,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.435 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":885000,"millis":0.885,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":759201,"millis":0.759201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":198900,"millis":0.1989,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.436 [print] #notpresent \n"},{"result":{"nanos":839601,"millis":0.839601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":111600,"millis":0.1116,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":167800,"millis":0.1678,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.438 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":953100,"millis":0.9531,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":114301,"millis":0.114301,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":148000,"millis":0.148,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.439 [print] \"true\";\"true\" \n"},{"result":{"nanos":259900,"millis":0.2599,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":374300,"millis":0.3743,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302300,"millis":0.3023,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":585.662794,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a1ed8a00-da07-472e-9627-99175d437c94","startTime":1647665763853,"refId":"[1.288:82]","endTime":1647665764440,"exampleData":{"datasetIdentifierCode":"a1ed8a00-da07-472e-9627-99175d437c94"},"exampleIndex":287},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:03.962 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109800,"millis":0.1098,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":173400,"millis":0.1734,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":438000,"millis":0.438,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":574801,"millis":0.574801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":112000,"millis":0.112,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":149900,"millis":0.1499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547275668,"millis":547.275668,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":912900,"millis":0.9129,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":731301,"millis":0.731301,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":984900,"millis":0.9849,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":739101,"millis":0.739101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":817300,"millis":0.8173,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":638701,"millis":0.638701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":539600,"millis":0.5396,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":587801,"millis":0.587801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":543400,"millis":0.5434,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":6669905,"millis":6.669905,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.525 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":734200,"millis":0.7342,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.526 [print] OGC:WMS \n"},{"result":{"nanos":655801,"millis":0.655801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.527 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":503501,"millis":0.503501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.527 [print] OGC:WMS \n"},{"result":{"nanos":858400,"millis":0.8584,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":499100,"millis":0.4991,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.529 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":527901,"millis":0.527901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.530 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":647600,"millis":0.6476,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":623101,"millis":0.623101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.531 [print] #notpresent \n"},{"result":{"nanos":784901,"millis":0.784901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":73700,"millis":0.0737,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":574500,"millis":0.5745,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.533 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"\";\"Webservice is conform\";\"Technical Guidance for the implementation of INSPIRE View Services v3.0\";\"Webservice is conform\" \n"},{"result":{"nanos":866401,"millis":0.866401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.534 [print] \"true\";\"true\" \n"},{"result":{"nanos":431500,"millis":0.4315,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":358001,"millis":0.358001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292300,"millis":0.2923,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":571.248485,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","startTime":1647665763961,"refId":"[1.289:82]","endTime":1647665764536,"exampleData":{"datasetIdentifierCode":"97b49056-8ace-426c-ae3e-bf7efe4c000f"},"exampleIndex":288},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.141 karate.env system property was: null \n"},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129300,"millis":0.1293,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":159100,"millis":0.1591,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":467601,"millis":0.467601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417500,"millis":0.4175,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87100,"millis":0.0871,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":123900,"millis":0.1239,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556331775,"millis":556.331775,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":996801,"millis":0.996801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":866400,"millis":0.8664,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":731101,"millis":0.731101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":842200,"millis":0.8422,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":955601,"millis":0.955601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1026801,"millis":1.026801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":676300,"millis":0.6763,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2215402,"millis":2.215402,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":855000,"millis":0.855,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119700,"millis":0.1197,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.710 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n"},{"result":{"nanos":799201,"millis":0.799201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.711 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":652400,"millis":0.6524,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.712 [print] #notpresent \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.712 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":901301,"millis":0.901301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.713 [print] Beheer PDOK \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.713 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n"},{"result":{"nanos":749501,"millis":0.749501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":846300,"millis":0.8463,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.715 [print] https:\/\/inspire.ec.europa.eu\/documents\/technical-guidance-implementation-inspire-download-services \n"},{"result":{"nanos":847601,"millis":0.847601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.716 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"de service is conform\";\"conform specification\" \n"},{"result":{"nanos":913201,"millis":0.913201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.717 [print] \"true\";\"true\" \n"},{"result":{"nanos":290700,"millis":0.2907,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1215001,"millis":1.215001,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302300,"millis":0.3023,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":575.571988,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","startTime":1647665764140,"refId":"[1.290:82]","endTime":1647665764718,"exampleData":{"datasetIdentifierCode":"bfcc588f-9393-4c70-b989-d9e92ac2f493"},"exampleIndex":289},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.374 karate.env system property was: null \n"},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":201000,"millis":0.201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":157301,"millis":0.157301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403700,"millis":0.4037,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411100,"millis":0.4111,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538412863,"millis":538.412863,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1008001,"millis":1.008001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":663100,"millis":0.6631,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":646001,"millis":0.646001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":792400,"millis":0.7924,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":870101,"millis":0.870101,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":704700,"millis":0.7047,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":13339309,"millis":13.339309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":700301,"millis":0.700301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702700,"millis":0.7027,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":156600,"millis":0.1566,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.935 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":601201,"millis":0.601201,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136300,"millis":0.1363,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.935 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":555100,"millis":0.5551,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":134100,"millis":0.1341,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.936 [print] #notpresent \n"},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116500,"millis":0.1165,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.936 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":663900,"millis":0.6639,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119000,"millis":0.119,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:04.937 [print] Beheer PDOK \n"},{"result":{"nanos":166500,"millis":0.1665,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:04.937 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":647101,"millis":0.647101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":800800,"millis":0.8008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:04.939 [print] #notpresent \n"},{"result":{"nanos":672101,"millis":0.672101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:04.940 [print] #notpresent \n"},{"result":{"nanos":600100,"millis":0.6001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":148401,"millis":0.148401,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":126900,"millis":0.1269,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:04.941 [print] #notpresent \n"},{"result":{"nanos":266300,"millis":0.2663,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":381600,"millis":0.3816,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339200,"millis":0.3392,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.791282,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","startTime":1647665764373,"refId":"[1.291:82]","endTime":1647665764942,"exampleData":{"datasetIdentifierCode":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1"},"exampleIndex":290},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.442 karate.env system property was: null \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76500,"millis":0.0765,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350300,"millis":0.3503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":516901,"millis":0.516901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":152000,"millis":0.152,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545339667,"millis":545.339667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933501,"millis":0.933501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":799200,"millis":0.7992,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706301,"millis":0.706301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":779500,"millis":0.7795,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":980401,"millis":0.980401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":841301,"millis":0.841301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":681600,"millis":0.6816,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":743601,"millis":0.743601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":790600,"millis":0.7906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":160900,"millis":0.1609,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":202901,"millis":0.202901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:04.997 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n"},{"result":{"nanos":723400,"millis":0.7234,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189100,"millis":0.1891,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:04.998 [print] OGC:CSW \n"},{"result":{"nanos":845401,"millis":0.845401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":242400,"millis":0.2424,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:04.999 [print] #notpresent \n"},{"result":{"nanos":88100,"millis":0.0881,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109800,"millis":0.1098,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:04.999 [print] OGC:CSW \n"},{"result":{"nanos":887501,"millis":0.887501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165900,"millis":0.1659,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.000 [print] Beheer PDOK \n"},{"result":{"nanos":139700,"millis":0.1397,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.001 [print] #notpresent \n"},{"result":{"nanos":751400,"millis":0.7514,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":743001,"millis":0.743001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":126000,"millis":0.126,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.002 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2010\\\/1089\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-discovery-services-0\" \n"},{"result":{"nanos":742101,"millis":0.742101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":176000,"millis":0.176,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.003 [print] \"Deze service is conform INSPIRE richtlijn betreffende netwerkdiensten\";\"Deze service is conform INSPIRE richtlijn betreffende diensten met betrekking tot ruimtelijke gegevens\";\"Deze service is conform de Technical Guidance for INSPIRE Discovery Services\" \n"},{"result":{"nanos":739400,"millis":0.7394,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":129401,"millis":0.129401,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.004 [print] \"true\";\"true\";\"true\" \n"},{"result":{"nanos":271900,"millis":0.2719,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":399200,"millis":0.3992,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":408800,"millis":0.4088,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.601279,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","startTime":1647665764442,"refId":"[1.292:82]","endTime":1647665765006,"exampleData":{"datasetIdentifierCode":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8"},"exampleIndex":291},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.538 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":359100,"millis":0.3591,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384500,"millis":0.3845,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537826162,"millis":537.826162,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":812600,"millis":0.8126,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":732701,"millis":0.732701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":949401,"millis":0.949401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":849400,"millis":0.8494,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":797201,"millis":0.797201,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1039800,"millis":1.0398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":575401,"millis":0.575401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":678600,"millis":0.6786,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":802201,"millis":0.802201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116900,"millis":0.1169,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.085 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wms\\\/v2_0?request=getCapabilities&service=WMS \n"},{"result":{"nanos":976801,"millis":0.976801,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":192700,"millis":0.1927,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.087 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":770000,"millis":0.77,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.088 [print] #notpresent \n"},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":142500,"millis":0.1425,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.088 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":895000,"millis":0.895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153300,"millis":0.1533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.089 [print] Beheer PDOK \n"},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.089 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":1110501,"millis":1.110501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":821601,"millis":0.821601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":153800,"millis":0.1538,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":147900,"millis":0.1479,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.091 [print] #notpresent \n"},{"result":{"nanos":915901,"millis":0.915901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":90300,"millis":0.0903,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":113000,"millis":0.113,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.092 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1018500,"millis":1.0185,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":130501,"millis":0.130501,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":192000,"millis":0.192,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.094 [print] \"true\";\"true\" \n"},{"result":{"nanos":208600,"millis":0.2086,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":395000,"millis":0.395,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330600,"millis":0.3306,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.709173,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9e2e977a-16a6-42a4-a208-c4f70704f383","startTime":1647665764538,"refId":"[1.293:82]","endTime":1647665765095,"exampleData":{"datasetIdentifierCode":"9e2e977a-16a6-42a4-a208-c4f70704f383"},"exampleIndex":292},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.721 karate.env system property was: null \n"},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374400,"millis":0.3744,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":338900,"millis":0.3389,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":572415686,"millis":572.415686,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1683401,"millis":1.683401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":1860801,"millis":1.860801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1644801,"millis":1.644801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1739302,"millis":1.739302,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1972501,"millis":1.972501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1743501,"millis":1.743501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107500,"millis":0.1075,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1422901,"millis":1.422901,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1797201,"millis":1.797201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1719702,"millis":1.719702,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":212500,"millis":0.2125,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":638900,"millis":0.6389,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.311 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":4805103,"millis":4.805103,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150700,"millis":0.1507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.316 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1838302,"millis":1.838302,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.318 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.318 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2121501,"millis":2.121501,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":138300,"millis":0.1383,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.321 [print] Beheer PDOK \n"},{"result":{"nanos":146401,"millis":0.146401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.321 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":2139001,"millis":2.139001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1792401,"millis":1.792401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":154400,"millis":0.1544,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.325 [print] #notpresent \n"},{"result":{"nanos":1913402,"millis":1.913402,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":156600,"millis":0.1566,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.327 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.11\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1787401,"millis":1.787401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":101000,"millis":0.101,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":126200,"millis":0.1262,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.329 [print] \"true\";\"true\" \n"},{"result":{"nanos":222800,"millis":0.2228,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":366601,"millis":0.366601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":259200,"millis":0.2592,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":608.884711,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6c62e0a5-c215-4e47-94b0-a239e264417d","startTime":1647665764720,"refId":"[1.294:82]","endTime":1647665765330,"exampleData":{"datasetIdentifierCode":"6c62e0a5-c215-4e47-94b0-a239e264417d"},"exampleIndex":293},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:04.944 karate.env system property was: null \n"},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134201,"millis":0.134201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146300,"millis":0.1463,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":445000,"millis":0.445,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128600,"millis":0.1286,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423700,"millis":0.4237,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131300,"millis":0.1313,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549566370,"millis":549.56637,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":808200,"millis":0.8082,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":764201,"millis":0.764201,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":547200,"millis":0.5472,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":547401,"millis":0.547401,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":627100,"millis":0.6271,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":742001,"millis":0.742001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":584600,"millis":0.5846,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":475700,"millis":0.4757,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":538101,"millis":0.538101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.502 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":626700,"millis":0.6267,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86400,"millis":0.0864,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.503 [print] OGC:WFS \n"},{"result":{"nanos":654801,"millis":0.654801,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.504 [print] #notpresent \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.504 [print] OGC:WFS \n"},{"result":{"nanos":650700,"millis":0.6507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.505 [print] Beheer PDOK \n"},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.505 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":565000,"millis":0.565,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":621600,"millis":0.6216,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.506 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-download-services\" \n"},{"result":{"nanos":726201,"millis":0.726201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":110600,"millis":0.1106,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.507 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":632101,"millis":0.632101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.508 [print] \"true\";\"true\" \n"},{"result":{"nanos":225300,"millis":0.2253,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":476500,"millis":0.4765,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":270700,"millis":0.2707,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.479479,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","startTime":1647665764944,"refId":"[1.295:82]","endTime":1647665765509,"exampleData":{"datasetIdentifierCode":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506"},"exampleIndex":294},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.008 karate.env system property was: null \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123500,"millis":0.1235,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105800,"millis":0.1058,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":546201,"millis":0.546201,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455700,"millis":0.4557,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198600,"millis":0.1986,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558375076,"millis":558.375076,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":975501,"millis":0.975501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":1032501,"millis":1.032501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":989600,"millis":0.9896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":950501,"millis":0.950501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1057601,"millis":1.057601,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1098501,"millis":1.098501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":788900,"millis":0.7889,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":747201,"millis":0.747201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767200,"millis":0.7672,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":551901,"millis":0.551901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.578 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_1mtr\\\/ows?service=WCS&request=getcapabilities&version=2.0.1 \n"},{"result":{"nanos":746000,"millis":0.746,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":452000,"millis":0.452,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.579 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":845101,"millis":0.845101,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":451000,"millis":0.451,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.580 [print] #notpresent \n"},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":515101,"millis":0.515101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.581 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":950300,"millis":0.9503,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":503901,"millis":0.503901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.582 [print] Rijkswaterstaat \n"},{"result":{"nanos":506700,"millis":0.5067,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.583 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1061601,"millis":1.061601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1314801,"millis":1.314801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":518300,"millis":0.5183,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.586 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/document\\\/tg\\\/download-wcs\" \n"},{"result":{"nanos":1233101,"millis":1.233101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":576400,"millis":0.5764,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.588 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1014201,"millis":1.014201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":518600,"millis":0.5186,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.589 [print] \"false\";\"true\" \n"},{"result":{"nanos":1295001,"millis":1.295001,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":437601,"millis":0.437601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365200,"millis":0.3652,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":582.848293,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","startTime":1647665765007,"refId":"[1.296:82]","endTime":1647665765592,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2"},"exampleIndex":295},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.097 karate.env system property was: null \n"},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":145800,"millis":0.1458,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386200,"millis":0.3862,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":464900,"millis":0.4649,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26901,"millis":0.026901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546263267,"millis":546.263267,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":956201,"millis":0.956201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":771101,"millis":0.771101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":788300,"millis":0.7883,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":698801,"millis":0.698801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":732700,"millis":0.7327,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":690301,"millis":0.690301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":545700,"millis":0.5457,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":547200,"millis":0.5472,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":658101,"millis":0.658101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":755000,"millis":0.755,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":592201,"millis":0.592201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.654 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n"},{"result":{"nanos":687700,"millis":0.6877,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":431101,"millis":0.431101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.655 [print] INSPIRE Atom \n"},{"result":{"nanos":22123715,"millis":22.123715,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":751700,"millis":0.7517,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.678 [print] #notpresent \n"},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":527300,"millis":0.5273,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.678 [print] INSPIRE Atom \n"},{"result":{"nanos":982601,"millis":0.982601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":520500,"millis":0.5205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.680 [print] Rijkswaterstaat \n"},{"result":{"nanos":604601,"millis":0.604601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.681 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":794700,"millis":0.7947,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":756401,"millis":0.756401,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":505700,"millis":0.5057,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.683 [print] http:\/\/inspire.ec.europa.eu\/documents\/technical-guidance-implementation-inspire-download-services \n"},{"result":{"nanos":906001,"millis":0.906001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":777001,"millis":0.777001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.685 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":845300,"millis":0.8453,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":192100,"millis":0.1921,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":545701,"millis":0.545701,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.686 [print] \"true\";\"true\" \n"},{"result":{"nanos":286600,"millis":0.2866,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":618600,"millis":0.6186,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343101,"millis":0.343101,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":589.122798,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1647665765097,"refId":"[1.297:82]","endTime":1647665765688,"exampleData":{"datasetIdentifierCode":"adn83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":296},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.333 karate.env system property was: null \n"},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":212200,"millis":0.2122,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100900,"millis":0.1009,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":438901,"millis":0.438901,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455200,"millis":0.4552,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156700,"millis":0.1567,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-75565-db8b-4df7-a3a6-0e9ca5289e5e'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537244862,"millis":537.244862,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2846402,"millis":2.846402,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-75565-db8b-4df7-a3a6-0e9ca5289e5e'"}},{"result":{"nanos":691901,"millis":0.691901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":662100,"millis":0.6621,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1037501,"millis":1.037501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":891100,"millis":0.8911,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":944501,"millis":0.944501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":106900,"millis":0.1069,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728601,"millis":0.728601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2175901,"millis":2.175901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":846601,"millis":0.846601,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134600,"millis":0.1346,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":274700,"millis":0.2747,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:05.884 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1091401,"millis":1.091401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":451700,"millis":0.4517,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:05.886 [print] OGC:WMS \n"},{"result":{"nanos":692900,"millis":0.6929,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":163200,"millis":0.1632,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:05.887 [print] #notpresent \n"},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203000,"millis":0.203,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:05.887 [print] OGC:WMS \n"},{"result":{"nanos":865101,"millis":0.865101,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154800,"millis":0.1548,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:05.888 [print] Rijkswaterstaat \n"},{"result":{"nanos":148900,"millis":0.1489,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:05.888 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":732400,"millis":0.7324,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":735801,"millis":0.735801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":112300,"millis":0.1123,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":205900,"millis":0.2059,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:05.890 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":760801,"millis":0.760801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":250000,"millis":0.25,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:05.891 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":857000,"millis":0.857,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":105201,"millis":0.105201,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:05.892 [print] \"true\";\"true\" \n"},{"result":{"nanos":256600,"millis":0.2566,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":335500,"millis":0.3355,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346600,"millis":0.3466,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":559.063276,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"eu-75565-db8b-4df7-a3a6-0e9ca5289e5e","startTime":1647665765332,"refId":"[1.298:82]","endTime":1647665765893,"exampleData":{"datasetIdentifierCode":"eu-75565-db8b-4df7-a3a6-0e9ca5289e5e"},"exampleIndex":297},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.511 karate.env system property was: null \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324800,"millis":0.3248,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424801,"millis":0.424801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-6144d-231b-4a52-91d5-edde65076aff'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539797763,"millis":539.797763,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":844601,"millis":0.844601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-6144d-231b-4a52-91d5-edde65076aff'"}},{"result":{"nanos":819800,"millis":0.8198,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":677401,"millis":0.677401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":613500,"millis":0.6135,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":789501,"millis":0.789501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":731400,"millis":0.7314,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":641601,"millis":0.641601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":641500,"millis":0.6415,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":607101,"millis":0.607101,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":231500,"millis":0.2315,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":162300,"millis":0.1623,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.060 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":776001,"millis":0.776001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.060 [print] OGC:WFS \n"},{"result":{"nanos":691700,"millis":0.6917,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.061 [print] #notpresent \n"},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92300,"millis":0.0923,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.061 [print] OGC:WFS \n"},{"result":{"nanos":734401,"millis":0.734401,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149100,"millis":0.1491,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.062 [print] Rijkswaterstaat \n"},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.062 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":791401,"millis":0.791401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":758800,"millis":0.7588,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":101700,"millis":0.1017,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":214900,"millis":0.2149,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.064 [print] http:\/\/data.europa.eu\/eli\/reg\/2009\/976 \n"},{"result":{"nanos":819901,"millis":0.819901,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":127000,"millis":0.127,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.065 [print] Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1 \n"},{"result":{"nanos":718701,"millis":0.718701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":116900,"millis":0.1169,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87100,"millis":0.0871,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.066 [print] true \n"},{"result":{"nanos":225400,"millis":0.2254,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":366100,"millis":0.3661,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":394200,"millis":0.3942,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":555.407174,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eu-6144d-231b-4a52-91d5-edde65076aff","startTime":1647665765511,"refId":"[1.299:82]","endTime":1647665766067,"exampleData":{"datasetIdentifierCode":"eu-6144d-231b-4a52-91d5-edde65076aff"},"exampleIndex":298},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.595 karate.env system property was: null \n"},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":482901,"millis":0.482901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1557701,"millis":1.557701,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":879300,"millis":0.8793,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":8726606,"millis":8.726606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":4126803,"millis":4.126803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549321570,"millis":549.32157,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":890001,"millis":0.890001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":923800,"millis":0.9238,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":757201,"millis":0.757201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5211503,"millis":5.211503,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":811801,"millis":0.811801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":864101,"millis":0.864101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":134500,"millis":0.1345,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":715400,"millis":0.7154,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":685101,"millis":0.685101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702700,"millis":0.7027,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":483200,"millis":0.4832,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":438501,"millis":0.438501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.173 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n"},{"result":{"nanos":699900,"millis":0.6999,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":412500,"millis":0.4125,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.174 [print] OGC:WCS \n"},{"result":{"nanos":669401,"millis":0.669401,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":440600,"millis":0.4406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.176 [print] #notpresent \n"},{"result":{"nanos":97100,"millis":0.0971,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":389601,"millis":0.389601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.176 [print] OGC:WCS \n"},{"result":{"nanos":835600,"millis":0.8356,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":397200,"millis":0.3972,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.177 [print] Rijkswaterstaat \n"},{"result":{"nanos":470101,"millis":0.470101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.178 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f8#MD_DataIdentification \n"},{"result":{"nanos":760300,"millis":0.7603,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":768301,"millis":0.768301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":106200,"millis":0.1062,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":375900,"millis":0.3759,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.180 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/document\\\/tg\\\/download-wcs\" \n"},{"result":{"nanos":975501,"millis":0.975501,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":432800,"millis":0.4328,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.181 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":776001,"millis":0.776001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":332600,"millis":0.3326,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.183 [print] \"true\";\"true\" \n"},{"result":{"nanos":199000,"millis":0.199,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":370500,"millis":0.3705,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":543501,"millis":0.543501,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":588.237397,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","startTime":1647665765593,"refId":"[1.300:82]","endTime":1647665766184,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1"},"exampleIndex":299},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.695 karate.env system property was: null \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":2851702,"millis":2.851702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137800,"millis":0.1378,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":516000,"millis":0.516,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":653601,"millis":0.653601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":613000,"millis":0.613,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":69701,"millis":0.069701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541721664,"millis":541.721664,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":906101,"millis":0.906101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":866901,"millis":0.866901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":815400,"millis":0.8154,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":774201,"millis":0.774201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":851400,"millis":0.8514,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1145101,"millis":1.145101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":121100,"millis":0.1211,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":4984904,"millis":4.984904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":904100,"millis":0.9041,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":851401,"millis":0.851401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":513000,"millis":0.513,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":487700,"millis":0.4877,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.265 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":818901,"millis":0.818901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":351700,"millis":0.3517,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.266 [print] OGC:WMS \n"},{"result":{"nanos":706201,"millis":0.706201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":368600,"millis":0.3686,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.267 [print] #notpresent \n"},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":351700,"millis":0.3517,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.268 [print] OGC:WMS \n"},{"result":{"nanos":848201,"millis":0.848201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.269 [print] Rijkswaterstaat \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.269 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f8#MD_DataIdentification \n"},{"result":{"nanos":841801,"millis":0.841801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":793800,"millis":0.7938,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":96300,"millis":0.0963,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.271 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":850001,"millis":0.850001,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.272 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":937201,"millis":0.937201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.273 [print] \"false\";\"true\" \n"},{"result":{"nanos":280100,"millis":0.2801,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":395700,"millis":0.3957,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325000,"millis":0.325,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":568.622483,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","startTime":1647665765690,"refId":"[1.301:82]","endTime":1647665766274,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3"},"exampleIndex":300},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:05.896 karate.env system property was: null \n"},{"result":{"nanos":74800,"millis":0.0748,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":204001,"millis":0.204001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":234300,"millis":0.2343,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":747800,"millis":0.7478,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125100,"millis":0.1251,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":540801,"millis":0.540801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160500,"millis":0.1605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547780469,"millis":547.780469,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1329601,"millis":1.329601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":1266401,"millis":1.266401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1369801,"millis":1.369801,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1305900,"millis":1.3059,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2024902,"millis":2.024902,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1137501,"millis":1.137501,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":872100,"millis":0.8721,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":890601,"millis":0.890601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1125201,"millis":1.125201,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115000,"millis":0.115,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.459 [print] https:\\\/\\\/www.rijkswaterstaat.nl\\\/apps\\\/geoservices\\\/geodata\\\/dmc\\\/bodemhoogte_1mtr_insp \n"},{"result":{"nanos":1291901,"millis":1.291901,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.460 [print] [\"landingpage\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1269201,"millis":1.269201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60400,"millis":0.0604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.461 [print] #notpresent \n"},{"result":{"nanos":224000,"millis":0.224,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.462 [print] [\"landingpage\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1446901,"millis":1.446901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.463 [print] Rijkswaterstaat \n"},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.463 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1543801,"millis":1.543801,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1137501,"millis":1.137501,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.466 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1145401,"millis":1.145401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":90500,"millis":0.0905,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.467 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1246201,"millis":1.246201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.469 [print] \"true\";\"true\" \n"},{"result":{"nanos":290200,"millis":0.2902,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":432900,"millis":0.4329,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342700,"millis":0.3427,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":572.747786,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1647665765896,"refId":"[1.302:82]","endTime":1647665766470,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":301},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.070 karate.env system property was: null \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126700,"millis":0.1267,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":180201,"millis":0.180201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":479400,"millis":0.4794,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401700,"millis":0.4017,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84200,"millis":0.0842,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":149000,"millis":0.149,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28601,"millis":0.028601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-rsa-ce69-4ce4-b853-4ab65f6a424d'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541287264,"millis":541.287264,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":712601,"millis":0.712601,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-rsa-ce69-4ce4-b853-4ab65f6a424d'"}},{"result":{"nanos":651900,"millis":0.6519,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":788001,"millis":0.788001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":612900,"millis":0.6129,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":735901,"millis":0.735901,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3636702,"millis":3.636702,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":17931712,"millis":17.931712,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":966101,"millis":0.966101,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":660900,"millis":0.6609,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140700,"millis":0.1407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132000,"millis":0.132,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.641 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":647401,"millis":0.647401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95900,"millis":0.0959,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.642 [print] OGC:WMS \n"},{"result":{"nanos":607700,"millis":0.6077,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.642 [print] #notpresent \n"},{"result":{"nanos":67501,"millis":0.067501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.642 [print] OGC:WMS \n"},{"result":{"nanos":722000,"millis":0.722,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168300,"millis":0.1683,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.643 [print] Rijkswaterstaat \n"},{"result":{"nanos":85300,"millis":0.0853,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.643 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n"},{"result":{"nanos":757201,"millis":0.757201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662900,"millis":0.6629,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":81400,"millis":0.0814,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":100500,"millis":0.1005,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.645 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1293601,"millis":1.293601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":110000,"millis":0.11,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":142700,"millis":0.1427,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.647 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":776501,"millis":0.776501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":75600,"millis":0.0756,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83700,"millis":0.0837,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.648 [print] \"true\";\"true\" \n"},{"result":{"nanos":242200,"millis":0.2422,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-rsa-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":349401,"millis":0.349401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-rsa-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":256900,"millis":0.2569,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-rsa-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":577.54019,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eu-rsa-ce69-4ce4-b853-4ab65f6a424d","startTime":1647665766070,"refId":"[1.303:82]","endTime":1647665766649,"exampleData":{"datasetIdentifierCode":"eu-rsa-ce69-4ce4-b853-4ab65f6a424d"},"exampleIndex":302},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.187 karate.env system property was: null \n"},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142500,"millis":0.1425,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":400400,"millis":0.4004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":361300,"millis":0.3613,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":349100,"millis":0.3491,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-rsa-e89d-441f-a848-9e4fe5d48400'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548870870,"millis":548.87087,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1040701,"millis":1.040701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-rsa-e89d-441f-a848-9e4fe5d48400'"}},{"result":{"nanos":703400,"millis":0.7034,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":577200,"millis":0.5772,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690301,"millis":0.690301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":762000,"millis":0.762,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":763001,"millis":0.763001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":100100,"millis":0.1001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":586200,"millis":0.5862,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":744901,"millis":0.744901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":781001,"millis":0.781001,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116100,"millis":0.1161,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":658700,"millis":0.6587,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.746 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":10086607,"millis":10.086607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":526400,"millis":0.5264,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.756 [print] OGC:WFS \n"},{"result":{"nanos":846701,"millis":0.846701,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":530300,"millis":0.5303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.758 [print] #notpresent \n"},{"result":{"nanos":101200,"millis":0.1012,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":511201,"millis":0.511201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.758 [print] OGC:WFS \n"},{"result":{"nanos":680200,"millis":0.6802,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1077701,"millis":1.077701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.760 [print] Rijkswaterstaat \n"},{"result":{"nanos":874200,"millis":0.8742,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.761 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n"},{"result":{"nanos":691001,"millis":0.691001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1265001,"millis":1.265001,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":157300,"millis":0.1573,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":176600,"millis":0.1766,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.763 [print] http:\/\/data.europa.eu\/eli\/reg\/2009\/976 \n"},{"result":{"nanos":858401,"millis":0.858401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":173300,"millis":0.1733,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.764 [print] Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1 \n"},{"result":{"nanos":734700,"millis":0.7347,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.765 [print] true \n"},{"result":{"nanos":241601,"millis":0.241601,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-rsa-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":368800,"millis":0.3688,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-rsa-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":248400,"millis":0.2484,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-rsa-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":578.57109,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"eu-rsa-e89d-441f-a848-9e4fe5d48400","startTime":1647665766186,"refId":"[1.304:82]","endTime":1647665766766,"exampleData":{"datasetIdentifierCode":"eu-rsa-e89d-441f-a848-9e4fe5d48400"},"exampleIndex":303},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.276 karate.env system property was: null \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":86000,"millis":0.086,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315100,"millis":0.3151,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402400,"millis":0.4024,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-rsa-9d36-46ce-8ac9-a208103c218e'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550282970,"millis":550.28297,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1141401,"millis":1.141401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-rsa-9d36-46ce-8ac9-a208103c218e'"}},{"result":{"nanos":729101,"millis":0.729101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":694800,"millis":0.6948,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":766201,"millis":0.766201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":788600,"millis":0.7886,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":894601,"millis":0.894601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":667800,"millis":0.6678,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":704401,"millis":0.704401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1212501,"millis":1.212501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100300,"millis":0.1003,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":370900,"millis":0.3709,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:06.836 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":793100,"millis":0.7931,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":212901,"millis":0.212901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:06.837 [print] OGC:WMS \n"},{"result":{"nanos":736500,"millis":0.7365,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":209600,"millis":0.2096,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:06.838 [print] #notpresent \n"},{"result":{"nanos":111400,"millis":0.1114,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154300,"millis":0.1543,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:06.838 [print] OGC:WMS \n"},{"result":{"nanos":708301,"millis":0.708301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":186800,"millis":0.1868,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:06.839 [print] Rijkswaterstaat \n"},{"result":{"nanos":155600,"millis":0.1556,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:06.839 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n"},{"result":{"nanos":706601,"millis":0.706601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":725800,"millis":0.7258,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:06.841 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":816401,"millis":0.816401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":92600,"millis":0.0926,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":169900,"millis":0.1699,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:06.842 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":813701,"millis":0.813701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95000,"millis":0.095,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":146700,"millis":0.1467,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:06.843 [print] \"true\";\"true\" \n"},{"result":{"nanos":291200,"millis":0.2912,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-rsa-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":344500,"millis":0.3445,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-rsa-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":276700,"millis":0.2767,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-rsa-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.558882,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"eu-rsa-9d36-46ce-8ac9-a208103c218e","startTime":1647665766276,"refId":"[1.305:82]","endTime":1647665766844,"exampleData":{"datasetIdentifierCode":"eu-rsa-9d36-46ce-8ac9-a208103c218e"},"exampleIndex":304},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.472 karate.env system property was: null \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81600,"millis":0.0816,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330400,"millis":0.3304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347101,"millis":0.347101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-rsa-365c-4848-b885-5823259ca7c9'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546110867,"millis":546.110867,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":999001,"millis":0.999001,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-rsa-365c-4848-b885-5823259ca7c9'"}},{"result":{"nanos":631501,"millis":0.631501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":771100,"millis":0.7711,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":645501,"millis":0.645501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":810000,"millis":0.81,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":876801,"millis":0.876801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":565800,"millis":0.5658,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":633601,"millis":0.633601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":650200,"millis":0.6502,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118700,"millis":0.1187,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153700,"millis":0.1537,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.027 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":728101,"millis":0.728101,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100500,"millis":0.1005,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.027 [print] OGC:WFS \n"},{"result":{"nanos":544500,"millis":0.5445,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":180100,"millis":0.1801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.028 [print] #notpresent \n"},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92201,"millis":0.092201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.028 [print] OGC:WFS \n"},{"result":{"nanos":768900,"millis":0.7689,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121200,"millis":0.1212,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.029 [print] Rijkswaterstaat \n"},{"result":{"nanos":130000,"millis":0.13,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.029 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n"},{"result":{"nanos":692501,"millis":0.692501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":747700,"millis":0.7477,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.031 [print] #notpresent \n"},{"result":{"nanos":2709102,"millis":2.709102,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":131200,"millis":0.1312,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.034 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":785201,"millis":0.785201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":130500,"millis":0.1305,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.035 [print] true \n"},{"result":{"nanos":217700,"millis":0.2177,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-rsa-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":329800,"millis":0.3298,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-rsa-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":240301,"millis":0.240301,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-rsa-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.18958,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"eu-rsa-365c-4848-b885-5823259ca7c9","startTime":1647665766472,"refId":"[1.306:82]","endTime":1647665767036,"exampleData":{"datasetIdentifierCode":"eu-rsa-365c-4848-b885-5823259ca7c9"},"exampleIndex":305},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.651 karate.env system property was: null \n"},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":465400,"millis":0.4654,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89300,"millis":0.0893,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438901,"millis":0.438901,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":220100,"millis":0.2201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-43309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543787066,"millis":543.787066,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":882101,"millis":0.882101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-43309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":619600,"millis":0.6196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":711401,"millis":0.711401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":786700,"millis":0.7867,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":901801,"millis":0.901801,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":918101,"millis":0.918101,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":591500,"millis":0.5915,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":593100,"millis":0.5931,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2045502,"millis":2.045502,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":123100,"millis":0.1231,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.206 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1101601,"millis":1.101601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.207 [print] OGC:WMS \n"},{"result":{"nanos":1005600,"millis":1.0056,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.208 [print] #notpresent \n"},{"result":{"nanos":366000,"millis":0.366,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.209 [print] OGC:WMS \n"},{"result":{"nanos":1123001,"millis":1.123001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.210 [print] Rijkswaterstaat \n"},{"result":{"nanos":807500,"millis":0.8075,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.211 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":904301,"millis":0.904301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":686800,"millis":0.6868,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.212 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":2153102,"millis":2.153102,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":108400,"millis":0.1084,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.215 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1115501,"millis":1.115501,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.216 [print] \"true\";\"true\" \n"},{"result":{"nanos":545800,"millis":0.5458,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"wt-43309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":387401,"millis":0.387401,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"wt-43309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289700,"millis":0.2897,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"wt-43309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":565.08628,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-43309-c655-4e64-b914-149050fd479c","startTime":1647665766650,"refId":"[1.307:82]","endTime":1647665767217,"exampleData":{"datasetIdentifierCode":"wt-43309-c655-4e64-b914-149050fd479c"},"exampleIndex":306},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.769 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107200,"millis":0.1072,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123901,"millis":0.123901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":375000,"millis":0.375,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":84300,"millis":0.0843,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337700,"millis":0.3377,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":126200,"millis":0.1262,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":769101,"millis":0.769101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546384468,"millis":546.384468,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":900301,"millis":0.900301,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":594400,"millis":0.5944,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":761101,"millis":0.761101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":569000,"millis":0.569,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":887501,"millis":0.887501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":642000,"millis":0.642,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":495500,"millis":0.4955,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":570201,"millis":0.570201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":521100,"millis":0.5211,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105400,"millis":0.1054,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.325 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":586001,"millis":0.586001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.326 [print] OGC:WFS \n"},{"result":{"nanos":632500,"millis":0.6325,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.326 [print] #notpresent \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.327 [print] OGC:WFS \n"},{"result":{"nanos":708201,"millis":0.708201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.327 [print] Rijkswaterstaat \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.327 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":733400,"millis":0.7334,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":823201,"millis":0.823201,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.329 [print] #notpresent \n"},{"result":{"nanos":696201,"millis":0.696201,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.330 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"See the referenced specification\" \n"},{"result":{"nanos":1320401,"millis":1.320401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.331 [print] true \n"},{"result":{"nanos":325000,"millis":0.325,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"wt-c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":551200,"millis":0.5512,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"wt-c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363400,"millis":0.3634,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"wt-c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":562.270979,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-c9463-a3da-401d-8251-8c6664865e0c","startTime":1647665766768,"refId":"[1.308:82]","endTime":1647665767333,"exampleData":{"datasetIdentifierCode":"wt-c9463-a3da-401d-8251-8c6664865e0c"},"exampleIndex":307},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:06.847 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111300,"millis":0.1113,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98201,"millis":0.098201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":603700,"millis":0.6037,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":275900,"millis":0.2759,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":460600,"millis":0.4606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":141300,"millis":0.1413,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544829467,"millis":544.829467,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":905600,"millis":0.9056,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":1084701,"millis":1.084701,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1090301,"millis":1.090301,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1124501,"millis":1.124501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":955700,"millis":0.9557,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1024701,"millis":1.024701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":760100,"millis":0.7601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":733001,"millis":0.733001,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":752600,"millis":0.7526,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116300,"millis":0.1163,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.403 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":11127007,"millis":11.127007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":207500,"millis":0.2075,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.414 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":712501,"millis":0.712501,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92900,"millis":0.0929,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.415 [print] #notpresent \n"},{"result":{"nanos":95200,"millis":0.0952,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.415 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":868201,"millis":0.868201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127900,"millis":0.1279,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.416 [print] Rijkswaterstaat \n"},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.416 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":996200,"millis":0.9962,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":929601,"millis":0.929601,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":106500,"millis":0.1065,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":117600,"millis":0.1176,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.418 [print] #notpresent \n"},{"result":{"nanos":1007701,"millis":1.007701,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":118200,"millis":0.1182,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.420 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1040301,"millis":1.040301,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":115700,"millis":0.1157,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.421 [print] true \n"},{"result":{"nanos":206700,"millis":0.2067,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":352400,"millis":0.3524,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334300,"millis":0.3343,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":574.342287,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","startTime":1647665766846,"refId":"[1.309:82]","endTime":1647665767422,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611f0gfim"},"exampleIndex":308},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.039 karate.env system property was: null \n"},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119400,"millis":0.1194,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":406200,"millis":0.4062,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":378801,"millis":0.378801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85500,"millis":0.0855,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543092166,"millis":543.092166,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1275201,"millis":1.275201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":973200,"millis":0.9732,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1097501,"millis":1.097501,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1021301,"millis":1.021301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1043800,"millis":1.0438,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1077601,"millis":1.077601,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74800,"millis":0.0748,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":877201,"millis":0.877201,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":820800,"millis":0.8208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":777301,"millis":0.777301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140400,"millis":0.1404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":181400,"millis":0.1814,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.594 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1047701,"millis":1.047701,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":142900,"millis":0.1429,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.595 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1257001,"millis":1.257001,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108900,"millis":0.1089,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.596 [print] #notpresent \n"},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":113900,"millis":0.1139,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.597 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1287901,"millis":1.287901,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.598 [print] Rijkswaterstaat \n"},{"result":{"nanos":326100,"millis":0.3261,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.598 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":1166901,"millis":1.166901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":921701,"millis":0.921701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":89000,"millis":0.089,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":109700,"millis":0.1097,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.601 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1359801,"millis":1.359801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88000,"millis":0.088,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":189400,"millis":0.1894,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.602 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":994101,"millis":0.994101,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.604 [print] \"true\";\"true\" \n"},{"result":{"nanos":205800,"millis":0.2058,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":333400,"millis":0.3334,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":251500,"millis":0.2515,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.28388,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","startTime":1647665767038,"refId":"[1.310:82]","endTime":1647665767604,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611m0gfim"},"exampleIndex":309},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.219 karate.env system property was: null \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":441400,"millis":0.4414,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":547300,"millis":0.5473,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":235801,"millis":0.235801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-7ab54-da5c-46ea-a5b5-53df01873240'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531291757,"millis":531.291757,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1038300,"millis":1.0383,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-7ab54-da5c-46ea-a5b5-53df01873240'"}},{"result":{"nanos":623101,"millis":0.623101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":647200,"millis":0.6472,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":700201,"millis":0.700201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":944400,"millis":0.9444,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":949701,"millis":0.949701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":106300,"millis":0.1063,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":740300,"millis":0.7403,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":555301,"millis":0.555301,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":605600,"millis":0.6056,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":159600,"millis":0.1596,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.760 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?SERVICE=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":636601,"millis":0.636601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.761 [print] OGC:WMS \n"},{"result":{"nanos":630700,"millis":0.6307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144301,"millis":0.144301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.762 [print] #notpresent \n"},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.762 [print] OGC:WMS \n"},{"result":{"nanos":726000,"millis":0.726,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.763 [print] Rijkswaterstaat \n"},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.763 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":732401,"millis":0.732401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1120901,"millis":1.120901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.765 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":788800,"millis":0.7888,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":88000,"millis":0.088,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.766 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":904801,"millis":0.904801,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":144200,"millis":0.1442,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.767 [print] \"true\";\"true\" \n"},{"result":{"nanos":197400,"millis":0.1974,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":390601,"millis":0.390601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289700,"millis":0.2897,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":547.674368,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eu-7ab54-da5c-46ea-a5b5-53df01873240","startTime":1647665767219,"refId":"[1.311:82]","endTime":1647665767768,"exampleData":{"datasetIdentifierCode":"eu-7ab54-da5c-46ea-a5b5-53df01873240"},"exampleIndex":310},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.335 karate.env system property was: null \n"},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":423500,"millis":0.4235,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360801,"millis":0.360801,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-d9417-a69f-4665-bc42-8c6d84e5dedb'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545740567,"millis":545.740567,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":969501,"millis":0.969501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-d9417-a69f-4665-bc42-8c6d84e5dedb'"}},{"result":{"nanos":680101,"millis":0.680101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705100,"millis":0.7051,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682700,"millis":0.6827,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":733401,"millis":0.733401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":932801,"millis":0.932801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":773500,"millis":0.7735,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":811201,"millis":0.811201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":615800,"millis":0.6158,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118100,"millis":0.1181,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":196600,"millis":0.1966,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.889 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":644401,"millis":0.644401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122400,"millis":0.1224,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.890 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":678700,"millis":0.6787,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.891 [print] #notpresent \n"},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.891 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":787600,"millis":0.7876,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97300,"millis":0.0973,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.892 [print] Rijkswaterstaat \n"},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.892 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":2112102,"millis":2.112102,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":728200,"millis":0.7282,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":496901,"millis":0.496901,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.896 [print] #notpresent \n"},{"result":{"nanos":845000,"millis":0.845,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":124000,"millis":0.124,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":619001,"millis":0.619001,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.897 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"See the referenced specification\" \n"},{"result":{"nanos":927300,"millis":0.9273,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":147701,"millis":0.147701,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":547000,"millis":0.547,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.899 [print] true \n"},{"result":{"nanos":230400,"millis":0.2304,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":349400,"millis":0.3494,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318401,"millis":0.318401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":564.488781,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"eu-d9417-a69f-4665-bc42-8c6d84e5dedb","startTime":1647665767335,"refId":"[1.312:82]","endTime":1647665767900,"exampleData":{"datasetIdentifierCode":"eu-d9417-a69f-4665-bc42-8c6d84e5dedb"},"exampleIndex":311},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.425 karate.env system property was: null \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":170100,"millis":0.1701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":559500,"millis":0.5595,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369100,"millis":0.3691,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95700,"millis":0.0957,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-ecda1-2216-4100-96dc-6bede78f9813'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536705461,"millis":536.705461,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":817101,"millis":0.817101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-ecda1-2216-4100-96dc-6bede78f9813'"}},{"result":{"nanos":755600,"millis":0.7556,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706001,"millis":0.706001,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":776000,"millis":0.776,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":742401,"millis":0.742401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791200,"millis":0.7912,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":832001,"millis":0.832001,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":740800,"millis":0.7408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":756401,"millis":0.756401,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":780101,"millis":0.780101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:07.971 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":634900,"millis":0.6349,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":401500,"millis":0.4015,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:07.972 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":653201,"millis":0.653201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":443800,"millis":0.4438,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:07.974 [print] #notpresent \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":455200,"millis":0.4552,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:07.974 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":719601,"millis":0.719601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":445900,"millis":0.4459,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:07.975 [print] Rijkswaterstaat \n"},{"result":{"nanos":595901,"millis":0.595901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:07.976 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":753500,"millis":0.7535,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":665101,"millis":0.665101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":559600,"millis":0.5596,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:07.978 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":730600,"millis":0.7306,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":780000,"millis":0.78,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:07.980 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":701701,"millis":0.701701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":508900,"millis":0.5089,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:07.981 [print] \"true\";\"true\" \n"},{"result":{"nanos":232700,"millis":0.2327,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":305500,"millis":0.3055,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":246500,"millis":0.2465,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.275274,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"eu-ecda1-2216-4100-96dc-6bede78f9813","startTime":1647665767424,"refId":"[1.313:82]","endTime":1647665767982,"exampleData":{"datasetIdentifierCode":"eu-ecda1-2216-4100-96dc-6bede78f9813"},"exampleIndex":312},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.608 karate.env system property was: null \n"},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":182200,"millis":0.1822,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":440601,"millis":0.440601,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111900,"millis":0.1119,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":491800,"millis":0.4918,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98900,"millis":0.0989,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":240800,"millis":0.2408,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534879660,"millis":534.87966,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":950300,"millis":0.9503,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'"}},{"result":{"nanos":746800,"millis":0.7468,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":588400,"millis":0.5884,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":602501,"millis":0.602501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":745900,"millis":0.7459,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":732301,"millis":0.732301,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":592300,"millis":0.5923,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":703901,"millis":0.703901,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":601200,"millis":0.6012,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":102600,"millis":0.1026,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.152 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":855601,"millis":0.855601,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.153 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":755100,"millis":0.7551,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.154 [print] #notpresent \n"},{"result":{"nanos":132900,"millis":0.1329,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.154 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":810700,"millis":0.8107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.155 [print] Rijkswaterstaat \n"},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.155 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":1093301,"millis":1.093301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":671801,"millis":0.671801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.157 [print] #notpresent \n"},{"result":{"nanos":900700,"millis":0.9007,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.158 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":659701,"millis":0.659701,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.159 [print] true \n"},{"result":{"nanos":322600,"millis":0.3226,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":441000,"millis":0.441,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286001,"millis":0.286001,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":550.92477,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","startTime":1647665767607,"refId":"[1.314:82]","endTime":1647665768160,"exampleData":{"datasetIdentifierCode":"eu-e37cb-537f-4d98-8c03-820ee2d872d6"},"exampleIndex":313},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.777 karate.env system property was: null \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":147500,"millis":0.1475,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":487900,"millis":0.4879,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123101,"millis":0.123101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":466900,"millis":0.4669,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":544500,"millis":0.5445,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-7e931-e1b9-4512-9ca2-61526439fd7b'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543733167,"millis":543.733167,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1078100,"millis":1.0781,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-7e931-e1b9-4512-9ca2-61526439fd7b'"}},{"result":{"nanos":747501,"millis":0.747501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":997601,"millis":0.997601,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":862600,"millis":0.8626,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":893501,"millis":0.893501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1053200,"millis":1.0532,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89001,"millis":0.089001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":694000,"millis":0.694,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":688400,"millis":0.6884,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":670501,"millis":0.670501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124600,"millis":0.1246,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":158600,"millis":0.1586,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.332 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":636401,"millis":0.636401,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":142000,"millis":0.142,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.332 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":716300,"millis":0.7163,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106600,"millis":0.1066,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.333 [print] #notpresent \n"},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.333 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":986001,"millis":0.986001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121500,"millis":0.1215,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.334 [print] Rijkswaterstaat \n"},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.335 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":761201,"millis":0.761201,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":730400,"millis":0.7304,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":117000,"millis":0.117,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.336 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":746601,"millis":0.746601,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.337 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":758201,"millis":0.758201,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.338 [print] \"true\";\"true\" \n"},{"result":{"nanos":200700,"millis":0.2007,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-7e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":327200,"millis":0.3272,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-7e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":252100,"millis":0.2521,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-7e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":561.261578,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eu-7e931-e1b9-4512-9ca2-61526439fd7b","startTime":1647665767776,"refId":"[1.315:82]","endTime":1647665768339,"exampleData":{"datasetIdentifierCode":"eu-7e931-e1b9-4512-9ca2-61526439fd7b"},"exampleIndex":314},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.903 karate.env system property was: null \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":110800,"millis":0.1108,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":349700,"millis":0.3497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348601,"millis":0.348601,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":466200,"millis":0.4662,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540873164,"millis":540.873164,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1035101,"millis":1.035101,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1'"}},{"result":{"nanos":732500,"millis":0.7325,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":753401,"millis":0.753401,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":740801,"millis":0.740801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":776500,"millis":0.7765,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":853901,"millis":0.853901,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":746300,"millis":0.7463,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":879601,"millis":0.879601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":806700,"millis":0.8067,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":192200,"millis":0.1922,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":155501,"millis":0.155501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.454 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":791100,"millis":0.7911,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159700,"millis":0.1597,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.455 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":693901,"millis":0.693901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.456 [print] #notpresent \n"},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":107600,"millis":0.1076,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.456 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":904301,"millis":0.904301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119600,"millis":0.1196,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.457 [print] Rijkswaterstaat \n"},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.457 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":856900,"millis":0.8569,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":826101,"millis":0.826101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":90300,"millis":0.0903,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.459 [print] #notpresent \n"},{"result":{"nanos":795101,"millis":0.795101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":92200,"millis":0.0922,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.460 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":862700,"millis":0.8627,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":103600,"millis":0.1036,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.461 [print] true \n"},{"result":{"nanos":290101,"millis":0.290101,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":518600,"millis":0.5186,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336100,"millis":0.3361,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":558.351976,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1","startTime":1647665767902,"refId":"[1.316:82]","endTime":1647665768462,"exampleData":{"datasetIdentifierCode":"eu-3b602-8cbf-4cf0-9ce6-1b201e230ef1"},"exampleIndex":315},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:07.984 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76600,"millis":0.0766,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":376501,"millis":0.376501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":361600,"millis":0.3616,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":421700,"millis":0.4217,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551444872,"millis":551.444872,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":728500,"millis":0.7285,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":710101,"millis":0.710101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":613300,"millis":0.6133,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":668301,"millis":0.668301,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661600,"millis":0.6616,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":711900,"millis":0.7119,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":694600,"millis":0.6946,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":552700,"millis":0.5527,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":654501,"millis":0.654501,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":407200,"millis":0.4072,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.544 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1055301,"millis":1.055301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139500,"millis":0.1395,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.545 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":696100,"millis":0.6961,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131401,"millis":0.131401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.546 [print] #notpresent \n"},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.546 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":763000,"millis":0.763,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93100,"millis":0.0931,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.547 [print] Rijkswaterstaat \n"},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.547 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":772601,"millis":0.772601,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":730300,"millis":0.7303,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.549 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":766500,"millis":0.7665,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":109900,"millis":0.1099,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":106000,"millis":0.106,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.550 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":719601,"millis":0.719601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.551 [print] \"true\";\"true\" \n"},{"result":{"nanos":251400,"millis":0.2514,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":412100,"millis":0.4121,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":248500,"millis":0.2485,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":567.069382,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","startTime":1647665767983,"refId":"[1.317:82]","endTime":1647665768552,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2"},"exampleIndex":316},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.163 karate.env system property was: null \n"},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108500,"millis":0.1085,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":484800,"millis":0.4848,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448101,"millis":0.448101,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535388660,"millis":535.38866,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1021401,"millis":1.021401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":817101,"millis":0.817101,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":686200,"millis":0.6862,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":751501,"millis":0.751501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":750800,"millis":0.7508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":884401,"millis":0.884401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":901700,"millis":0.9017,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":753601,"millis":0.753601,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":668800,"millis":0.6688,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":653101,"millis":0.653101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.708 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":736900,"millis":0.7369,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102601,"millis":0.102601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.709 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":754300,"millis":0.7543,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":169700,"millis":0.1697,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.710 [print] #notpresent \n"},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110300,"millis":0.1103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.710 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":816601,"millis":0.816601,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97900,"millis":0.0979,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.711 [print] Rijkswaterstaat \n"},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.711 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":758701,"millis":0.758701,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2164701,"millis":2.164701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":139600,"millis":0.1396,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":525700,"millis":0.5257,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.715 [print] http:\/\/data.europa.eu\/eli\/reg\/2009\/976 \n"},{"result":{"nanos":1080401,"millis":1.080401,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":100200,"millis":0.1002,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.716 [print] Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1 \n"},{"result":{"nanos":804601,"millis":0.804601,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":98300,"millis":0.0983,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.717 [print] true \n"},{"result":{"nanos":225500,"millis":0.2255,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":322700,"millis":0.3227,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":246701,"millis":0.246701,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":554.573274,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","startTime":1647665768163,"refId":"[1.318:82]","endTime":1647665768718,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2"},"exampleIndex":317},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.341 karate.env system property was: null \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162400,"millis":0.1624,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":358600,"millis":0.3586,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":167200,"millis":0.1672,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":661401,"millis":0.661401,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee56211d336d'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537657062,"millis":537.657062,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":931701,"millis":0.931701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee56211d336d'"}},{"result":{"nanos":848401,"millis":0.848401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":819200,"millis":0.8192,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":904101,"millis":0.904101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":898100,"millis":0.8981,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":868801,"millis":0.868801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":781301,"millis":0.781301,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":930200,"millis":0.9302,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":770701,"millis":0.770701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":181800,"millis":0.1818,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:08.890 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":879501,"millis":0.879501,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:08.891 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n"},{"result":{"nanos":896600,"millis":0.8966,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:08.892 [print] #notpresent \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:08.892 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n"},{"result":{"nanos":1013701,"millis":1.013701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75600,"millis":0.0756,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:08.893 [print] Rijkswaterstaat \n"},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:08.893 [print] #notpresent \n"},{"result":{"nanos":864101,"millis":0.864101,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":859700,"millis":0.8597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:08.895 [print] \"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/commission-regulation-eu-no-10892010-23-november-2010-implementing-directive-20072ec\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/document\\\/tg\\\/ef\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/id\\\/document\\\/tg\\\/of\" \n"},{"result":{"nanos":943801,"millis":0.943801,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:08.896 [print] \"De hier gehanteerde domeinen wijken af van de domeinen uit de dataspecificaties van INSPlRE\";\"De data wijkt af van de dataspecificaties op dit thema van INSPlRE\";\"De data wijkt af van de dataspecificaties op dit thema van INSPlRE\" \n"},{"result":{"nanos":1525001,"millis":1.525001,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:08.897 [print] \"false\";\"false\";\"false\" \n"},{"result":{"nanos":282600,"millis":0.2826,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":510601,"millis":0.510601,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":296000,"millis":0.296,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.374475,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cf69ec50-9849-4afd-853c-ee56211d336d","startTime":1647665768341,"refId":"[1.319:82]","endTime":1647665768899,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee56211d336d"},"exampleIndex":318},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.465 karate.env system property was: null \n"},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104500,"millis":0.1045,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":129301,"millis":0.129301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":409100,"millis":0.4091,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415400,"millis":0.4154,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533015259,"millis":533.015259,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":12755709,"millis":12.755709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":822501,"millis":0.822501,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":728400,"millis":0.7284,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725001,"millis":0.725001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":765200,"millis":0.7652,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":802801,"millis":0.802801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":124600,"millis":0.1246,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":792600,"millis":0.7926,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":719801,"millis":0.719801,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":737800,"millis":0.7378,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152000,"millis":0.152,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139401,"millis":0.139401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.020 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n"},{"result":{"nanos":1263700,"millis":1.2637,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109800,"millis":0.1098,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.021 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":945901,"millis":0.945901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109600,"millis":0.1096,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.022 [print] #notpresent \n"},{"result":{"nanos":440201,"millis":0.440201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.023 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1128600,"millis":1.1286,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.024 [print] Rijkswaterstaat \n"},{"result":{"nanos":440300,"millis":0.4403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.024 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":1261301,"millis":1.261301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":768800,"millis":0.7688,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":90400,"millis":0.0904,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.027 [print] http:\/\/data.europa.eu\/eli\/reg\/2009\/976 \n"},{"result":{"nanos":1061301,"millis":1.061301,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":102400,"millis":0.1024,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.028 [print] Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1 \n"},{"result":{"nanos":1302901,"millis":1.302901,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":124200,"millis":0.1242,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.030 [print] false \n"},{"result":{"nanos":505401,"millis":0.505401,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":1771801,"millis":1.771801,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":300900,"millis":0.3009,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.087581,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cf69ec50-9849-4afd-853c-ee5621fd336d","startTime":1647665768465,"refId":"[1.320:82]","endTime":1647665769032,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621fd336d"},"exampleIndex":319},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.554 karate.env system property was: null \n"},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":182200,"millis":0.1822,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398101,"millis":0.398101,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352800,"millis":0.3528,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522675852,"millis":522.675852,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":805501,"millis":0.805501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":1042601,"millis":1.042601,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":798700,"millis":0.7987,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":716501,"millis":0.716501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":719600,"millis":0.7196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":779801,"millis":0.779801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":116000,"millis":0.116,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":724100,"millis":0.7241,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":751401,"millis":0.751401,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":701000,"millis":0.701,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":166400,"millis":0.1664,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.086 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":804001,"millis":0.804001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104800,"millis":0.1048,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.087 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":596200,"millis":0.5962,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.088 [print] #notpresent \n"},{"result":{"nanos":61301,"millis":0.061301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":214100,"millis":0.2141,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.088 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":688400,"millis":0.6884,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.089 [print] Rijkswaterstaat \n"},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.089 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":904001,"millis":0.904001,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":978901,"millis":0.978901,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.091 [print] \"http:\\\/\\\/data.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"http:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":1122600,"millis":1.1226,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":90500,"millis":0.0905,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.092 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":986500,"millis":0.9865,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.094 [print] \"false\";\"true\" \n"},{"result":{"nanos":205000,"millis":0.205,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":892200,"millis":0.8922,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374800,"millis":0.3748,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":540.357763,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"cf69ec50-9849-4afd-853c-ee5621md336d","startTime":1647665768554,"refId":"[1.321:82]","endTime":1647665769095,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621md336d"},"exampleIndex":320},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.721 karate.env system property was: null \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98000,"millis":0.098,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":381300,"millis":0.3813,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412900,"millis":0.4129,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":576290788,"millis":576.290788,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":973600,"millis":0.9736,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":643901,"millis":0.643901,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":615100,"millis":0.6151,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":761001,"millis":0.761001,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":667200,"millis":0.6672,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":730001,"millis":0.730001,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":736200,"millis":0.7362,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":729501,"millis":0.729501,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":631100,"millis":0.6311,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115300,"millis":0.1153,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":238701,"millis":0.238701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.308 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1354300,"millis":1.3543,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144701,"millis":0.144701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.309 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1000700,"millis":1.0007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135700,"millis":0.1357,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.310 [print] #notpresent \n"},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95900,"millis":0.0959,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.311 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":910500,"millis":0.9105,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":220500,"millis":0.2205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.312 [print] Beheer PDOK \n"},{"result":{"nanos":340001,"millis":0.340001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.312 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":967200,"millis":0.9672,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":702101,"millis":0.702101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":125000,"millis":0.125,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":126300,"millis":0.1263,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.314 [print] \"https:\\\/\\\/eur-lex.europa.eu\\\/eli\\\/reg\\\/2009\\\/976\";\"https:\\\/\\\/inspire.ec.europa.eu\\\/documents\\\/technical-guidance-implementation-inspire-view-services-1\" \n"},{"result":{"nanos":944101,"millis":0.944101,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":106100,"millis":0.1061,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":165800,"millis":0.1658,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.316 [print] \"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":1034401,"millis":1.034401,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":114600,"millis":0.1146,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.317 [print] \"true\";\"true\" \n"},{"result":{"nanos":503100,"millis":0.5031,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":485300,"millis":0.4853,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358401,"millis":0.358401,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":594.699599,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","startTime":1647665768720,"refId":"[1.322:82]","endTime":1647665769318,"exampleData":{"datasetIdentifierCode":"67bcc21d-beda-449d-975c-00a4fa80f2b7"},"exampleIndex":321},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:08.901 karate.env system property was: null \n"},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345300,"millis":0.3453,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392100,"millis":0.3921,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529095257,"millis":529.095257,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":820700,"millis":0.8207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":629001,"millis":0.629001,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":865000,"millis":0.865,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":590801,"millis":0.590801,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":709400,"millis":0.7094,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":762401,"millis":0.762401,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":939700,"millis":0.9397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":886700,"millis":0.8867,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":877500,"millis":0.8775,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163900,"millis":0.1639,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":267500,"millis":0.2675,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.439 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":832399,"millis":0.832399,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159500,"millis":0.1595,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.440 [print] #notpresent \n"},{"result":{"nanos":806900,"millis":0.8069,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":152400,"millis":0.1524,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.441 [print] OGC:WMS \n"},{"result":{"nanos":117700,"millis":0.1177,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":172200,"millis":0.1722,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.441 [print] #notpresent \n"},{"result":{"nanos":865999,"millis":0.865999,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126700,"millis":0.1267,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.442 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.443 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1007900,"millis":1.0079,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1447099,"millis":1.447099,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":177500,"millis":0.1775,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.445 [print] #notpresent \n"},{"result":{"nanos":753900,"millis":0.7539,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":203800,"millis":0.2038,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.446 [print] \"Technical Guidance for the implementation of INSPIRE View Services\";\"Zie specificatie\";\"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Onbekend\" \n"},{"result":{"nanos":766000,"millis":0.766,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":134800,"millis":0.1348,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.447 [print] \"true\";\"false\" \n"},{"result":{"nanos":274599,"millis":0.274599,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":332200,"millis":0.3322,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339300,"millis":0.3393,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":546.933257,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b7880739-a701-4cc0-bb32-2bba61fa8924","startTime":1647665768900,"refId":"[1.323:82]","endTime":1647665769448,"exampleData":{"datasetIdentifierCode":"b7880739-a701-4cc0-bb32-2bba61fa8924"},"exampleIndex":322},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:09.035 karate.env system property was: null \n"},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124500,"millis":0.1245,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363100,"millis":0.3631,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86901,"millis":0.086901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354500,"millis":0.3545,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542428219,"millis":542.428219,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1316800,"millis":1.3168,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":824299,"millis":0.824299,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":704000,"millis":0.704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":632300,"millis":0.6323,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":768900,"millis":0.7689,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":734999,"millis":0.734999,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":642700,"millis":0.6427,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":846300,"millis":0.8463,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655100,"millis":0.6551,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":569199,"millis":0.569199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":501200,"millis":0.5012,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.588 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":681900,"millis":0.6819,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":376400,"millis":0.3764,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.589 [print] #notpresent \n"},{"result":{"nanos":786100,"millis":0.7861,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97800,"millis":0.0978,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.590 [print] #notpresent \n"},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":351099,"millis":0.351099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.590 [print] #notpresent \n"},{"result":{"nanos":777000,"millis":0.777,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":170600,"millis":0.1706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.591 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":128000,"millis":0.128,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.591 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":795300,"millis":0.7953,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715500,"millis":0.7155,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.593 [print] #notpresent \n"},{"result":{"nanos":887600,"millis":0.8876,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.594 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":656800,"millis":0.6568,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.595 [print] true \n"},{"result":{"nanos":422599,"millis":0.422599,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":393700,"millis":0.3937,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":247600,"millis":0.2476,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":560.029015,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ce0a3f8e-6713-455f-805e-a067162c287d","startTime":1647665769034,"refId":"[1.324:82]","endTime":1647665769596,"exampleData":{"datasetIdentifierCode":"ce0a3f8e-6713-455f-805e-a067162c287d"},"exampleIndex":323},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:09.097 karate.env system property was: null \n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121100,"millis":0.1211,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":442401,"millis":0.442401,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148800,"millis":0.1488,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":334200,"millis":0.3342,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535327258,"millis":535.327258,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":701099,"millis":0.701099,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":797100,"millis":0.7971,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":734100,"millis":0.7341,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":819000,"millis":0.819,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889199,"millis":0.889199,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":682200,"millis":0.6822,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":762900,"millis":0.7629,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":524700,"millis":0.5247,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":550599,"millis":0.550599,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.642 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":723500,"millis":0.7235,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.642 [print] OGC:WMS \n"},{"result":{"nanos":555400,"millis":0.5554,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.643 [print] #notpresent \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.643 [print] OGC:WMS \n"},{"result":{"nanos":679100,"millis":0.6791,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.644 [print] Beheer PDOK \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.644 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n"},{"result":{"nanos":710299,"millis":0.710299,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":669800,"millis":0.6698,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":124300,"millis":0.1243,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.646 [print] #notpresent \n"},{"result":{"nanos":817300,"millis":0.8173,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":114700,"millis":0.1147,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.647 [print] \"VERORDENING (EG) Nr. 976\\\/2009 VAN DE COMMISSIE van 19 oktober 2009 tot uitvoering van Richtlijn 2007\\\/2\\\/EG van het Europees Parlement en de Raad wat betreft de netwerkdiensten\";\"Conform verordening; validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\";\"Technical Guidance for the implementation of INSPIRE View Services v3.1\";\"Conform technische specificatie; Validatie uitgevoerd met de ETF Validator voor INSPIRE view en downloadservices versie 1.4.1\" \n"},{"result":{"nanos":9823796,"millis":9.823796,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":202900,"millis":0.2029,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.657 [print] \"true\";\"true\" \n"},{"result":{"nanos":4452698,"millis":4.452698,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":333700,"millis":0.3337,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280900,"millis":0.2809,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.561549,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d293204f-6581-4b0a-811b-1dcce97adedd","startTime":1647665769097,"refId":"[1.325:82]","endTime":1647665769662,"exampleData":{"datasetIdentifierCode":"d293204f-6581-4b0a-811b-1dcce97adedd"},"exampleIndex":324},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:09.320 karate.env system property was: null \n"},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85500,"millis":0.0855,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343600,"millis":0.3436,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":535800,"millis":0.5358,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":132401,"millis":0.132401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":225300,"millis":0.2253,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541042826,"millis":541.042826,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1199000,"millis":1.199,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":793800,"millis":0.7938,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":690299,"millis":0.690299,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":599800,"millis":0.5998,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":745400,"millis":0.7454,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":934099,"millis":0.934099,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":589000,"millis":0.589,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":577800,"millis":0.5778,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":575400,"millis":0.5754,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":154200,"millis":0.1542,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:09.871 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1534999,"millis":1.534999,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":282800,"millis":0.2828,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:09.874 [print] #notpresent \n"},{"result":{"nanos":791000,"millis":0.791,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":212100,"millis":0.2121,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:09.875 [print] #notpresent \n"},{"result":{"nanos":83499,"millis":0.083499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154500,"millis":0.1545,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:09.875 [print] #notpresent \n"},{"result":{"nanos":827300,"millis":0.8273,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":162200,"millis":0.1622,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:09.876 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":157200,"millis":0.1572,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:09.876 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":657500,"millis":0.6575,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":676400,"millis":0.6764,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":88299,"millis":0.088299,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":161600,"millis":0.1616,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:09.878 [print] #notpresent \n"},{"result":{"nanos":680200,"millis":0.6802,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":216600,"millis":0.2166,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":7581397,"millis":7.581397,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:09.886 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":797100,"millis":0.7971,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":91800,"millis":0.0918,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":308900,"millis":0.3089,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:09.887 [print] true \n"},{"result":{"nanos":217100,"millis":0.2171,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":318000,"millis":0.318,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":244500,"millis":0.2445,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":566.210219,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","startTime":1647665769320,"refId":"[1.326:82]","endTime":1647665769888,"exampleData":{"datasetIdentifierCode":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217"},"exampleIndex":325},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:09.451 karate.env system property was: null \n"},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161400,"millis":0.1614,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":189100,"millis":0.1891,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":417700,"millis":0.4177,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140800,"millis":0.1408,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394200,"millis":0.3942,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84999,"millis":0.084999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543000310,"millis":543.00031,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1133999,"millis":1.133999,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":760500,"millis":0.7605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":583000,"millis":0.583,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":818400,"millis":0.8184,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":754199,"millis":0.754199,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":761100,"millis":0.7611,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":594600,"millis":0.5946,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":680800,"millis":0.6808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":551199,"millis":0.551199,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143700,"millis":0.1437,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":889300,"millis":0.8893,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:10.004 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":775200,"millis":0.7752,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:10.005 [print] #notpresent \n"},{"result":{"nanos":1139499,"millis":1.139499,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121600,"millis":0.1216,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:10.007 [print] #notpresent \n"},{"result":{"nanos":469400,"millis":0.4694,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129800,"millis":0.1298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:10.007 [print] #notpresent \n"},{"result":{"nanos":1137100,"millis":1.1371,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":175799,"millis":0.175799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:10.009 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":520300,"millis":0.5203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:10.009 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1423800,"millis":1.4238,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":645500,"millis":0.6455,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":87800,"millis":0.0878,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":107299,"millis":0.107299,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:10.011 [print] #notpresent \n"},{"result":{"nanos":1079600,"millis":1.0796,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":109700,"millis":0.1097,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:10.013 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":1233500,"millis":1.2335,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":142099,"millis":0.142099,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:10.014 [print] true \n"},{"result":{"nanos":388500,"millis":0.3885,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":333400,"millis":0.3334,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412300,"millis":0.4123,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":563.176502,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8a772a52-d659-47b3-a131-82398fb78664","startTime":1647665769451,"refId":"[1.327:82]","endTime":1647665770015,"exampleData":{"datasetIdentifierCode":"8a772a52-d659-47b3-a131-82398fb78664"},"exampleIndex":326},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:56:09.598 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":312100,"millis":0.3121,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405100,"millis":0.4051,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97500,"millis":0.0975,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":232800,"millis":0.2328,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540815310,"millis":540.81531,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1043400,"millis":1.0434,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":745699,"millis":0.745699,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":581000,"millis":0.581,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":698500,"millis":0.6985,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":892200,"millis":0.8922,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":869699,"millis":0.869699,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":134500,"millis":0.1345,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":556800,"millis":0.5568,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":649100,"millis":0.6491,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":676799,"millis":0.676799,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139100,"millis":0.1391,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193500,"millis":0.1935,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:56:10.148 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":661900,"millis":0.6619,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134300,"millis":0.1343,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:56:10.149 [print] #notpresent \n"},{"result":{"nanos":638900,"millis":0.6389,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:56:10.150 [print] #notpresent \n"},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:56:10.150 [print] #notpresent \n"},{"result":{"nanos":827799,"millis":0.827799,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153300,"millis":0.1533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:56:10.151 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":117400,"millis":0.1174,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:56:10.151 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":645500,"millis":0.6455,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":627400,"millis":0.6274,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"string conformanceHref = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/@href"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"string corConformanceHref = db.getCorrectedString(conformanceHref)"}},{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"line":64,"prefix":"*","index":33,"text":"print corConformanceHref"},"stepLog":"04:56:10.153 [print] #notpresent \n"},{"result":{"nanos":659200,"millis":0.6592,"status":"passed"},"step":{"line":66,"prefix":"*","index":34,"text":"string conformanceTitles = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/CharacterString"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":67,"prefix":"*","index":35,"text":"string corConformanceTitles = db.getCorrectedString(conformanceTitles)"}},{"result":{"nanos":156899,"millis":0.156899,"status":"passed"},"step":{"line":68,"prefix":"*","index":36,"text":"print corConformanceTitles"},"stepLog":"04:56:10.154 [print] \"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"Commission Regulation (EC) No 976\\\/2009 of 19 October 2009 implementing Directive 2007\\\/2\\\/EC of the European Parliament and of the Council as regards the Network Services\";\"See the referenced specification\" \n"},{"result":{"nanos":713100,"millis":0.7131,"status":"passed"},"step":{"line":69,"prefix":"*","index":37,"text":"string conformancePass = get response \/\/MD_Metadata\/dataQualityInfo\/DQ_DataQuality\/report[*]\/\/Boolean"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"line":70,"prefix":"*","index":38,"text":"string corConformancePass = db.getCorrectedString(conformancePass)"}},{"result":{"nanos":200900,"millis":0.2009,"status":"passed"},"step":{"line":71,"prefix":"*","index":39,"text":"print corConformancePass"},"stepLog":"04:56:10.155 [print] true \n"},{"result":{"nanos":245300,"millis":0.2453,"status":"passed"},"step":{"line":76,"prefix":"*","index":40,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + corConformanceHref + '\",\"' + corConformanceTitles + '\",\"' + corConformancePass + '\"' , db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '_conformance.csv')"}},{"result":{"nanos":352900,"millis":0.3529,"status":"passed"},"step":{"line":77,"prefix":"*","index":41,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":243800,"millis":0.2438,"status":"passed"},"step":{"line":78,"prefix":"*","index":42,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":82,"description":"","durationMillis":556.313105,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"12505d53-a942-467e-a462-ddbe5ac6467f","startTime":1647665769598,"refId":"[1.328:82]","endTime":1647665770156,"exampleData":{"datasetIdentifierCode":"12505d53-a942-467e-a462-ddbe5ac6467f"},"exampleIndex":327}],"callDepth":0,"name":"get details","description":"","resultDate":"2022-03-19 04:56:10 AM","durationMillis":189896.527104,"passedCount":328}