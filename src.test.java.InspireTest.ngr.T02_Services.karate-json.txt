{"failedCount":0,"prefixedPath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","packageQualifiedName":"src.test.java.InspireTest.ngr.T02_Services","loopIndex":-1,"relativePath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":146711,"millis":0.146711,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:58.675 karate.env system property was: null \n"},{"result":{"nanos":507637,"millis":0.507637,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":6057049,"millis":6.057049,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":214816,"millis":0.214816,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":650648,"millis":0.650648,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2983121,"millis":2.983121,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":806960,"millis":0.80696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":153311,"millis":0.153311,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2352075,"millis":2.352075,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":76505,"millis":0.076505,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57505,"millis":0.057505,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":1606319,"millis":1.606319,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54804,"millis":0.054804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":639259623,"millis":639.259623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":16393216,"millis":16.393216,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":41932611,"millis":41.932611,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":9461102,"millis":9.461102,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6160257,"millis":6.160257,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6302267,"millis":6.302267,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5760427,"millis":5.760427,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":136611,"millis":0.136611,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3685073,"millis":3.685073,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3380951,"millis":3.380951,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4369324,"millis":4.369324,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3696774,"millis":3.696774,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":239317,"millis":0.239317,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.437 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3639270,"millis":3.63927,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":211215,"millis":0.211215,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.441 [print] #notpresent \n"},{"result":{"nanos":3997897,"millis":3.997897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":224716,"millis":0.224716,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.445 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":143511,"millis":0.143511,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132710,"millis":0.13271,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.445 [print] #notpresent \n"},{"result":{"nanos":5147882,"millis":5.147882,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":196414,"millis":0.196414,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.451 [print] Beheer PDOK \n"},{"result":{"nanos":152512,"millis":0.152512,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.451 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":5975743,"millis":5.975743,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":988074,"millis":0.988074,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":586643,"millis":0.586643,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":777.977311,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"8e7686c3-f75e-411f-866e-6985267b916b","startTime":1631163598662,"refId":"[1.1:67]","endTime":1631163599458,"exampleData":{"datasetIdentifierCode":"8e7686c3-f75e-411f-866e-6985267b916b"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":120209,"millis":0.120209,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:58.692 karate.env system property was: null \n"},{"result":{"nanos":94407,"millis":0.094407,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":174113,"millis":0.174113,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":820061,"millis":0.820061,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":338925,"millis":0.338925,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":210216,"millis":0.210216,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2188763,"millis":2.188763,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":185213,"millis":0.185213,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3727076,"millis":3.727076,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":82506,"millis":0.082506,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48304,"millis":0.048304,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26202,"millis":0.026202,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24802,"millis":0.024802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":24302,"millis":0.024302,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23502,"millis":0.023502,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":573892674,"millis":573.892674,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1148585,"millis":1.148585,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":1038877,"millis":1.038877,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1276795,"millis":1.276795,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":991974,"millis":0.991974,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1338599,"millis":1.338599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5368498,"millis":5.368498,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":190514,"millis":0.190514,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":650148,"millis":0.650148,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":597844,"millis":0.597844,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":656448,"millis":0.656448,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":544540,"millis":0.54454,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1011775,"millis":1.011775,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.294 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n"},{"result":{"nanos":593844,"millis":0.593844,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":7861583,"millis":7.861583,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.303 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":594644,"millis":0.594644,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":620446,"millis":0.620446,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.304 [print] #notpresent \n"},{"result":{"nanos":152311,"millis":0.152311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":509838,"millis":0.509838,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.305 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":477135,"millis":0.477135,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":503837,"millis":0.503837,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.306 [print] Beheer PDOK \n"},{"result":{"nanos":765056,"millis":0.765056,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.307 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":533039,"millis":0.533039,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":22909200,"millis":22.9092,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":17241379,"millis":17.241379,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":649.619888,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a2724dae-ebad-4a07-9405-49bddfde3368","startTime":1631163598670,"refId":"[1.2:67]","endTime":1631163599347,"exampleData":{"datasetIdentifierCode":"a2724dae-ebad-4a07-9405-49bddfde3368"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":122209,"millis":0.122209,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:58.692 karate.env system property was: null \n"},{"result":{"nanos":92107,"millis":0.092107,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181113,"millis":0.181113,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":2805008,"millis":2.805008,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":7927688,"millis":7.927688,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":199614,"millis":0.199614,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":814660,"millis":0.81466,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":154012,"millis":0.154012,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":7905187,"millis":7.905187,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":88306,"millis":0.088306,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":50003,"millis":0.050003,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31703,"millis":0.031703,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25602,"millis":0.025602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":25002,"millis":0.025002,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26902,"millis":0.026902,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":579812112,"millis":579.812112,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":580143,"millis":0.580143,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":463834,"millis":0.463834,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":424631,"millis":0.424631,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":565442,"millis":0.565442,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":583043,"millis":0.583043,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":565042,"millis":0.565042,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":219116,"millis":0.219116,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":534140,"millis":0.53414,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":507338,"millis":0.507338,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":513539,"millis":0.513539,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":5189785,"millis":5.189785,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2545489,"millis":2.545489,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.310 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/atom\/cbsgebiedsindelingen.xml \n"},{"result":{"nanos":552541,"millis":0.552541,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":553441,"millis":0.553441,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.312 [print] INSPIRE Atom \n"},{"result":{"nanos":632547,"millis":0.632547,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":626646,"millis":0.626646,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.313 [print] #notpresent \n"},{"result":{"nanos":188014,"millis":0.188014,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":571542,"millis":0.571542,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.314 [print] INSPIRE Atom \n"},{"result":{"nanos":488337,"millis":0.488337,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":547840,"millis":0.54784,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.315 [print] Beheer PDOK \n"},{"result":{"nanos":8745549,"millis":8.745549,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.324 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":7370447,"millis":7.370447,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2689299,"millis":2.689299,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4706149,"millis":4.706149,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":640.657825,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"beb6dd70-7834-475f-9acc-954a809dfe87","startTime":1631163598684,"refId":"[1.3:67]","endTime":1631163599338,"exampleData":{"datasetIdentifierCode":"beb6dd70-7834-475f-9acc-954a809dfe87"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":128610,"millis":0.12861,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:58.694 karate.env system property was: null \n"},{"result":{"nanos":89307,"millis":0.089307,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":163012,"millis":0.163012,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":216216,"millis":0.216216,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":10412172,"millis":10.412172,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":222317,"millis":0.222317,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":899467,"millis":0.899467,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":156711,"millis":0.156711,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":8179607,"millis":8.179607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":89206,"millis":0.089206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51404,"millis":0.051404,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":29802,"millis":0.029802,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":608151115,"millis":608.151115,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":619846,"millis":0.619846,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":476235,"millis":0.476235,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":470735,"millis":0.470735,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":457934,"millis":0.457934,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":666649,"millis":0.666649,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":615445,"millis":0.615445,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":164212,"millis":0.164212,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":542240,"millis":0.54224,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":496137,"millis":0.496137,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":497737,"millis":0.497737,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3298945,"millis":3.298945,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":5519610,"millis":5.51961,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.338 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1348600,"millis":1.3486,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203516,"millis":0.203516,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.340 [print] INSPIRE Atom \n"},{"result":{"nanos":1175587,"millis":1.175587,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":196515,"millis":0.196515,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.341 [print] #notpresent \n"},{"result":{"nanos":136510,"millis":0.13651,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":148411,"millis":0.148411,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.341 [print] INSPIRE Atom \n"},{"result":{"nanos":1084981,"millis":1.084981,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177013,"millis":0.177013,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.343 [print] Beheer PDOK \n"},{"result":{"nanos":145511,"millis":0.145511,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.343 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":5157582,"millis":5.157582,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4006998,"millis":4.006998,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3841485,"millis":3.841485,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":660.358689,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","startTime":1631163598689,"refId":"[1.4:67]","endTime":1631163599356,"exampleData":{"datasetIdentifierCode":"88a337a9-bed3-4d79-80fa-ff4b45990d7d"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24802,"millis":0.024802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.342 karate.env system property was: null \n"},{"result":{"nanos":58905,"millis":0.058905,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65005,"millis":0.065005,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79506,"millis":0.079506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":388529,"millis":0.388529,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112808,"millis":0.112808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":574143,"millis":0.574143,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66305,"millis":0.066305,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1678525,"millis":1.678525,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61804,"millis":0.061804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":8001,"millis":0.008001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558042698,"millis":558.042698,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7201,"millis":0.007201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":898166,"millis":0.898166,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":567142,"millis":0.567142,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":490636,"millis":0.490636,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":481136,"millis":0.481136,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":769557,"millis":0.769557,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2948119,"millis":2.948119,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":152511,"millis":0.152511,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":592444,"millis":0.592444,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":583544,"millis":0.583544,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":616045,"millis":0.616045,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":791858,"millis":0.791858,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1592919,"millis":1.592919,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.915 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":617646,"millis":0.617646,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":601745,"millis":0.601745,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.916 [print] OGC:WMS \n"},{"result":{"nanos":550141,"millis":0.550141,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":521639,"millis":0.521639,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.917 [print] #notpresent \n"},{"result":{"nanos":134210,"millis":0.13421,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":483236,"millis":0.483236,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.918 [print] OGC:WMS \n"},{"result":{"nanos":448333,"millis":0.448333,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":518739,"millis":0.518739,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.919 [print] Beheer PDOK \n"},{"result":{"nanos":866164,"millis":0.866164,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.919 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":567842,"millis":0.567842,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":751556,"millis":0.751556,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":714953,"millis":0.714953,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":578.510217,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a035801a-3256-4a36-9f81-02421aacee17","startTime":1631163599341,"refId":"[1.5:67]","endTime":1631163599922,"exampleData":{"datasetIdentifierCode":"a035801a-3256-4a36-9f81-02421aacee17"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32702,"millis":0.032702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.357 karate.env system property was: null \n"},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80206,"millis":0.080206,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240118,"millis":0.240118,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64405,"millis":0.064405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":38243437,"millis":38.243437,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":240418,"millis":0.240418,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":214116,"millis":0.214116,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75605,"millis":0.075605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44604,"millis":0.044604,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22802,"millis":0.022802,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22402,"millis":0.022402,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":22201,"millis":0.022201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22401,"millis":0.022401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":585754053,"millis":585.754053,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1939344,"millis":1.939344,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":2229466,"millis":2.229466,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2112957,"millis":2.112957,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2108356,"millis":2.108356,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2494686,"millis":2.494686,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2326773,"millis":2.326773,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":141310,"millis":0.14131,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1675225,"millis":1.675225,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1564216,"millis":1.564216,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1795634,"millis":1.795634,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":379528,"millis":0.379528,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1060879,"millis":1.060879,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.002 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1853838,"millis":1.853838,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":701752,"millis":0.701752,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.005 [print] #notpresent \n"},{"result":{"nanos":1782032,"millis":1.782032,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":906467,"millis":0.906467,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.008 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":177313,"millis":0.177313,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":550841,"millis":0.550841,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.009 [print] #notpresent \n"},{"result":{"nanos":2225965,"millis":2.225965,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":559442,"millis":0.559442,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.011 [print] Beheer PDOK \n"},{"result":{"nanos":830962,"millis":0.830962,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.012 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":15832875,"millis":15.832875,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1323498,"millis":1.323498,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":594244,"millis":0.594244,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":672.375982,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","startTime":1631163599350,"refId":"[1.6:67]","endTime":1631163600030,"exampleData":{"datasetIdentifierCode":"9c5351c8-d8f4-41c2-9642-42a63496a6fe"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":167512,"millis":0.167512,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.359 karate.env system property was: null \n"},{"result":{"nanos":199515,"millis":0.199515,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":214116,"millis":0.214116,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":235517,"millis":0.235517,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427731,"millis":0.427731,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":197315,"millis":0.197315,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":561642,"millis":0.561642,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":167512,"millis":0.167512,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":223217,"millis":0.223217,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78506,"millis":0.078506,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56405,"millis":0.056405,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35703,"millis":0.035703,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25101,"millis":0.025101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":23802,"millis":0.023802,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22802,"millis":0.022802,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533696291,"millis":533.696291,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":587544,"millis":0.587544,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":659649,"millis":0.659649,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":647848,"millis":0.647848,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":612246,"millis":0.612246,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":723753,"millis":0.723753,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":736354,"millis":0.736354,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120309,"millis":0.120309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":598945,"millis":0.598945,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":595344,"millis":0.595344,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":592744,"millis":0.592744,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172713,"millis":0.172713,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188914,"millis":0.188914,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:59.927 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n"},{"result":{"nanos":5171184,"millis":5.171184,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":260719,"millis":0.260719,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:59.933 [print] #notpresent \n"},{"result":{"nanos":671150,"millis":0.67115,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":230717,"millis":0.230717,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:59.934 [print] OGC:WMS \n"},{"result":{"nanos":176113,"millis":0.176113,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":2980721,"millis":2.980721,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:59.937 [print] #notpresent \n"},{"result":{"nanos":720153,"millis":0.720153,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":639148,"millis":0.639148,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:59.938 [print] Beheer PDOK \n"},{"result":{"nanos":841962,"millis":0.841962,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:59.939 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":699052,"millis":0.699052,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":652948,"millis":0.652948,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5137881,"millis":5.137881,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.7903,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","startTime":1631163599359,"refId":"[1.7:67]","endTime":1631163599946,"exampleData":{"datasetIdentifierCode":"c474b492-da63-4a33-9bdd-b3709ce2cd6c"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":82906,"millis":0.082906,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.462 karate.env system property was: null \n"},{"result":{"nanos":78406,"millis":0.078406,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":475036,"millis":0.475036,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":212216,"millis":0.212216,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":708752,"millis":0.708752,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":188014,"millis":0.188014,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":531239,"millis":0.531239,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":139111,"millis":0.139111,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":256619,"millis":0.256619,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":72205,"millis":0.072205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44403,"millis":0.044403,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24502,"millis":0.024502,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20801,"millis":0.020801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":29002,"millis":0.029002,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17802,"millis":0.017802,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550908169,"millis":550.908169,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1732228,"millis":1.732228,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":2999623,"millis":2.999623,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2297971,"millis":2.297971,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2185462,"millis":2.185462,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":12452224,"millis":12.452224,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2269169,"millis":2.269169,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1631321,"millis":1.631321,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4014198,"millis":4.014198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1863839,"millis":1.863839,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":254319,"millis":0.254319,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":751156,"millis":0.751156,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.050 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1636021,"millis":1.636021,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":550841,"millis":0.550841,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.052 [print] #notpresent \n"},{"result":{"nanos":1762830,"millis":1.76283,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":766356,"millis":0.766356,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.055 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":128909,"millis":0.128909,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":464735,"millis":0.464735,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.055 [print] #notpresent \n"},{"result":{"nanos":2377876,"millis":2.377876,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":509638,"millis":0.509638,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.058 [print] Beheer PDOK \n"},{"result":{"nanos":702953,"millis":0.702953,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.059 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2375076,"millis":2.375076,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":846962,"millis":0.846962,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":626246,"millis":0.626246,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":599.055041,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b0119753-5625-4500-9df3-13823ff9868f","startTime":1631163599461,"refId":"[1.8:67]","endTime":1631163600063,"exampleData":{"datasetIdentifierCode":"b0119753-5625-4500-9df3-13823ff9868f"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":84907,"millis":0.084907,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.928 karate.env system property was: null \n"},{"result":{"nanos":58104,"millis":0.058104,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":241518,"millis":0.241518,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":2323272,"millis":2.323272,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":426832,"millis":0.426832,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":201515,"millis":0.201515,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":4038399,"millis":4.038399,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":167312,"millis":0.167312,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":4784655,"millis":4.784655,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":355427,"millis":0.355427,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26602,"millis":0.026602,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22102,"millis":0.022102,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":21402,"millis":0.021402,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21702,"millis":0.021702,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":611224743,"millis":611.224743,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":507338,"millis":0.507338,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":529540,"millis":0.52954,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":509938,"millis":0.509938,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":491936,"millis":0.491936,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":572743,"millis":0.572743,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":534440,"millis":0.53444,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56204,"millis":0.056204,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":461234,"millis":0.461234,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":445634,"millis":0.445634,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":427032,"millis":0.427032,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":266820,"millis":0.26682,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":311323,"millis":0.311323,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.558 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2009\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":473135,"millis":0.473135,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180714,"millis":0.180714,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.559 [print] #notpresent \n"},{"result":{"nanos":597844,"millis":0.597844,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222116,"millis":0.222116,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.560 [print] INSPIRE Atom \n"},{"result":{"nanos":224917,"millis":0.224917,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":200915,"millis":0.200915,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.560 [print] #notpresent \n"},{"result":{"nanos":562442,"millis":0.562442,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":172613,"millis":0.172613,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.561 [print] Beheer PDOK \n"},{"result":{"nanos":127609,"millis":0.127609,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.561 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\"] \n"},{"result":{"nanos":698952,"millis":0.698952,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":949571,"millis":0.949571,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":673150,"millis":0.67315,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":634.278357,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e91719b1-a139-42cf-8a1a-db78cd7477f8","startTime":1631163599925,"refId":"[1.9:67]","endTime":1631163600564,"exampleData":{"datasetIdentifierCode":"e91719b1-a139-42cf-8a1a-db78cd7477f8"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34703,"millis":0.034703,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:59.948 karate.env system property was: null \n"},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55404,"millis":0.055404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66005,"millis":0.066005,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281121,"millis":0.281121,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61504,"millis":0.061504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":510338,"millis":0.510338,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80106,"millis":0.080106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61304,"millis":0.061304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":7801,"millis":0.007801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":591805603,"millis":591.805603,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":745855,"millis":0.745855,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":663249,"millis":0.663249,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":591843,"millis":0.591843,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":593844,"millis":0.593844,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":610145,"millis":0.610145,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":538440,"millis":0.53844,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35203,"millis":0.035203,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":406530,"millis":0.40653,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":454834,"millis":0.454834,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":526340,"millis":0.52634,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143911,"millis":0.143911,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":922168,"millis":0.922168,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.550 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1367001,"millis":1.367001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":4439630,"millis":4.43963,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.556 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":10132952,"millis":10.132952,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":673650,"millis":0.67365,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.566 [print] #notpresent \n"},{"result":{"nanos":90506,"millis":0.090506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":676050,"millis":0.67605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.567 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":3225539,"millis":3.225539,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1731129,"millis":1.731129,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.572 [print] Beheer PDOK \n"},{"result":{"nanos":200215,"millis":0.200215,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.572 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":630247,"millis":0.630247,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1292096,"millis":1.292096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":563142,"millis":0.563142,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":624.377519,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7681eb19-a914-4dc7-9208-c2a131dca06d","startTime":1631163599948,"refId":"[1.10:67]","endTime":1631163600575,"exampleData":{"datasetIdentifierCode":"7681eb19-a914-4dc7-9208-c2a131dca06d"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79005,"millis":0.079005,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.035 karate.env system property was: null \n"},{"result":{"nanos":64804,"millis":0.064804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":163112,"millis":0.163112,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174913,"millis":0.174913,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374328,"millis":0.374328,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":174213,"millis":0.174213,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524039,"millis":0.524039,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58705,"millis":0.058705,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":7290841,"millis":7.290841,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25202,"millis":0.025202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73206,"millis":0.073206,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536505800,"millis":536.5058,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":500337,"millis":0.500337,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":570842,"millis":0.570842,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":534240,"millis":0.53424,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":486936,"millis":0.486936,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":619746,"millis":0.619746,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":577543,"millis":0.577543,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":492036,"millis":0.492036,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":392529,"millis":0.392529,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":431432,"millis":0.431432,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93207,"millis":0.093207,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":5543911,"millis":5.543911,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.592 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2009\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":550440,"millis":0.55044,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":279421,"millis":0.279421,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.593 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":540440,"millis":0.54044,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":306723,"millis":0.306723,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.593 [print] #notpresent \n"},{"result":{"nanos":108808,"millis":0.108808,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":229417,"millis":0.229417,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.594 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":590844,"millis":0.590844,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":260220,"millis":0.26022,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.595 [print] Beheer PDOK \n"},{"result":{"nanos":182813,"millis":0.182813,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.595 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":561342,"millis":0.561342,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":716853,"millis":0.716853,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5965242,"millis":5.965242,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":566.144898,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7e450110-f643-4b73-9262-4f13966cffc6","startTime":1631163600034,"refId":"[1.11:67]","endTime":1631163600602,"exampleData":{"datasetIdentifierCode":"7e450110-f643-4b73-9262-4f13966cffc6"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.067 karate.env system property was: null \n"},{"result":{"nanos":76506,"millis":0.076506,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62304,"millis":0.062304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81406,"millis":0.081406,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309923,"millis":0.309923,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128710,"millis":0.12871,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3387052,"millis":3.387052,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76906,"millis":0.076906,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":549040,"millis":0.54904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33202,"millis":0.033202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25202,"millis":0.025202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":109208,"millis":0.109208,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":6801,"millis":0.006801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540191573,"millis":540.191573,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":900367,"millis":0.900367,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":1128484,"millis":1.128484,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1232892,"millis":1.232892,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1096881,"millis":1.096881,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1252593,"millis":1.252593,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2356474,"millis":2.356474,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55604,"millis":0.055604,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":826761,"millis":0.826761,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":7310142,"millis":7.310142,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1125083,"millis":1.125083,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":366327,"millis":0.366327,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":796559,"millis":0.796559,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:00.631 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1040378,"millis":1.040378,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":387629,"millis":0.387629,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:00.633 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":935270,"millis":0.93527,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":256619,"millis":0.256619,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:00.634 [print] #notpresent \n"},{"result":{"nanos":61104,"millis":0.061104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":263020,"millis":0.26302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:00.635 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1277895,"millis":1.277895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":252019,"millis":0.252019,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:00.636 [print] Beheer PDOK \n"},{"result":{"nanos":218316,"millis":0.218316,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:00.636 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":1234592,"millis":1.234592,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":835962,"millis":0.835962,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":610946,"millis":0.610946,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":570.913954,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","startTime":1631163600066,"refId":"[1.12:67]","endTime":1631163600639,"exampleData":{"datasetIdentifierCode":"1ce74355-763a-481d-b9d7-aaafbf0d7d53"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24702,"millis":0.024702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.568 karate.env system property was: null \n"},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62204,"millis":0.062204,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79206,"millis":0.079206,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":323024,"millis":0.323024,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":618246,"millis":0.618246,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65004,"millis":0.065004,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1172687,"millis":1.172687,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27802,"millis":0.027802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76906,"millis":0.076906,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524404002,"millis":524.404002,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1105182,"millis":1.105182,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":1123084,"millis":1.123084,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":775458,"millis":0.775458,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":763557,"millis":0.763557,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":755356,"millis":0.755356,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":682851,"millis":0.682851,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49904,"millis":0.049904,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":493736,"millis":0.493736,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":530339,"millis":0.530339,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":553241,"millis":0.553241,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":120109,"millis":0.120109,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":885965,"millis":0.885965,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.104 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":547641,"millis":0.547641,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":537239,"millis":0.537239,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.105 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":460534,"millis":0.460534,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":421431,"millis":0.421431,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.106 [print] #notpresent \n"},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":381528,"millis":0.381528,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.106 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":544341,"millis":0.544341,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":356626,"millis":0.356626,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.107 [print] Beheer PDOK \n"},{"result":{"nanos":1331599,"millis":1.331599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.108 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":592744,"millis":0.592744,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4003097,"millis":4.003097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":878666,"millis":0.878666,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.998829,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1631163600567,"refId":"[1.13:67]","endTime":1631163601114,"exampleData":{"datasetIdentifierCode":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.597 karate.env system property was: null \n"},{"result":{"nanos":45304,"millis":0.045304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72006,"millis":0.072006,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66605,"millis":0.066605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":285321,"millis":0.285321,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64305,"millis":0.064305,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":530039,"millis":0.530039,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59504,"millis":0.059504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2369776,"millis":2.369776,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36603,"millis":0.036603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67405,"millis":0.067405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":7501,"millis":0.007501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":593925460,"millis":593.92546,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8701,"millis":0.008701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":846863,"millis":0.846863,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":1044777,"millis":1.044777,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":845963,"millis":0.845963,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822961,"millis":0.822961,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":544240,"millis":0.54424,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504638,"millis":0.504638,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33702,"millis":0.033702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":24254899,"millis":24.254899,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":885766,"millis":0.885766,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":574043,"millis":0.574043,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":197915,"millis":0.197915,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1309897,"millis":1.309897,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.227 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":597145,"millis":0.597145,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":259419,"millis":0.259419,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.228 [print] #notpresent \n"},{"result":{"nanos":521639,"millis":0.521639,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":311223,"millis":0.311223,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.229 [print] INSPIRE Atom \n"},{"result":{"nanos":167913,"millis":0.167913,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216716,"millis":0.216716,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.229 [print] #notpresent \n"},{"result":{"nanos":532339,"millis":0.532339,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":259620,"millis":0.25962,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.230 [print] Beheer PDOK \n"},{"result":{"nanos":242218,"millis":0.242218,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.231 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n"},{"result":{"nanos":609545,"millis":0.609545,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1021676,"millis":1.021676,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1009775,"millis":1.009775,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":635.227226,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","startTime":1631163600588,"refId":"[1.14:67]","endTime":1631163601233,"exampleData":{"datasetIdentifierCode":"e27e61d8-25b1-45ee-a2df-071312ba8a69"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.605 karate.env system property was: null \n"},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68405,"millis":0.068405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248119,"millis":0.248119,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63104,"millis":0.063104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":508638,"millis":0.508638,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52304,"millis":0.052304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":342426,"millis":0.342426,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58804,"millis":0.058804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526564463,"millis":526.564463,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":434732,"millis":0.434732,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":419831,"millis":0.419831,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":384529,"millis":0.384529,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":390029,"millis":0.390029,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433632,"millis":0.433632,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":486236,"millis":0.486236,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34502,"millis":0.034502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":360126,"millis":0.360126,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415231,"millis":0.415231,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394230,"millis":0.39423,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82607,"millis":0.082607,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":146311,"millis":0.146311,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.137 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":607845,"millis":0.607845,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145511,"millis":0.145511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.138 [print] #notpresent \n"},{"result":{"nanos":541240,"millis":0.54124,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145211,"millis":0.145211,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.139 [print] OGC:WFS \n"},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98007,"millis":0.098007,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.139 [print] #notpresent \n"},{"result":{"nanos":900267,"millis":0.900267,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114408,"millis":0.114408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.140 [print] Beheer PDOK \n"},{"result":{"nanos":260019,"millis":0.260019,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.140 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":535839,"millis":0.535839,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680050,"millis":0.68005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":654049,"millis":0.654049,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.809023,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","startTime":1631163600604,"refId":"[1.15:67]","endTime":1631163601142,"exampleData":{"datasetIdentifierCode":"e9ba7d7f-6cd1-4271-bce4-56432924b338"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24902,"millis":0.024902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:00.642 karate.env system property was: null \n"},{"result":{"nanos":42203,"millis":0.042203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68205,"millis":0.068205,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69605,"millis":0.069605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":270320,"millis":0.27032,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62604,"millis":0.062604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":530039,"millis":0.530039,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54504,"millis":0.054504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":236317,"millis":0.236317,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20502,"millis":0.020502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":609527317,"millis":609.527317,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1945444,"millis":1.945444,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":3295144,"millis":3.295144,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3046126,"millis":3.046126,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2981321,"millis":2.981321,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3684773,"millis":3.684773,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3327047,"millis":3.327047,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":132810,"millis":0.13281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2016250,"millis":2.01625,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2041052,"millis":2.041052,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2579892,"millis":2.579892,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":700152,"millis":0.700152,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":565942,"millis":0.565942,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.280 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":3842285,"millis":3.842285,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":357527,"millis":0.357527,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.284 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3143834,"millis":3.143834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":488836,"millis":0.488836,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.288 [print] #notpresent \n"},{"result":{"nanos":244518,"millis":0.244518,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":555541,"millis":0.555541,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.289 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3422754,"millis":3.422754,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":283821,"millis":0.283821,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.292 [print] Beheer PDOK \n"},{"result":{"nanos":242218,"millis":0.242218,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.293 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":3119632,"millis":3.119632,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":652248,"millis":0.652248,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":634147,"millis":0.634147,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":654.331641,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","startTime":1631163600641,"refId":"[1.16:67]","endTime":1631163601297,"exampleData":{"datasetIdentifierCode":"9c4862c3-0bab-49c3-bc2f-ac5486826766"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24902,"millis":0.024902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.119 karate.env system property was: null \n"},{"result":{"nanos":41903,"millis":0.041903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59204,"millis":0.059204,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113108,"millis":0.113108,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311823,"millis":0.311823,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123909,"millis":0.123909,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":556741,"millis":0.556741,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58504,"millis":0.058504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":210815,"millis":0.210815,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23502,"millis":0.023502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19402,"millis":0.019402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66205,"millis":0.066205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547403609,"millis":547.403609,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":782258,"millis":0.782258,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":591944,"millis":0.591944,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":521739,"millis":0.521739,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":490236,"millis":0.490236,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":769258,"millis":0.769258,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698252,"millis":0.698252,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":124409,"millis":0.124409,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":410731,"millis":0.410731,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":586743,"millis":0.586743,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":639647,"millis":0.639647,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":205316,"millis":0.205316,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":283121,"millis":0.283121,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.679 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1221691,"millis":1.221691,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":218416,"millis":0.218416,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.680 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":853164,"millis":0.853164,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":181213,"millis":0.181213,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.681 [print] #notpresent \n"},{"result":{"nanos":420532,"millis":0.420532,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":162012,"millis":0.162012,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.682 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":532440,"millis":0.53244,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":183513,"millis":0.183513,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.683 [print] Beheer PDOK \n"},{"result":{"nanos":195414,"millis":0.195414,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.683 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":552441,"millis":0.552441,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":620146,"millis":0.620146,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":477335,"millis":0.477335,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.763802,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"280cee65-1b66-4973-a569-75122e0b745b","startTime":1631163601119,"refId":"[1.17:67]","endTime":1631163601686,"exampleData":{"datasetIdentifierCode":"280cee65-1b66-4973-a569-75122e0b745b"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.145 karate.env system property was: null \n"},{"result":{"nanos":48404,"millis":0.048404,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64105,"millis":0.064105,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64304,"millis":0.064304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248818,"millis":0.248818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58205,"millis":0.058205,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":517539,"millis":0.517539,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":157412,"millis":0.157412,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23402,"millis":0.023402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20602,"millis":0.020602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62005,"millis":0.062005,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":628906755,"millis":628.906755,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2553889,"millis":2.553889,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":3091929,"millis":3.091929,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2819410,"millis":2.81941,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3003423,"millis":3.003423,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3400752,"millis":3.400752,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2854111,"millis":2.854111,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120208,"millis":0.120208,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1788033,"millis":1.788033,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2979921,"millis":2.979921,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2242467,"millis":2.242467,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":676150,"millis":0.67615,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":238818,"millis":0.238818,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.801 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1981747,"millis":1.981747,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1295397,"millis":1.295397,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.805 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2096356,"millis":2.096356,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":235017,"millis":0.235017,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.807 [print] #notpresent \n"},{"result":{"nanos":491736,"millis":0.491736,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":544841,"millis":0.544841,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.808 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":8354920,"millis":8.35492,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":209915,"millis":0.209915,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.817 [print] Beheer PDOK \n"},{"result":{"nanos":500037,"millis":0.500037,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.818 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":4015298,"millis":4.015298,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":574742,"millis":0.574742,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":569642,"millis":0.569642,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":676.91252,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4f4c7848-1767-4c67-be08-87d45d07f313","startTime":1631163601144,"refId":"[1.18:67]","endTime":1631163601823,"exampleData":{"datasetIdentifierCode":"4f4c7848-1767-4c67-be08-87d45d07f313"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":78606,"millis":0.078606,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.237 karate.env system property was: null \n"},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":158912,"millis":0.158912,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":156311,"millis":0.156311,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":583744,"millis":0.583744,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":194214,"millis":0.194214,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":551041,"millis":0.551041,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":724654,"millis":0.724654,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":260920,"millis":0.26092,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73105,"millis":0.073105,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21602,"millis":0.021602,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16902,"millis":0.016902,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15802,"millis":0.015802,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548374481,"millis":548.374481,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7201,"millis":0.007201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":515538,"millis":0.515538,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":573942,"millis":0.573942,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":551641,"millis":0.551641,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":467535,"millis":0.467535,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661349,"millis":0.661349,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":626347,"millis":0.626347,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117308,"millis":0.117308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":445533,"millis":0.445533,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":448533,"millis":0.448533,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":478136,"millis":0.478136,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":387029,"millis":0.387029,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.796 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":11750672,"millis":11.750672,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":236118,"millis":0.236118,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.808 [print] OGC:WFS \n"},{"result":{"nanos":633447,"millis":0.633447,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":181514,"millis":0.181514,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.809 [print] #notpresent \n"},{"result":{"nanos":73606,"millis":0.073606,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130410,"millis":0.13041,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.809 [print] OGC:WFS \n"},{"result":{"nanos":863264,"millis":0.863264,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":186914,"millis":0.186914,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.810 [print] Beheer PDOK \n"},{"result":{"nanos":108608,"millis":0.108608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.810 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":534840,"millis":0.53484,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1497311,"millis":1.497311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1157385,"millis":1.157385,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":574.403416,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","startTime":1631163601237,"refId":"[1.19:67]","endTime":1631163601813,"exampleData":{"datasetIdentifierCode":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":90707,"millis":0.090707,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.300 karate.env system property was: null \n"},{"result":{"nanos":61304,"millis":0.061304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162412,"millis":0.162412,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174413,"millis":0.174413,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416231,"millis":0.416231,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":196515,"millis":0.196515,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":582443,"millis":0.582443,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":168013,"millis":0.168013,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":231217,"millis":0.231217,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69305,"millis":0.069305,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":67905,"millis":0.067905,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35102,"millis":0.035102,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23702,"millis":0.023702,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":17602,"millis":0.017602,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554146809,"millis":554.146809,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1040677,"millis":1.040677,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":494836,"millis":0.494836,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1251293,"millis":1.251293,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":467635,"millis":0.467635,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":405930,"millis":0.40593,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45403,"millis":0.045403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307922,"millis":0.307922,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":287522,"millis":0.287522,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":285321,"millis":0.285321,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":578143,"millis":0.578143,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":886866,"millis":0.886866,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:01.864 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":382929,"millis":0.382929,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":490436,"millis":0.490436,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:01.865 [print] OGC:WMS \n"},{"result":{"nanos":408730,"millis":0.40873,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":469335,"millis":0.469335,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:01.866 [print] #notpresent \n"},{"result":{"nanos":60305,"millis":0.060305,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":399030,"millis":0.39903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:01.866 [print] OGC:WMS \n"},{"result":{"nanos":416131,"millis":0.416131,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":468535,"millis":0.468535,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:01.867 [print] Beheer PDOK \n"},{"result":{"nanos":737955,"millis":0.737955,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:01.868 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":438033,"millis":0.438033,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":766857,"millis":0.766857,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":532740,"millis":0.53274,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.529879,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","startTime":1631163601300,"refId":"[1.20:67]","endTime":1631163601870,"exampleData":{"datasetIdentifierCode":"dd49e02c-ea87-4ffc-89dd-f888608d95b7"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74305,"millis":0.074305,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.689 karate.env system property was: null \n"},{"result":{"nanos":64905,"millis":0.064905,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":160412,"millis":0.160412,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":171912,"millis":0.171912,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373527,"millis":0.373527,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162012,"millis":0.162012,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":454534,"millis":0.454534,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":148711,"millis":0.148711,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":60104,"millis":0.060104,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":350826,"millis":0.350826,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561669366,"millis":561.669366,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1044677,"millis":1.044677,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":921668,"millis":0.921668,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":503938,"millis":0.503938,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":474535,"millis":0.474535,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":585943,"millis":0.585943,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":552941,"millis":0.552941,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79906,"millis":0.079906,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403330,"millis":0.40333,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":398029,"millis":0.398029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":401229,"millis":0.401229,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97508,"millis":0.097508,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":5812531,"millis":5.812531,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.265 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":485136,"millis":0.485136,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1916543,"millis":1.916543,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.268 [print] OGC:WMS \n"},{"result":{"nanos":460834,"millis":0.460834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":244318,"millis":0.244318,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.268 [print] #notpresent \n"},{"result":{"nanos":60104,"millis":0.060104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136110,"millis":0.13611,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.269 [print] OGC:WMS \n"},{"result":{"nanos":517838,"millis":0.517838,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":157312,"millis":0.157312,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.269 [print] Beheer PDOK \n"},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.269 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":485336,"millis":0.485336,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":726854,"millis":0.726854,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":581343,"millis":0.581343,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":581.118304,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"275b64ab-34c2-41f8-8904-97812c7f716e","startTime":1631163601688,"refId":"[1.21:67]","endTime":1631163602271,"exampleData":{"datasetIdentifierCode":"275b64ab-34c2-41f8-8904-97812c7f716e"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24302,"millis":0.024302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.817 karate.env system property was: null \n"},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":152012,"millis":0.152012,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89506,"millis":0.089506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366727,"millis":0.366727,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":85506,"millis":0.085506,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488136,"millis":0.488136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58504,"millis":0.058504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":138510,"millis":0.13851,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66205,"millis":0.066205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550182615,"millis":550.182615,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7501,"millis":0.007501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":585543,"millis":0.585543,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":545040,"millis":0.54504,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":524939,"millis":0.524939,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":509038,"millis":0.509038,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":645948,"millis":0.645948,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":584943,"millis":0.584943,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":424131,"millis":0.424131,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":427132,"millis":0.427132,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417431,"millis":0.417431,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100607,"millis":0.100607,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188414,"millis":0.188414,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.374 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":5890437,"millis":5.890437,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":628447,"millis":0.628447,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.381 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":797759,"millis":0.797759,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1966246,"millis":1.966246,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.384 [print] #notpresent \n"},{"result":{"nanos":62505,"millis":0.062505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137311,"millis":0.137311,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.384 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":525039,"millis":0.525039,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159111,"millis":0.159111,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.385 [print] Beheer PDOK \n"},{"result":{"nanos":112509,"millis":0.112509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.385 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":559041,"millis":0.559041,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":777158,"millis":0.777158,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":590244,"millis":0.590244,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.968908,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","startTime":1631163601816,"refId":"[1.22:67]","endTime":1631163602387,"exampleData":{"datasetIdentifierCode":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71905,"millis":0.071905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.826 karate.env system property was: null \n"},{"result":{"nanos":69805,"millis":0.069805,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148811,"millis":0.148811,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":183113,"millis":0.183113,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403530,"millis":0.40353,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":175313,"millis":0.175313,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":506837,"millis":0.506837,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":139111,"millis":0.139111,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":528339,"millis":0.528339,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":90607,"millis":0.090607,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23902,"millis":0.023902,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":78306,"millis":0.078306,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540167371,"millis":540.167371,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553942,"millis":0.553942,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":592144,"millis":0.592144,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":572743,"millis":0.572743,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":518638,"millis":0.518638,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":695752,"millis":0.695752,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586744,"millis":0.586744,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":856463,"millis":0.856463,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3593667,"millis":3.593667,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":505538,"millis":0.505538,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":470535,"millis":0.470535,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":194814,"millis":0.194814,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":176213,"millis":0.176213,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.379 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":475835,"millis":0.475835,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":190414,"millis":0.190414,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.379 [print] OGC:WMS \n"},{"result":{"nanos":533339,"millis":0.533339,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":190414,"millis":0.190414,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.380 [print] #notpresent \n"},{"result":{"nanos":64905,"millis":0.064905,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125109,"millis":0.125109,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.380 [print] OGC:WMS \n"},{"result":{"nanos":659549,"millis":0.659549,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1143185,"millis":1.143185,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.382 [print] Beheer PDOK \n"},{"result":{"nanos":238018,"millis":0.238018,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.382 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":550741,"millis":0.550741,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4076503,"millis":4.076503,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":570442,"millis":0.570442,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.844504,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a1ed8a00-da07-472e-9627-99175d437c94","startTime":1631163601825,"refId":"[1.23:67]","endTime":1631163602388,"exampleData":{"datasetIdentifierCode":"a1ed8a00-da07-472e-9627-99175d437c94"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:01.872 karate.env system property was: null \n"},{"result":{"nanos":44804,"millis":0.044804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53404,"millis":0.053404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112908,"millis":0.112908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":258819,"millis":0.258819,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60805,"millis":0.060805,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474535,"millis":0.474535,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":462234,"millis":0.462234,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":90207,"millis":0.090207,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":635213423,"millis":635.213423,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":572742,"millis":0.572742,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":1633321,"millis":1.633321,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":554042,"millis":0.554042,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":494836,"millis":0.494836,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":675050,"millis":0.67505,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":555141,"millis":0.555141,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39102,"millis":0.039102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":402330,"millis":0.40233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":431532,"millis":0.431532,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":452933,"millis":0.452933,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":252019,"millis":0.252019,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1033277,"millis":1.033277,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.517 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":486036,"millis":0.486036,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":258920,"millis":0.25892,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.518 [print] OGC:WMS \n"},{"result":{"nanos":463735,"millis":0.463735,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183213,"millis":0.183213,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.519 [print] #notpresent \n"},{"result":{"nanos":59505,"millis":0.059505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":188014,"millis":0.188014,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.519 [print] OGC:WMS \n"},{"result":{"nanos":509438,"millis":0.509438,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205315,"millis":0.205315,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.520 [print] Beheer PDOK \n"},{"result":{"nanos":113909,"millis":0.113909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.520 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":515938,"millis":0.515938,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":912868,"millis":0.912868,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":568843,"millis":0.568843,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":648.487608,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"62dc32f1-853c-416a-876b-6e083554f1b6","startTime":1631163601872,"refId":"[1.24:67]","endTime":1631163602522,"exampleData":{"datasetIdentifierCode":"62dc32f1-853c-416a-876b-6e083554f1b6"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24002,"millis":0.024002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:02.274 karate.env system property was: null \n"},{"result":{"nanos":42203,"millis":0.042203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60005,"millis":0.060005,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":135310,"millis":0.13531,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":845063,"millis":0.845063,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":95607,"millis":0.095607,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":700552,"millis":0.700552,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79806,"millis":0.079806,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":224016,"millis":0.224016,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37403,"millis":0.037403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7901,"millis":0.007901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":93707,"millis":0.093707,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527583039,"millis":527.583039,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":666349,"millis":0.666349,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":510737,"millis":0.510737,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":445733,"millis":0.445733,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443833,"millis":0.443833,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":567943,"millis":0.567943,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":537440,"millis":0.53744,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33802,"millis":0.033802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369027,"millis":0.369027,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":393129,"millis":0.393129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395629,"millis":0.395629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90107,"millis":0.090107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":826461,"millis":0.826461,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.810 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":460234,"millis":0.460234,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":524639,"millis":0.524639,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.811 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":469234,"millis":0.469234,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":443033,"millis":0.443033,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.812 [print] #notpresent \n"},{"result":{"nanos":75905,"millis":0.075905,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":442033,"millis":0.442033,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.813 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":562742,"millis":0.562742,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":457034,"millis":0.457034,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.814 [print] Beheer PDOK \n"},{"result":{"nanos":903767,"millis":0.903767,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.815 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":510038,"millis":0.510038,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":827461,"millis":0.827461,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":510538,"millis":0.510538,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.458067,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"4041f923-6b77-4816-bf46-437e85416c31","startTime":1631163602273,"refId":"[1.25:67]","endTime":1631163602817,"exampleData":{"datasetIdentifierCode":"4041f923-6b77-4816-bf46-437e85416c31"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25402,"millis":0.025402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:02.396 karate.env system property was: null \n"},{"result":{"nanos":38303,"millis":0.038303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56904,"millis":0.056904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66105,"millis":0.066105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347626,"millis":0.347626,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81506,"millis":0.081506,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479636,"millis":0.479636,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54504,"millis":0.054504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":272921,"millis":0.272921,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19502,"millis":0.019502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7601,"millis":0.007601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":144911,"millis":0.144911,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":607890696,"millis":607.890696,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":527239,"millis":0.527239,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":502237,"millis":0.502237,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":449534,"millis":0.449534,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1031576,"millis":1.031576,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":641648,"millis":0.641648,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":644448,"millis":0.644448,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":112908,"millis":0.112908,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":519939,"millis":0.519939,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6448679,"millis":6.448679,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":531540,"millis":0.53154,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":549341,"millis":0.549341,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":713153,"millis":0.713153,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.019 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n"},{"result":{"nanos":555741,"millis":0.555741,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":525239,"millis":0.525239,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.020 [print] OGC:WFS \n"},{"result":{"nanos":516338,"millis":0.516338,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":555841,"millis":0.555841,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.021 [print] #notpresent \n"},{"result":{"nanos":148011,"millis":0.148011,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":498937,"millis":0.498937,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.022 [print] OGC:WFS \n"},{"result":{"nanos":532140,"millis":0.53214,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":470735,"millis":0.470735,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.023 [print] Beheer PDOK \n"},{"result":{"nanos":778057,"millis":0.778057,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.024 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":508937,"millis":0.508937,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":555941,"millis":0.555941,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":510338,"millis":0.510338,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":628.367618,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e75b66ae-21b1-4303-aeb3-787608707b23","startTime":1631163602394,"refId":"[1.26:67]","endTime":1631163603026,"exampleData":{"datasetIdentifierCode":"e75b66ae-21b1-4303-aeb3-787608707b23"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25402,"millis":0.025402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:02.393 karate.env system property was: null \n"},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72706,"millis":0.072706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85207,"millis":0.085207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":292222,"millis":0.292222,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63705,"millis":0.063705,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2203963,"millis":2.203963,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77206,"millis":0.077206,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":378128,"millis":0.378128,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":261520,"millis":0.26152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":783759,"millis":0.783759,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7201,"millis":0.007201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547860543,"millis":547.860543,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":576043,"millis":0.576043,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":498737,"millis":0.498737,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432432,"millis":0.432432,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":408930,"millis":0.40893,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":10434674,"millis":10.434674,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":582743,"millis":0.582743,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42803,"millis":0.042803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413430,"millis":0.41343,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":384828,"millis":0.384828,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":364227,"millis":0.364227,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":789559,"millis":0.789559,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":700052,"millis":0.700052,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:02.963 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":419431,"millis":0.419431,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":8075299,"millis":8.075299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:02.964 [print] OGC:WMS \n"},{"result":{"nanos":388029,"millis":0.388029,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":447833,"millis":0.447833,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:02.972 [print] #notpresent \n"},{"result":{"nanos":60305,"millis":0.060305,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":407131,"millis":0.407131,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:02.973 [print] OGC:WMS \n"},{"result":{"nanos":19630256,"millis":19.630256,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":349926,"millis":0.349926,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:02.993 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":141110,"millis":0.14111,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:02.993 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":372228,"millis":0.372228,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640547,"millis":0.640547,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":555442,"millis":0.555442,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":599.343164,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","startTime":1631163602393,"refId":"[1.27:67]","endTime":1631163602995,"exampleData":{"datasetIdentifierCode":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24202,"millis":0.024202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:02.524 karate.env system property was: null \n"},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60205,"millis":0.060205,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72706,"millis":0.072706,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279221,"millis":0.279221,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":84407,"millis":0.084407,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":884766,"millis":0.884766,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69005,"millis":0.069005,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150211,"millis":0.150211,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25802,"millis":0.025802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22502,"millis":0.022502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68805,"millis":0.068805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523424629,"millis":523.424629,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510338,"millis":0.510338,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":448833,"millis":0.448833,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":439333,"millis":0.439333,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":970872,"millis":0.970872,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":585443,"millis":0.585443,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":549440,"millis":0.54944,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":128209,"millis":0.128209,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":400130,"millis":0.40013,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411031,"millis":0.411031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3278343,"millis":3.278343,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":372528,"millis":0.372528,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":310123,"millis":0.310123,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.059 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":480436,"millis":0.480436,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":329324,"millis":0.329324,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.059 [print] OGC:WMS \n"},{"result":{"nanos":445833,"millis":0.445833,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":306423,"millis":0.306423,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.060 [print] #notpresent \n"},{"result":{"nanos":119709,"millis":0.119709,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":242318,"millis":0.242318,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.061 [print] OGC:WMS \n"},{"result":{"nanos":417231,"millis":0.417231,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":293022,"millis":0.293022,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.061 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":247418,"millis":0.247418,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.062 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":410531,"millis":0.410531,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554841,"millis":0.554841,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1139785,"millis":1.139785,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.62876,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"87a382da-c6dc-403c-a006-2379eb6daaa6","startTime":1631163602524,"refId":"[1.28:67]","endTime":1631163603064,"exampleData":{"datasetIdentifierCode":"87a382da-c6dc-403c-a006-2379eb6daaa6"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24102,"millis":0.024102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:02.819 karate.env system property was: null \n"},{"result":{"nanos":37903,"millis":0.037903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89907,"millis":0.089907,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":260419,"millis":0.260419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55704,"millis":0.055704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":872564,"millis":0.872564,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57905,"millis":0.057905,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":869365,"millis":0.869365,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58904,"millis":0.058904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519336426,"millis":519.336426,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8201,"millis":0.008201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":656048,"millis":0.656048,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":487836,"millis":0.487836,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402530,"millis":0.40253,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1029077,"millis":1.029077,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":686351,"millis":0.686351,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":546440,"millis":0.54644,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":112609,"millis":0.112609,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413330,"millis":0.41333,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":393529,"millis":0.393529,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":888466,"millis":0.888466,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158011,"millis":0.158011,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":257819,"millis":0.257819,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.347 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":696552,"millis":0.696552,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":219116,"millis":0.219116,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.348 [print] OGC:WFS \n"},{"result":{"nanos":602844,"millis":0.602844,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213516,"millis":0.213516,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.349 [print] #notpresent \n"},{"result":{"nanos":238618,"millis":0.238618,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":196515,"millis":0.196515,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.350 [print] OGC:WFS \n"},{"result":{"nanos":541440,"millis":0.54144,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":190314,"millis":0.190314,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.350 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":310423,"millis":0.310423,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.351 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":1351901,"millis":1.351901,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":693651,"millis":0.693651,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":690451,"millis":0.690451,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.795899,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","startTime":1631163602818,"refId":"[1.29:67]","endTime":1631163603354,"exampleData":{"datasetIdentifierCode":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73205,"millis":0.073205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.012 karate.env system property was: null \n"},{"result":{"nanos":92707,"millis":0.092707,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":149511,"millis":0.149511,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150411,"millis":0.150411,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350126,"millis":0.350126,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":170812,"millis":0.170812,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500137,"millis":0.500137,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137711,"millis":0.137711,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":594144,"millis":0.594144,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":76406,"millis":0.076406,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21102,"millis":0.021102,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":17002,"millis":0.017002,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18602,"millis":0.018602,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":572585677,"millis":572.585677,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8501,"millis":0.008501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":682951,"millis":0.682951,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":1248993,"millis":1.248993,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":582244,"millis":0.582244,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":608545,"millis":0.608545,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":941070,"millis":0.94107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":810461,"millis":0.810461,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":280721,"millis":0.280721,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1124483,"millis":1.124483,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":504237,"millis":0.504237,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":525539,"millis":0.525539,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":267719,"millis":0.267719,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":237718,"millis":0.237718,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.596 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":564842,"millis":0.564842,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":776058,"millis":0.776058,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.598 [print] OGC:WFS \n"},{"result":{"nanos":8365321,"millis":8.365321,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":441632,"millis":0.441632,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.607 [print] #notpresent \n"},{"result":{"nanos":117609,"millis":0.117609,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":156411,"millis":0.156411,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.607 [print] OGC:WFS \n"},{"result":{"nanos":351526,"millis":0.351526,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127309,"millis":0.127309,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.608 [print] Beheer PDOK \n"},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.608 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":426032,"millis":0.426032,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":722053,"millis":0.722053,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2262868,"millis":2.262868,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":597.229807,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"8129296b-b9c1-489f-990a-df4a879e12b2","startTime":1631163603003,"refId":"[1.30:67]","endTime":1631163603611,"exampleData":{"datasetIdentifierCode":"8129296b-b9c1-489f-990a-df4a879e12b2"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70705,"millis":0.070705,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.029 karate.env system property was: null \n"},{"result":{"nanos":54804,"millis":0.054804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144911,"millis":0.144911,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":156111,"millis":0.156111,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":325424,"millis":0.325424,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":168012,"millis":0.168012,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":403530,"millis":0.40353,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":116709,"millis":0.116709,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":511438,"millis":0.511438,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67405,"millis":0.067405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33303,"millis":0.033303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":569508849,"millis":569.508849,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":367727,"millis":0.367727,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":438832,"millis":0.438832,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":975673,"millis":0.975673,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":500537,"millis":0.500537,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":497737,"millis":0.497737,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32902,"millis":0.032902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336325,"millis":0.336325,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344125,"millis":0.344125,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":943670,"millis":0.94367,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":649648,"millis":0.649648,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2830010,"millis":2.83001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.609 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":699552,"millis":0.699552,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136910,"millis":0.13691,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.610 [print] OGC:WFS \n"},{"result":{"nanos":415031,"millis":0.415031,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120609,"millis":0.120609,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.611 [print] #notpresent \n"},{"result":{"nanos":54104,"millis":0.054104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":2377277,"millis":2.377277,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.613 [print] OGC:WFS \n"},{"result":{"nanos":1034177,"millis":1.034177,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123009,"millis":0.123009,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.614 [print] Beheer PDOK \n"},{"result":{"nanos":63304,"millis":0.063304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.614 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":401830,"millis":0.40183,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":506737,"millis":0.506737,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":515338,"millis":0.515338,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":586.433201,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","startTime":1631163603028,"refId":"[1.31:67]","endTime":1631163603616,"exampleData":{"datasetIdentifierCode":"7827b68f-647e-46cc-a02a-cac48eaa5dda"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73005,"millis":0.073005,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.067 karate.env system property was: null \n"},{"result":{"nanos":58605,"millis":0.058605,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":156911,"millis":0.156911,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":196915,"millis":0.196915,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379428,"millis":0.379428,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":199715,"millis":0.199715,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":506538,"millis":0.506538,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142311,"millis":0.142311,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":330625,"millis":0.330625,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73906,"millis":0.073906,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38803,"millis":0.038803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22502,"millis":0.022502,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19502,"millis":0.019502,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20102,"millis":0.020102,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":18302,"millis":0.018302,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18402,"millis":0.018402,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550849764,"millis":550.849764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":465034,"millis":0.465034,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":563442,"millis":0.563442,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1002075,"millis":1.002075,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":487537,"millis":0.487537,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":597444,"millis":0.597444,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":545241,"millis":0.545241,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":939770,"millis":0.93977,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":420031,"millis":0.420031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":481236,"millis":0.481236,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111708,"millis":0.111708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2856712,"millis":2.856712,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.629 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":401930,"millis":0.40193,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":391429,"millis":0.391429,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.630 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":371628,"millis":0.371628,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":195215,"millis":0.195215,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.631 [print] #notpresent \n"},{"result":{"nanos":45203,"millis":0.045203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":118808,"millis":0.118808,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.631 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3705875,"millis":3.705875,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129610,"millis":0.12961,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.635 [print] Beheer PDOK \n"},{"result":{"nanos":73106,"millis":0.073106,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.635 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":528540,"millis":0.52854,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":553841,"millis":0.553841,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":636747,"millis":0.636747,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.765501,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1","startTime":1631163603066,"refId":"[1.32:67]","endTime":1631163603636,"exampleData":{"datasetIdentifierCode":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60805,"millis":0.060805,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.357 karate.env system property was: null \n"},{"result":{"nanos":48603,"millis":0.048603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133710,"millis":0.13371,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136511,"millis":0.136511,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":431933,"millis":0.431933,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":216116,"millis":0.216116,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":546140,"millis":0.54614,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":165512,"millis":0.165512,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":200315,"millis":0.200315,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75406,"millis":0.075406,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31603,"millis":0.031603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536408792,"millis":536.408792,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7301,"millis":0.007301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":554641,"millis":0.554641,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":573143,"millis":0.573143,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":481736,"millis":0.481736,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1042577,"millis":1.042577,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":605845,"millis":0.605845,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":578843,"millis":0.578843,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36303,"millis":0.036303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":380428,"millis":0.380428,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2391677,"millis":2.391677,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435232,"millis":0.435232,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99508,"millis":0.099508,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":4163909,"millis":4.163909,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:03.907 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":490336,"millis":0.490336,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":164512,"millis":0.164512,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:03.908 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":450133,"millis":0.450133,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122209,"millis":0.122209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:03.908 [print] #notpresent \n"},{"result":{"nanos":46903,"millis":0.046903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81106,"millis":0.081106,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:03.909 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":517838,"millis":0.517838,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137910,"millis":0.13791,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:03.909 [print] Beheer PDOK \n"},{"result":{"nanos":71305,"millis":0.071305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:03.909 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1040177,"millis":1.040177,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":832061,"millis":0.832061,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":607445,"millis":0.607445,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.439429,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","startTime":1631163603356,"refId":"[1.33:67]","endTime":1631163603912,"exampleData":{"datasetIdentifierCode":"627b50bf-2e33-4beb-a314-ff8c0fe8912e"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.616 karate.env system property was: null \n"},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60805,"millis":0.060805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71206,"millis":0.071206,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277421,"millis":0.277421,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":901067,"millis":0.901067,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58504,"millis":0.058504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":9801627,"millis":9.801627,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23502,"millis":0.023502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64205,"millis":0.064205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":570041788,"millis":570.041788,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":601944,"millis":0.601944,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":657048,"millis":0.657048,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":595544,"millis":0.595544,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":594344,"millis":0.594344,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":751256,"millis":0.751256,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":665849,"millis":0.665849,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":703752,"millis":0.703752,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":554441,"millis":0.554441,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":555842,"millis":0.555842,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":109008,"millis":0.109008,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184213,"millis":0.184213,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.204 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":3294345,"millis":3.294345,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122009,"millis":0.122009,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.208 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":629947,"millis":0.629947,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95007,"millis":0.095007,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.209 [print] #notpresent \n"},{"result":{"nanos":1376102,"millis":1.376102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98707,"millis":0.098707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.210 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":795859,"millis":0.795859,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106908,"millis":0.106908,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.211 [print] Beheer PDOK \n"},{"result":{"nanos":1516213,"millis":1.516213,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.213 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":802060,"millis":0.80206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":805360,"millis":0.80536,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":542240,"millis":0.54224,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":597.705145,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","startTime":1631163603613,"refId":"[1.34:67]","endTime":1631163604215,"exampleData":{"datasetIdentifierCode":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21502,"millis":0.021502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.632 karate.env system property was: null \n"},{"result":{"nanos":35403,"millis":0.035403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69206,"millis":0.069206,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93207,"millis":0.093207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341926,"millis":0.341926,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61804,"millis":0.061804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412830,"millis":0.41283,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49704,"millis":0.049704,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100307,"millis":0.100307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20601,"millis":0.020601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":559390197,"millis":559.390197,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1900641,"millis":1.900641,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":2880414,"millis":2.880414,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2523087,"millis":2.523087,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2347275,"millis":2.347275,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3282043,"millis":3.282043,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3379651,"millis":3.379651,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40804,"millis":0.040804,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2353975,"millis":2.353975,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2275368,"millis":2.275368,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1728728,"millis":1.728728,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":368228,"millis":0.368228,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":678151,"millis":0.678151,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.217 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1628621,"millis":1.628621,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":439433,"millis":0.439433,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.219 [print] #notpresent \n"},{"result":{"nanos":1775932,"millis":1.775932,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1168387,"millis":1.168387,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.222 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":63505,"millis":0.063505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":461234,"millis":0.461234,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.223 [print] #notpresent \n"},{"result":{"nanos":4357623,"millis":4.357623,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1274094,"millis":1.274094,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.228 [print] Beheer PDOK \n"},{"result":{"nanos":739355,"millis":0.739355,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.229 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2712301,"millis":2.712301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":5647719,"millis":5.647719,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":596244,"millis":0.596244,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":605.326308,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","startTime":1631163603628,"refId":"[1.35:67]","endTime":1631163604238,"exampleData":{"datasetIdentifierCode":"1fa220c2-5f2e-4943-a57e-c291cc35084b"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.644 karate.env system property was: null \n"},{"result":{"nanos":32703,"millis":0.032703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48104,"millis":0.048104,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60605,"millis":0.060605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226717,"millis":0.226717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360726,"millis":0.360726,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43904,"millis":0.043904,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92807,"millis":0.092807,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63505,"millis":0.063505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":589658143,"millis":589.658143,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":579143,"millis":0.579143,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":611845,"millis":0.611845,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":593944,"millis":0.593944,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":573942,"millis":0.573942,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":645347,"millis":0.645347,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":630846,"millis":0.630846,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":461135,"millis":0.461135,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1721628,"millis":1.721628,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":512038,"millis":0.512038,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":133510,"millis":0.13351,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":3099830,"millis":3.09983,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.245 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":518239,"millis":0.518239,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":246018,"millis":0.246018,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.246 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":479135,"millis":0.479135,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":241018,"millis":0.241018,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.246 [print] #notpresent \n"},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":162812,"millis":0.162812,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.247 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":528540,"millis":0.52854,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":247619,"millis":0.247619,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.247 [print] Beheer PDOK \n"},{"result":{"nanos":287421,"millis":0.287421,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.248 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":596945,"millis":0.596945,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1396503,"millis":1.396503,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1752230,"millis":1.75223,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":606.830918,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d415c10a-8dbf-4c01-8061-4689e5db38ac","startTime":1631163603639,"refId":"[1.36:67]","endTime":1631163604252,"exampleData":{"datasetIdentifierCode":"d415c10a-8dbf-4c01-8061-4689e5db38ac"},"exampleIndex":35},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35203,"millis":0.035203,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:03.922 karate.env system property was: null \n"},{"result":{"nanos":83506,"millis":0.083506,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70705,"millis":0.070705,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73805,"millis":0.073805,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281021,"millis":0.281021,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398229,"millis":0.398229,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129509,"millis":0.129509,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18402,"millis":0.018402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72305,"millis":0.072305,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526522860,"millis":526.52286,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1131984,"millis":1.131984,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":1194589,"millis":1.194589,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1099581,"millis":1.099581,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":945170,"millis":0.94517,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":712053,"millis":0.712053,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":604545,"millis":0.604545,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33403,"millis":0.033403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414531,"millis":0.414531,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":440333,"millis":0.440333,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":526739,"millis":0.526739,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":104808,"millis":0.104808,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":145410,"millis":0.14541,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.459 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1094381,"millis":1.094381,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120809,"millis":0.120809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.460 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":761456,"millis":0.761456,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95807,"millis":0.095807,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.461 [print] #notpresent \n"},{"result":{"nanos":312623,"millis":0.312623,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84306,"millis":0.084306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.462 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":791959,"millis":0.791959,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89106,"millis":0.089106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.462 [print] Beheer PDOK \n"},{"result":{"nanos":114708,"millis":0.114708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.463 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":1197989,"millis":1.197989,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":818161,"millis":0.818161,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":546341,"millis":0.546341,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.230248,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","startTime":1631163603922,"refId":"[1.37:67]","endTime":1631163604465,"exampleData":{"datasetIdentifierCode":"ec73f245-66ce-4144-ac27-5966c80a4b3a"},"exampleIndex":36},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24102,"millis":0.024102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.222 karate.env system property was: null \n"},{"result":{"nanos":39202,"millis":0.039202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60605,"millis":0.060605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73606,"millis":0.073606,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":291422,"millis":0.291422,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110708,"millis":0.110708,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":481136,"millis":0.481136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":212416,"millis":0.212416,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25602,"millis":0.025602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22102,"millis":0.022102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73806,"millis":0.073806,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":564081646,"millis":564.081646,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8401,"millis":0.008401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":788158,"millis":0.788158,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":804560,"millis":0.80456,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":893966,"millis":0.893966,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6759102,"millis":6.759102,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":858564,"millis":0.858564,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":821860,"millis":0.82186,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":525539,"millis":0.525539,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":787458,"millis":0.787458,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":684051,"millis":0.684051,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115509,"millis":0.115509,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":7571462,"millis":7.571462,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.810 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":598444,"millis":0.598444,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101708,"millis":0.101708,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.810 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":494737,"millis":0.494737,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105408,"millis":0.105408,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.811 [print] #notpresent \n"},{"result":{"nanos":50503,"millis":0.050503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.811 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":811860,"millis":0.81186,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84606,"millis":0.084606,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.812 [print] Beheer PDOK \n"},{"result":{"nanos":68505,"millis":0.068505,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.812 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":750656,"millis":0.750656,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":659249,"millis":0.659249,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":589543,"millis":0.589543,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":590.602217,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"40f04047-3b61-40eb-b026-c1a0caa71881","startTime":1631163604220,"refId":"[1.38:67]","endTime":1631163604814,"exampleData":{"datasetIdentifierCode":"40f04047-3b61-40eb-b026-c1a0caa71881"},"exampleIndex":37},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24601,"millis":0.024601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.245 karate.env system property was: null \n"},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150811,"millis":0.150811,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":834062,"millis":0.834062,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68605,"millis":0.068605,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1762531,"millis":1.762531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82106,"millis":0.082106,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114508,"millis":0.114508,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23102,"millis":0.023102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":3213139,"millis":3.213139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71205,"millis":0.071205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539591029,"millis":539.591029,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":775157,"millis":0.775157,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":509338,"millis":0.509338,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":546541,"millis":0.546541,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":517838,"millis":0.517838,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":587844,"millis":0.587844,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":4343922,"millis":4.343922,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43403,"millis":0.043403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":961771,"millis":0.961771,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":505338,"millis":0.505338,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2062953,"millis":2.062953,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102507,"millis":0.102507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":214616,"millis":0.214616,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.803 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":534239,"millis":0.534239,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105008,"millis":0.105008,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.804 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":440333,"millis":0.440333,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95107,"millis":0.095107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.805 [print] #notpresent \n"},{"result":{"nanos":47903,"millis":0.047903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":51103,"millis":0.051103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.805 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":542541,"millis":0.542541,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86007,"millis":0.086007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.805 [print] Beheer PDOK \n"},{"result":{"nanos":65205,"millis":0.065205,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.805 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":561942,"millis":0.561942,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":764457,"millis":0.764457,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1370002,"millis":1.370002,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":561.906182,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","startTime":1631163604240,"refId":"[1.39:67]","endTime":1631163604808,"exampleData":{"datasetIdentifierCode":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98"},"exampleIndex":38},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31302,"millis":0.031302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.254 karate.env system property was: null \n"},{"result":{"nanos":47503,"millis":0.047503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59104,"millis":0.059104,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73606,"millis":0.073606,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":260120,"millis":0.26012,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63905,"millis":0.063905,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":466235,"millis":0.466235,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56204,"millis":0.056204,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75605,"millis":0.075605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":90407,"millis":0.090407,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":98608,"millis":0.098608,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":7201,"millis":0.007201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":584187138,"millis":584.187138,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":544141,"millis":0.544141,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":558442,"millis":0.558442,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":528139,"millis":0.528139,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":501237,"millis":0.501237,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":564442,"millis":0.564442,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":531739,"millis":0.531739,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36403,"millis":0.036403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403830,"millis":0.40383,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":400730,"millis":0.40073,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402030,"millis":0.40203,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1539514,"millis":1.539514,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":177813,"millis":0.177813,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:04.848 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":421532,"millis":0.421532,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143210,"millis":0.14321,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:04.848 [print] OGC:WFS \n"},{"result":{"nanos":445934,"millis":0.445934,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":157112,"millis":0.157112,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:04.849 [print] #notpresent \n"},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108408,"millis":0.108408,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:04.849 [print] OGC:WFS \n"},{"result":{"nanos":560141,"millis":0.560141,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":164712,"millis":0.164712,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:04.850 [print] Beheer PDOK \n"},{"result":{"nanos":109609,"millis":0.109609,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:04.850 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n"},{"result":{"nanos":528239,"millis":0.528239,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575043,"millis":0.575043,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":541340,"millis":0.54134,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":595.556684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","startTime":1631163604254,"refId":"[1.40:67]","endTime":1631163604852,"exampleData":{"datasetIdentifierCode":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32"},"exampleIndex":39},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.468 karate.env system property was: null \n"},{"result":{"nanos":37402,"millis":0.037402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56304,"millis":0.056304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69205,"millis":0.069205,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":312223,"millis":0.312223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61104,"millis":0.061104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452234,"millis":0.452234,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":108308,"millis":0.108308,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30803,"millis":0.030803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":95607,"millis":0.095607,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526998094,"millis":526.998094,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7501,"millis":0.007501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":586143,"millis":0.586143,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":863864,"millis":0.863864,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1196088,"millis":1.196088,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":529639,"millis":0.529639,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":584543,"millis":0.584543,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":566442,"millis":0.566442,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35603,"millis":0.035603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432832,"millis":0.432832,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":406530,"millis":0.40653,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":385429,"millis":0.385429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96107,"millis":0.096107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113108,"millis":0.113108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.003 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":420431,"millis":0.420431,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148411,"millis":0.148411,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.003 [print] OGC:WMS \n"},{"result":{"nanos":425732,"millis":0.425732,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139010,"millis":0.13901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.004 [print] #notpresent \n"},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75206,"millis":0.075206,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.004 [print] OGC:WMS \n"},{"result":{"nanos":494937,"millis":0.494937,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119008,"millis":0.119008,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.005 [print] Beheer PDOK \n"},{"result":{"nanos":64905,"millis":0.064905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.005 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":493637,"millis":0.493637,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":782458,"millis":0.782458,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":541240,"millis":0.54124,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.922303,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","startTime":1631163604468,"refId":"[1.41:67]","endTime":1631163605007,"exampleData":{"datasetIdentifierCode":"89b35a6c-c099-456b-8eaf-2b83c7a35c74"},"exampleIndex":40},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22402,"millis":0.022402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.815 karate.env system property was: null \n"},{"result":{"nanos":37003,"millis":0.037003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":428431,"millis":0.428431,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87506,"millis":0.087506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":268320,"millis":0.26832,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60804,"millis":0.060804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459434,"millis":0.459434,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72305,"millis":0.072305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":935169,"millis":0.935169,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":74406,"millis":0.074406,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558652843,"millis":558.652843,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":999574,"millis":0.999574,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":882865,"millis":0.882865,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":4410827,"millis":4.410827,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":489937,"millis":0.489937,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":758756,"millis":0.758756,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":961571,"millis":0.961571,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":1005675,"millis":1.005675,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":481036,"millis":0.481036,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":519538,"millis":0.519538,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":503637,"millis":0.503637,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":408130,"millis":0.40813,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":911167,"millis":0.911167,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.390 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1267994,"millis":1.267994,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":952371,"millis":0.952371,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.392 [print] OGC:WMS \n"},{"result":{"nanos":887866,"millis":0.887866,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":597644,"millis":0.597644,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.393 [print] #notpresent \n"},{"result":{"nanos":126010,"millis":0.12601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":254019,"millis":0.254019,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.394 [print] OGC:WMS \n"},{"result":{"nanos":515938,"millis":0.515938,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":242318,"millis":0.242318,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.395 [print] Beheer PDOK \n"},{"result":{"nanos":264620,"millis":0.26462,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.395 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":519438,"millis":0.519438,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":624946,"millis":0.624946,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":584443,"millis":0.584443,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.393949,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","startTime":1631163604815,"refId":"[1.42:67]","endTime":1631163605397,"exampleData":{"datasetIdentifierCode":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43"},"exampleIndex":41},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22702,"millis":0.022702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.822 karate.env system property was: null \n"},{"result":{"nanos":35403,"millis":0.035403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244918,"millis":0.244918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61504,"millis":0.061504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467535,"millis":0.467535,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55604,"millis":0.055604,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":539740,"millis":0.53974,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32002,"millis":0.032002,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19402,"millis":0.019402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69606,"millis":0.069606,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":7201,"millis":0.007201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556348572,"millis":556.348572,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7001,"millis":0.007001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":741855,"millis":0.741855,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":673650,"millis":0.67365,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":477135,"millis":0.477135,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427332,"millis":0.427332,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3162734,"millis":3.162734,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":568943,"millis":0.568943,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":122009,"millis":0.122009,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1351300,"millis":1.3513,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":521038,"millis":0.521038,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1303797,"millis":1.303797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":247618,"millis":0.247618,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":449834,"millis":0.449834,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.391 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":539740,"millis":0.53974,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":519239,"millis":0.519239,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.392 [print] #notpresent \n"},{"result":{"nanos":530440,"millis":0.53044,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":230017,"millis":0.230017,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.393 [print] OGC:WMS \n"},{"result":{"nanos":218216,"millis":0.218216,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":10703494,"millis":10.703494,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.404 [print] #notpresent \n"},{"result":{"nanos":560641,"millis":0.560641,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":358627,"millis":0.358627,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.404 [print] RIVM \n"},{"result":{"nanos":322624,"millis":0.322624,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.405 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":423131,"millis":0.423131,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":496137,"millis":0.496137,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451333,"millis":0.451333,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":583.447986,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"95e2c712-1b91-4f24-9453-c56b95227717","startTime":1631163604821,"refId":"[1.43:67]","endTime":1631163605406,"exampleData":{"datasetIdentifierCode":"95e2c712-1b91-4f24-9453-c56b95227717"},"exampleIndex":42},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21101,"millis":0.021101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:04.854 karate.env system property was: null \n"},{"result":{"nanos":33802,"millis":0.033802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49904,"millis":0.049904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62605,"millis":0.062605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242718,"millis":0.242718,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363927,"millis":0.363927,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120909,"millis":0.120909,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20601,"millis":0.020601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":82407,"millis":0.082407,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553713776,"millis":553.713776,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":916968,"millis":0.916968,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":491237,"millis":0.491237,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":459134,"millis":0.459134,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":372027,"millis":0.372027,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":599745,"millis":0.599745,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":585743,"millis":0.585743,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110808,"millis":0.110808,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":435832,"millis":0.435832,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":453433,"millis":0.453433,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":494036,"millis":0.494036,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":436432,"millis":0.436432,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":644047,"millis":0.644047,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.416 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":513338,"millis":0.513338,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":533539,"millis":0.533539,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.417 [print] #notpresent \n"},{"result":{"nanos":465534,"millis":0.465534,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":231518,"millis":0.231518,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.418 [print] OGC:WFS \n"},{"result":{"nanos":127509,"millis":0.127509,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":434032,"millis":0.434032,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.418 [print] #notpresent \n"},{"result":{"nanos":415430,"millis":0.41543,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":455934,"millis":0.455934,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.419 [print] RIVM \n"},{"result":{"nanos":927169,"millis":0.927169,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.420 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":492436,"millis":0.492436,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":620246,"millis":0.620246,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":533139,"millis":0.533139,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":566.596825,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","startTime":1631163604854,"refId":"[1.44:67]","endTime":1631163605422,"exampleData":{"datasetIdentifierCode":"ff8f6da2-949e-4838-90f6-fd895a4a240f"},"exampleIndex":43},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.009 karate.env system property was: null \n"},{"result":{"nanos":37803,"millis":0.037803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58004,"millis":0.058004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118009,"millis":0.118009,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279021,"millis":0.279021,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61805,"millis":0.061805,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":485136,"millis":0.485136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75205,"millis":0.075205,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99807,"millis":0.099807,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60904,"millis":0.060904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544039959,"millis":544.039959,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":706853,"millis":0.706853,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":539940,"millis":0.53994,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":478536,"millis":0.478536,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":461634,"millis":0.461634,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":697052,"millis":0.697052,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":619546,"millis":0.619546,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":249119,"millis":0.249119,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":576243,"millis":0.576243,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":490036,"millis":0.490036,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":488436,"millis":0.488436,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":733054,"millis":0.733054,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":262620,"millis":0.26262,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.561 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":934269,"millis":0.934269,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191315,"millis":0.191315,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.563 [print] #notpresent \n"},{"result":{"nanos":790159,"millis":0.790159,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":201915,"millis":0.201915,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.564 [print] OGC:WFS \n"},{"result":{"nanos":438132,"millis":0.438132,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146211,"millis":0.146211,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.564 [print] #notpresent \n"},{"result":{"nanos":495336,"millis":0.495336,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":172613,"millis":0.172613,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.565 [print] RIVM \n"},{"result":{"nanos":187213,"millis":0.187213,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.566 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":452933,"millis":0.452933,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":630947,"millis":0.630947,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":476036,"millis":0.476036,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":556.828804,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","startTime":1631163605009,"refId":"[1.45:67]","endTime":1631163605568,"exampleData":{"datasetIdentifierCode":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed"},"exampleIndex":44},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72905,"millis":0.072905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.400 karate.env system property was: null \n"},{"result":{"nanos":59205,"millis":0.059205,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":152111,"millis":0.152111,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":167512,"millis":0.167512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":376428,"millis":0.376428,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":155711,"millis":0.155711,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":497437,"millis":0.497437,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":129410,"millis":0.12941,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":376228,"millis":0.376228,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69605,"millis":0.069605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48004,"millis":0.048004,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29002,"millis":0.029002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15501,"millis":0.015501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525817407,"millis":525.817407,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":585843,"millis":0.585843,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":553541,"millis":0.553541,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463235,"millis":0.463235,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":403930,"millis":0.40393,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":484636,"millis":0.484636,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":454433,"millis":0.454433,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33603,"millis":0.033603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":421331,"millis":0.421331,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376528,"millis":0.376528,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":383429,"millis":0.383429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98707,"millis":0.098707,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141911,"millis":0.141911,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.933 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":403330,"millis":0.40333,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203116,"millis":0.203116,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.933 [print] #notpresent \n"},{"result":{"nanos":412931,"millis":0.412931,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175113,"millis":0.175113,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.934 [print] OGC:WFS \n"},{"result":{"nanos":54504,"millis":0.054504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":113809,"millis":0.113809,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.934 [print] #notpresent \n"},{"result":{"nanos":450333,"millis":0.450333,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97107,"millis":0.097107,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.935 [print] RIVM \n"},{"result":{"nanos":112608,"millis":0.112608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.935 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":435232,"millis":0.435232,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":846863,"millis":0.846863,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":646048,"millis":0.646048,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.37509,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","startTime":1631163605399,"refId":"[1.46:67]","endTime":1631163605937,"exampleData":{"datasetIdentifierCode":"0606e8cb-fa51-402c-a3be-19fd724b0a10"},"exampleIndex":45},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61805,"millis":0.061805,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.409 karate.env system property was: null \n"},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":159611,"millis":0.159611,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":173512,"millis":0.173512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":352327,"millis":0.352327,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":173213,"millis":0.173213,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486736,"millis":0.486736,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":154311,"millis":0.154311,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":216316,"millis":0.216316,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":72006,"millis":0.072006,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30903,"millis":0.030903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541802893,"millis":541.802893,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":538840,"millis":0.53884,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":487537,"millis":0.487537,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446033,"millis":0.446033,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":442033,"millis":0.442033,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":567542,"millis":0.567542,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504238,"millis":0.504238,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38003,"millis":0.038003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":397930,"millis":0.39793,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":403030,"millis":0.40303,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":399529,"millis":0.399529,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":540240,"millis":0.54024,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":629546,"millis":0.629546,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.959 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":427932,"millis":0.427932,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":515338,"millis":0.515338,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.960 [print] #notpresent \n"},{"result":{"nanos":422231,"millis":0.422231,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":521839,"millis":0.521839,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.961 [print] OGC:WFS \n"},{"result":{"nanos":79906,"millis":0.079906,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":434432,"millis":0.434432,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.961 [print] #notpresent \n"},{"result":{"nanos":495737,"millis":0.495737,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":454234,"millis":0.454234,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.962 [print] RIVM \n"},{"result":{"nanos":685251,"millis":0.685251,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.963 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":632947,"millis":0.632947,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":728254,"millis":0.728254,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":542140,"millis":0.54214,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":555.149683,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","startTime":1631163605408,"refId":"[1.47:67]","endTime":1631163605965,"exampleData":{"datasetIdentifierCode":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288"},"exampleIndex":46},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73305,"millis":0.073305,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.426 karate.env system property was: null \n"},{"result":{"nanos":45603,"millis":0.045603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":183913,"millis":0.183913,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":158212,"millis":0.158212,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356727,"millis":0.356727,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":181813,"millis":0.181813,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475836,"millis":0.475836,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142110,"millis":0.14211,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":494437,"millis":0.494437,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70905,"millis":0.070905,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21702,"millis":0.021702,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555668321,"millis":555.668321,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510538,"millis":0.510538,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":469335,"millis":0.469335,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":465435,"millis":0.465435,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":414731,"millis":0.414731,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3574566,"millis":3.574566,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":530239,"millis":0.530239,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":441132,"millis":0.441132,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":377528,"millis":0.377528,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":401830,"millis":0.40183,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":536140,"millis":0.53614,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":593644,"millis":0.593644,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:05.994 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n"},{"result":{"nanos":449134,"millis":0.449134,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":481335,"millis":0.481335,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:05.995 [print] #notpresent \n"},{"result":{"nanos":435132,"millis":0.435132,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":435032,"millis":0.435032,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:05.995 [print] OGC:WFS \n"},{"result":{"nanos":61504,"millis":0.061504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":415231,"millis":0.415231,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:05.996 [print] #notpresent \n"},{"result":{"nanos":506438,"millis":0.506438,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":519738,"millis":0.519738,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:05.997 [print] RIVM \n"},{"result":{"nanos":686151,"millis":0.686151,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:05.998 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":483636,"millis":0.483636,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723653,"millis":0.723653,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":6366272,"millis":6.366272,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":577.894868,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","startTime":1631163605424,"refId":"[1.48:67]","endTime":1631163606005,"exampleData":{"datasetIdentifierCode":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545"},"exampleIndex":47},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68105,"millis":0.068105,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.570 karate.env system property was: null \n"},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148011,"millis":0.148011,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":192015,"millis":0.192015,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":388829,"millis":0.388829,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162812,"millis":0.162812,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":484236,"millis":0.484236,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":156712,"millis":0.156712,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":200015,"millis":0.200015,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73805,"millis":0.073805,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56804,"millis":0.056804,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36403,"millis":0.036403,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21902,"millis":0.021902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":18402,"millis":0.018402,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524274093,"millis":524.274093,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593544,"millis":0.593544,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":560741,"millis":0.560741,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485236,"millis":0.485236,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":511138,"millis":0.511138,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":577843,"millis":0.577843,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":542641,"millis":0.542641,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36403,"millis":0.036403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388829,"millis":0.388829,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394230,"millis":0.39423,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":367627,"millis":0.367627,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116309,"millis":0.116309,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:06.103 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n"},{"result":{"nanos":394429,"millis":0.394429,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147411,"millis":0.147411,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:06.103 [print] #notpresent \n"},{"result":{"nanos":478135,"millis":0.478135,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108008,"millis":0.108008,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:06.104 [print] OGC:WMS \n"},{"result":{"nanos":47603,"millis":0.047603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":482236,"millis":0.482236,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:06.105 [print] #notpresent \n"},{"result":{"nanos":761056,"millis":0.761056,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":7461254,"millis":7.461254,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:06.113 [print] RIVM \n"},{"result":{"nanos":693051,"millis":0.693051,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:06.114 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":543940,"millis":0.54394,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1070479,"millis":1.070479,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":619445,"millis":0.619445,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.873747,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","startTime":1631163605570,"refId":"[1.49:67]","endTime":1631163606116,"exampleData":{"datasetIdentifierCode":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18"},"exampleIndex":48},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23102,"millis":0.023102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.939 karate.env system property was: null \n"},{"result":{"nanos":42003,"millis":0.042003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60605,"millis":0.060605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74605,"millis":0.074605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":300222,"millis":0.300222,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64705,"millis":0.064705,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":945170,"millis":0.94517,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":134410,"millis":0.13441,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23402,"millis":0.023402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515891168,"millis":515.891168,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":533839,"millis":0.533839,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":526239,"millis":0.526239,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":503537,"millis":0.503537,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":590244,"millis":0.590244,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":607245,"millis":0.607245,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":538439,"millis":0.538439,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35502,"millis":0.035502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":391229,"millis":0.391229,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398829,"millis":0.398829,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":497037,"millis":0.497037,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":219916,"millis":0.219916,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:06.463 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":428132,"millis":0.428132,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":246618,"millis":0.246618,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:06.464 [print] #notpresent \n"},{"result":{"nanos":414630,"millis":0.41463,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":221516,"millis":0.221516,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:06.465 [print] OGC:WMS \n"},{"result":{"nanos":55604,"millis":0.055604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130809,"millis":0.130809,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:06.465 [print] #notpresent \n"},{"result":{"nanos":670450,"millis":0.67045,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":195714,"millis":0.195714,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:06.466 [print] RIVM \n"},{"result":{"nanos":127009,"millis":0.127009,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:06.466 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":563942,"millis":0.563942,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":785858,"millis":0.785858,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":644947,"millis":0.644947,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.490822,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"755d488b-7b94-4883-95be-6aa279604f85","startTime":1631163605939,"refId":"[1.50:67]","endTime":1631163606468,"exampleData":{"datasetIdentifierCode":"755d488b-7b94-4883-95be-6aa279604f85"},"exampleIndex":49},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23802,"millis":0.023802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:05.968 karate.env system property was: null \n"},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60105,"millis":0.060105,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72406,"millis":0.072406,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289321,"millis":0.289321,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66405,"millis":0.066405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":797659,"millis":0.797659,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69405,"millis":0.069405,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":464735,"millis":0.464735,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23302,"millis":0.023302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74006,"millis":0.074006,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524789816,"millis":524.789816,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496837,"millis":0.496837,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":530039,"millis":0.530039,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":444633,"millis":0.444633,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":553841,"millis":0.553841,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":548940,"millis":0.54894,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490537,"millis":0.490537,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32603,"millis":0.032603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340525,"millis":0.340525,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339025,"millis":0.339025,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343325,"millis":0.343325,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":258319,"millis":0.258319,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":228616,"millis":0.228616,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:06.500 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":372928,"millis":0.372928,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":211815,"millis":0.211815,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:06.500 [print] #notpresent \n"},{"result":{"nanos":408330,"millis":0.40833,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":201415,"millis":0.201415,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:06.501 [print] OGC:WMS \n"},{"result":{"nanos":50104,"millis":0.050104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":139310,"millis":0.13931,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:06.501 [print] #notpresent \n"},{"result":{"nanos":466335,"millis":0.466335,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":248419,"millis":0.248419,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:06.502 [print] RIVM \n"},{"result":{"nanos":144310,"millis":0.14431,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:06.502 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":455734,"millis":0.455734,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":650548,"millis":0.650548,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":463134,"millis":0.463134,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.248793,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","startTime":1631163605967,"refId":"[1.51:67]","endTime":1631163606504,"exampleData":{"datasetIdentifierCode":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda"},"exampleIndex":50},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.014 karate.env system property was: null \n"},{"result":{"nanos":44704,"millis":0.044704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63605,"millis":0.063605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75806,"millis":0.075806,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309423,"millis":0.309423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67905,"millis":0.067905,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":689051,"millis":0.689051,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":498037,"millis":0.498037,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30802,"millis":0.030802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33103,"millis":0.033103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":119309,"millis":0.119309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534238999,"millis":534.238999,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":566442,"millis":0.566442,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":552841,"millis":0.552841,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1348899,"millis":1.348899,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":515338,"millis":0.515338,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":541240,"millis":0.54124,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":857963,"millis":0.857963,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":64105,"millis":0.064105,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":8127101,"millis":8.127101,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":471735,"millis":0.471735,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432132,"millis":0.432132,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":4508633,"millis":4.508633,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":423031,"millis":0.423031,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:06.570 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":442133,"millis":0.442133,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":239617,"millis":0.239617,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:06.570 [print] #notpresent \n"},{"result":{"nanos":418430,"millis":0.41843,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":231817,"millis":0.231817,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:06.571 [print] OGC:WMS \n"},{"result":{"nanos":54404,"millis":0.054404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160312,"millis":0.160312,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:06.571 [print] #notpresent \n"},{"result":{"nanos":517139,"millis":0.517139,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":234618,"millis":0.234618,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:06.572 [print] RIVM \n"},{"result":{"nanos":135510,"millis":0.13551,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:06.572 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":468735,"millis":0.468735,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":706952,"millis":0.706952,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":517938,"millis":0.517938,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":558.827019,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","startTime":1631163606011,"refId":"[1.52:67]","endTime":1631163606574,"exampleData":{"datasetIdentifierCode":"7dc30aed-0940-4e69-b34c-9f24b34078eb"},"exampleIndex":51},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22301,"millis":0.022301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.119 karate.env system property was: null \n"},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56605,"millis":0.056605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66805,"millis":0.066805,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294022,"millis":0.294022,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61404,"millis":0.061404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524739,"millis":0.524739,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74005,"millis":0.074005,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":458634,"millis":0.458634,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21501,"millis":0.021501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63904,"millis":0.063904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528342929,"millis":528.342929,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":58704,"millis":0.058704,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":611946,"millis":0.611946,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":620246,"millis":0.620246,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":544840,"millis":0.54484,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":516238,"millis":0.516238,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":585843,"millis":0.585843,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":532540,"millis":0.53254,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42003,"millis":0.042003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396530,"millis":0.39653,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":379728,"millis":0.379728,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371827,"millis":0.371827,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89906,"millis":0.089906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193714,"millis":0.193714,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:06.655 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":655649,"millis":0.655649,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118109,"millis":0.118109,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:06.656 [print] OGC:WMS \n"},{"result":{"nanos":500537,"millis":0.500537,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96107,"millis":0.096107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:06.656 [print] #notpresent \n"},{"result":{"nanos":135710,"millis":0.13571,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97607,"millis":0.097607,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:06.657 [print] OGC:WMS \n"},{"result":{"nanos":534040,"millis":0.53404,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101707,"millis":0.101707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:06.657 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":187314,"millis":0.187314,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:06.657 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":608645,"millis":0.608645,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":750256,"millis":0.750256,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":550941,"millis":0.550941,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.354341,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"777f41ee-8269-4bbc-b0e4-f889c62be099","startTime":1631163606119,"refId":"[1.53:67]","endTime":1631163606659,"exampleData":{"datasetIdentifierCode":"777f41ee-8269-4bbc-b0e4-f889c62be099"},"exampleIndex":52},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21801,"millis":0.021801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.471 karate.env system property was: null \n"},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54404,"millis":0.054404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91907,"millis":0.091907,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266020,"millis":0.26602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56404,"millis":0.056404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453133,"millis":0.453133,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":203815,"millis":0.203815,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22302,"millis":0.022302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19302,"millis":0.019302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66405,"millis":0.066405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3701,"millis":0.003701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524821663,"millis":524.821663,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":727254,"millis":0.727254,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":732054,"millis":0.732054,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":652248,"millis":0.652248,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":596544,"millis":0.596544,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":722953,"millis":0.722953,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663649,"millis":0.663649,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51403,"millis":0.051403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":499037,"millis":0.499037,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":506737,"millis":0.506737,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":571242,"millis":0.571242,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111008,"millis":0.111008,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163312,"millis":0.163312,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.004 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":693152,"millis":0.693152,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":186413,"millis":0.186413,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.005 [print] OGC:WFS \n"},{"result":{"nanos":657348,"millis":0.657348,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110208,"millis":0.110208,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.006 [print] INSPIRE Atom \n"},{"result":{"nanos":55505,"millis":0.055505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":258919,"millis":0.258919,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.006 [print] OGC:WFS \n"},{"result":{"nanos":742155,"millis":0.742155,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89407,"millis":0.089407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.007 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":175412,"millis":0.175412,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.007 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":586644,"millis":0.586644,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":832462,"millis":0.832462,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":511738,"millis":0.511738,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.101272,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"37308f90-e619-4b62-ae9e-e656bb3f1649","startTime":1631163606471,"refId":"[1.54:67]","endTime":1631163607009,"exampleData":{"datasetIdentifierCode":"37308f90-e619-4b62-ae9e-e656bb3f1649"},"exampleIndex":53},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24602,"millis":0.024602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.506 karate.env system property was: null \n"},{"result":{"nanos":41504,"millis":0.041504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80506,"millis":0.080506,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73305,"millis":0.073305,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266320,"millis":0.26632,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58905,"millis":0.058905,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478536,"millis":0.478536,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49503,"millis":0.049503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":199014,"millis":0.199014,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22302,"millis":0.022302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19902,"millis":0.019902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62805,"millis":0.062805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547174414,"millis":547.174414,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":532739,"millis":0.532739,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":464534,"millis":0.464534,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":412231,"millis":0.412231,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":358927,"millis":0.358927,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":420031,"millis":0.420031,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":403530,"millis":0.40353,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32603,"millis":0.032603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":321324,"millis":0.321324,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":385228,"millis":0.385228,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":367328,"millis":0.367328,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75406,"millis":0.075406,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74606,"millis":0.074606,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.060 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":470134,"millis":0.470134,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":289221,"millis":0.289221,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.061 [print] OGC:WMS \n"},{"result":{"nanos":423732,"millis":0.423732,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129810,"millis":0.12981,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.061 [print] #notpresent \n"},{"result":{"nanos":116508,"millis":0.116508,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103107,"millis":0.103107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.062 [print] OGC:WMS \n"},{"result":{"nanos":511138,"millis":0.511138,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141810,"millis":0.14181,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.062 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":219116,"millis":0.219116,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.063 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":583643,"millis":0.583643,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655948,"millis":0.655948,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":479036,"millis":0.479036,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":556.546211,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","startTime":1631163606506,"refId":"[1.55:67]","endTime":1631163607064,"exampleData":{"datasetIdentifierCode":"a02c6566-e0ad-4fc1-b217-67cc1099dea2"},"exampleIndex":54},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.578 karate.env system property was: null \n"},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60205,"millis":0.060205,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71306,"millis":0.071306,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":283321,"millis":0.283321,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57304,"millis":0.057304,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459634,"millis":0.459634,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":277621,"millis":0.277621,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22602,"millis":0.022602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68005,"millis":0.068005,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529260091,"millis":529.260091,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":748255,"millis":0.748255,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":857263,"millis":0.857263,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":743955,"millis":0.743955,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":716453,"millis":0.716453,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":877365,"millis":0.877365,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":856663,"millis":0.856663,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":62304,"millis":0.062304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":597744,"millis":0.597744,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":605345,"millis":0.605345,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":641147,"millis":0.641147,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":125409,"millis":0.125409,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":538740,"millis":0.53874,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.118 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":448433,"millis":0.448433,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":346026,"millis":0.346026,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.119 [print] OGC:WFS \n"},{"result":{"nanos":477835,"millis":0.477835,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":315723,"millis":0.315723,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.120 [print] INSPIRE Atom \n"},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":262319,"millis":0.262319,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.120 [print] OGC:WFS \n"},{"result":{"nanos":517738,"millis":0.517738,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":319324,"millis":0.319324,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.121 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":219416,"millis":0.219416,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.121 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":476435,"millis":0.476435,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":779657,"millis":0.779657,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":467634,"millis":0.467634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.805989,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","startTime":1631163606578,"refId":"[1.56:67]","endTime":1631163607123,"exampleData":{"datasetIdentifierCode":"72f30ca1-3b80-4020-b9ed-301b1a88df39"},"exampleIndex":55},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20602,"millis":0.020602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:06.662 karate.env system property was: null \n"},{"result":{"nanos":36203,"millis":0.036203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54404,"millis":0.054404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63205,"millis":0.063205,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278220,"millis":0.27822,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58604,"millis":0.058604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486136,"millis":0.486136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75605,"millis":0.075605,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95307,"millis":0.095307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16401,"millis":0.016401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58704,"millis":0.058704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519742989,"millis":519.742989,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3187935,"millis":3.187935,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":869764,"millis":0.869764,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":859363,"millis":0.859363,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":805860,"millis":0.80586,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":693651,"millis":0.693651,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":502338,"millis":0.502338,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":311523,"millis":0.311523,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":358526,"millis":0.358526,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":350326,"millis":0.350326,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":348026,"millis":0.348026,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":288221,"millis":0.288221,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.192 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":383629,"millis":0.383629,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":281821,"millis":0.281821,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.193 [print] OGC:WMS \n"},{"result":{"nanos":368927,"millis":0.368927,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":301322,"millis":0.301322,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.193 [print] #notpresent \n"},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":240917,"millis":0.240917,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.194 [print] OGC:WMS \n"},{"result":{"nanos":479736,"millis":0.479736,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":291922,"millis":0.291922,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.194 [print] Beheer PDOK \n"},{"result":{"nanos":232717,"millis":0.232717,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.195 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":424231,"millis":0.424231,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":656648,"millis":0.656648,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":400930,"millis":0.40093,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.758524,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","startTime":1631163606661,"refId":"[1.57:67]","endTime":1631163607196,"exampleData":{"datasetIdentifierCode":"6a129fd1-0988-4b8a-975a-6ff134b6754a"},"exampleIndex":56},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.012 karate.env system property was: null \n"},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46304,"millis":0.046304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58805,"millis":0.058805,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237118,"millis":0.237118,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48304,"millis":0.048304,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395330,"millis":0.39533,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87007,"millis":0.087007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":400530,"millis":0.40053,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24701,"millis":0.024701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57004,"millis":0.057004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525504313,"millis":525.504313,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":957370,"millis":0.95737,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":829461,"millis":0.829461,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":723853,"millis":0.723853,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682650,"millis":0.68265,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":906967,"millis":0.906967,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":827762,"millis":0.827762,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":573842,"millis":0.573842,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":535740,"millis":0.53574,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":426531,"millis":0.426531,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":106908,"millis":0.106908,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":117109,"millis":0.117109,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.546 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n"},{"result":{"nanos":538140,"millis":0.53814,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":200914,"millis":0.200914,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.547 [print] #notpresent \n"},{"result":{"nanos":489737,"millis":0.489737,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":149411,"millis":0.149411,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.549 [print] INSPIRE Atom \n"},{"result":{"nanos":60205,"millis":0.060205,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144611,"millis":0.144611,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.549 [print] #notpresent \n"},{"result":{"nanos":487136,"millis":0.487136,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165012,"millis":0.165012,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.550 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":98807,"millis":0.098807,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.550 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":417031,"millis":0.417031,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757956,"millis":0.757956,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":540939,"millis":0.540939,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.749317,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0bb27a13-76f1-4374-8d44-76e937198e8d","startTime":1631163607011,"refId":"[1.58:67]","endTime":1631163607552,"exampleData":{"datasetIdentifierCode":"0bb27a13-76f1-4374-8d44-76e937198e8d"},"exampleIndex":57},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18401,"millis":0.018401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.067 karate.env system property was: null \n"},{"result":{"nanos":32203,"millis":0.032203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":110509,"millis":0.110509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230417,"millis":0.230417,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1027876,"millis":1.027876,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61705,"millis":0.061705,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150611,"millis":0.150611,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":116809,"millis":0.116809,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19002,"millis":0.019002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57604,"millis":0.057604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527281445,"millis":527.281445,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":636147,"millis":0.636147,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":496337,"millis":0.496337,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454033,"millis":0.454033,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":438232,"millis":0.438232,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":518238,"millis":0.518238,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":561142,"millis":0.561142,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":407630,"millis":0.40763,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411130,"millis":0.41113,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425631,"millis":0.425631,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85106,"millis":0.085106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142010,"millis":0.14201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.601 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":561842,"millis":0.561842,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166812,"millis":0.166812,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.602 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85706,"millis":0.085706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.602 [print] #notpresent \n"},{"result":{"nanos":41403,"millis":0.041403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135910,"millis":0.13591,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.603 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":438832,"millis":0.438832,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81206,"millis":0.081206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.603 [print] Beheer PDOK \n"},{"result":{"nanos":159312,"millis":0.159312,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.604 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":678150,"millis":0.67815,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":719753,"millis":0.719753,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":536740,"millis":0.53674,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.904331,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b196f948-5d87-4eb4-9854-a93841c3877f","startTime":1631163607066,"refId":"[1.59:67]","endTime":1631163607606,"exampleData":{"datasetIdentifierCode":"b196f948-5d87-4eb4-9854-a93841c3877f"},"exampleIndex":58},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.125 karate.env system property was: null \n"},{"result":{"nanos":36002,"millis":0.036002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57404,"millis":0.057404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68405,"millis":0.068405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277520,"millis":0.27752,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60004,"millis":0.060004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":575643,"millis":0.575643,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51104,"millis":0.051104,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":298422,"millis":0.298422,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21101,"millis":0.021101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56404,"millis":0.056404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518519298,"millis":518.519298,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":721153,"millis":0.721153,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":30408746,"millis":30.408746,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":622346,"millis":0.622346,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":501237,"millis":0.501237,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":839462,"millis":0.839462,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":866164,"millis":0.866164,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":147711,"millis":0.147711,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":486336,"millis":0.486336,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":497037,"millis":0.497037,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":506938,"millis":0.506938,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":237918,"millis":0.237918,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":371827,"millis":0.371827,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.682 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n"},{"result":{"nanos":508338,"millis":0.508338,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":270920,"millis":0.27092,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.683 [print] OGC:WMS \n"},{"result":{"nanos":527839,"millis":0.527839,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":212616,"millis":0.212616,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.684 [print] #notpresent \n"},{"result":{"nanos":192914,"millis":0.192914,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":213816,"millis":0.213816,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.684 [print] OGC:WMS \n"},{"result":{"nanos":556641,"millis":0.556641,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":250118,"millis":0.250118,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.685 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":202415,"millis":0.202415,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.685 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":603845,"millis":0.603845,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1161285,"millis":1.161285,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":612745,"millis":0.612745,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":561.604478,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","startTime":1631163607125,"refId":"[1.60:67]","endTime":1631163607688,"exampleData":{"datasetIdentifierCode":"ea4cb6a2-f637-413a-91cc-d58473c2f138"},"exampleIndex":59},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18402,"millis":0.018402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.199 karate.env system property was: null \n"},{"result":{"nanos":31903,"millis":0.031903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63805,"millis":0.063805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100207,"millis":0.100207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":401930,"millis":0.40193,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53703,"millis":0.053703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375228,"millis":0.375228,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":231517,"millis":0.231517,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18002,"millis":0.018002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567396908,"millis":567.396908,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":686651,"millis":0.686651,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":575843,"millis":0.575843,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":530239,"millis":0.530239,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":520538,"millis":0.520538,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748256,"millis":0.748256,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":649548,"millis":0.649548,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104507,"millis":0.104507,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":526839,"millis":0.526839,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":449133,"millis":0.449133,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":416631,"millis":0.416631,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149511,"millis":0.149511,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178514,"millis":0.178514,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:07.775 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n"},{"result":{"nanos":682551,"millis":0.682551,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":400129,"millis":0.400129,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:07.776 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1213590,"millis":1.21359,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":225517,"millis":0.225517,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:07.778 [print] #notpresent \n"},{"result":{"nanos":121109,"millis":0.121109,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":319023,"millis":0.319023,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:07.778 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":597244,"millis":0.597244,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":352526,"millis":0.352526,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:07.779 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":309423,"millis":0.309423,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:07.780 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":534339,"millis":0.534339,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584443,"millis":0.584443,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":482836,"millis":0.482836,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.179455,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","startTime":1631163607198,"refId":"[1.61:67]","endTime":1631163607782,"exampleData":{"datasetIdentifierCode":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7"},"exampleIndex":60},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30603,"millis":0.030603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.554 karate.env system property was: null \n"},{"result":{"nanos":45704,"millis":0.045704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254219,"millis":0.254219,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56404,"millis":0.056404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469334,"millis":0.469334,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120709,"millis":0.120709,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":1131684,"millis":1.131684,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515068543,"millis":515.068543,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1029876,"millis":1.029876,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":911067,"millis":0.911067,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":701252,"millis":0.701252,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":469734,"millis":0.469734,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":712153,"millis":0.712153,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":592343,"millis":0.592343,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98208,"millis":0.098208,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":425532,"millis":0.425532,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":468234,"millis":0.468234,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":489536,"millis":0.489536,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":303422,"millis":0.303422,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":847862,"millis":0.847862,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.079 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n"},{"result":{"nanos":1067778,"millis":1.067778,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":240318,"millis":0.240318,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.081 [print] OGC:WMS \n"},{"result":{"nanos":801060,"millis":0.80106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":192915,"millis":0.192915,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.082 [print] #notpresent \n"},{"result":{"nanos":353527,"millis":0.353527,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":161912,"millis":0.161912,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.082 [print] OGC:WMS \n"},{"result":{"nanos":782458,"millis":0.782458,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205215,"millis":0.205215,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.083 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":528339,"millis":0.528339,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.084 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":1840436,"millis":1.840436,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567041,"millis":0.567041,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443733,"millis":0.443733,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.702672,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","startTime":1631163607554,"refId":"[1.62:67]","endTime":1631163608087,"exampleData":{"datasetIdentifierCode":"22bedc12-e9cb-4419-8e51-dfb375d46d01"},"exampleIndex":61},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.608 karate.env system property was: null \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51203,"millis":0.051203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82206,"millis":0.082206,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267219,"millis":0.267219,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66105,"millis":0.066105,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429831,"millis":0.429831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45004,"millis":0.045004,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":225317,"millis":0.225317,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22101,"millis":0.022101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66805,"millis":0.066805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":500088837,"millis":500.088837,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464234,"millis":0.464234,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":463934,"millis":0.463934,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":460234,"millis":0.460234,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":458334,"millis":0.458334,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559241,"millis":0.559241,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586743,"millis":0.586743,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97508,"millis":0.097508,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":496836,"millis":0.496836,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":450734,"millis":0.450734,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":517638,"millis":0.517638,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":157712,"millis":0.157712,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":706653,"millis":0.706653,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.116 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":489136,"millis":0.489136,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":514138,"millis":0.514138,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.117 [print] OGC:WFS \n"},{"result":{"nanos":487836,"millis":0.487836,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":504738,"millis":0.504738,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.118 [print] INSPIRE Atom \n"},{"result":{"nanos":110608,"millis":0.110608,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460034,"millis":0.460034,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.118 [print] OGC:WFS \n"},{"result":{"nanos":472435,"millis":0.472435,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":548841,"millis":0.548841,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.119 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":785158,"millis":0.785158,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.120 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":481235,"millis":0.481235,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1335199,"millis":1.335199,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":480536,"millis":0.480536,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":513.524929,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a931e334-b752-4935-8a98-00eddc443789","startTime":1631163607608,"refId":"[1.63:67]","endTime":1631163608122,"exampleData":{"datasetIdentifierCode":"a931e334-b752-4935-8a98-00eddc443789"},"exampleIndex":62},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64205,"millis":0.064205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.691 karate.env system property was: null \n"},{"result":{"nanos":48004,"millis":0.048004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":167013,"millis":0.167013,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":199915,"millis":0.199915,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":390629,"millis":0.390629,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148011,"millis":0.148011,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478836,"millis":0.478836,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118709,"millis":0.118709,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":227417,"millis":0.227417,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62104,"millis":0.062104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18002,"millis":0.018002,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525217993,"millis":525.217993,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":564841,"millis":0.564841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":479135,"millis":0.479135,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":465335,"millis":0.465335,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":522938,"millis":0.522938,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":579943,"millis":0.579943,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490136,"millis":0.490136,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31603,"millis":0.031603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363527,"millis":0.363527,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355827,"millis":0.355827,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360826,"millis":0.360826,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":771957,"millis":0.771957,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":741854,"millis":0.741854,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.224 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n"},{"result":{"nanos":411930,"millis":0.41193,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":459834,"millis":0.459834,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.225 [print] #notpresent \n"},{"result":{"nanos":402830,"millis":0.40283,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":516138,"millis":0.516138,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.226 [print] INSPIRE Atom \n"},{"result":{"nanos":62004,"millis":0.062004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":534839,"millis":0.534839,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.227 [print] #notpresent \n"},{"result":{"nanos":609845,"millis":0.609845,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":594843,"millis":0.594843,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.228 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":745555,"millis":0.745555,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.229 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":1120983,"millis":1.120983,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":722754,"millis":0.722754,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":8378318,"millis":8.378318,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.52864,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5f0c583a-101e-45ea-b684-a056713cf811","startTime":1631163607690,"refId":"[1.64:67]","endTime":1631163608239,"exampleData":{"datasetIdentifierCode":"5f0c583a-101e-45ea-b684-a056713cf811"},"exampleIndex":63},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58605,"millis":0.058605,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:07.784 karate.env system property was: null \n"},{"result":{"nanos":44604,"millis":0.044604,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":164112,"millis":0.164112,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139210,"millis":0.13921,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363027,"millis":0.363027,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":146811,"millis":0.146811,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":484035,"millis":0.484035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118809,"millis":0.118809,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":218116,"millis":0.218116,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63204,"millis":0.063204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35203,"millis":0.035203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":82906,"millis":0.082906,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22802,"millis":0.022802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534361568,"millis":534.361568,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":876664,"millis":0.876664,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":756556,"millis":0.756556,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":766856,"millis":0.766856,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690951,"millis":0.690951,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":778157,"millis":0.778157,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":747955,"millis":0.747955,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1234391,"millis":1.234391,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":492237,"millis":0.492237,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":470635,"millis":0.470635,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":412930,"millis":0.41293,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":360427,"millis":0.360427,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.329 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":456734,"millis":0.456734,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":560541,"millis":0.560541,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.330 [print] OGC:WMS \n"},{"result":{"nanos":455133,"millis":0.455133,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":346326,"millis":0.346326,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.331 [print] #notpresent \n"},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":313923,"millis":0.313923,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.332 [print] OGC:WMS \n"},{"result":{"nanos":520639,"millis":0.520639,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":341526,"millis":0.341526,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.333 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":343625,"millis":0.343625,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.333 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":501337,"millis":0.501337,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":838862,"millis":0.838862,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":553641,"millis":0.553641,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.28717,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"060d1139-c371-4c1e-9890-55999adfa4f9","startTime":1631163607784,"refId":"[1.65:67]","endTime":1631163608335,"exampleData":{"datasetIdentifierCode":"060d1139-c371-4c1e-9890-55999adfa4f9"},"exampleIndex":64},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64504,"millis":0.064504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.089 karate.env system property was: null \n"},{"result":{"nanos":48704,"millis":0.048704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138411,"millis":0.138411,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139311,"millis":0.139311,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341326,"millis":0.341326,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117509,"millis":0.117509,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370427,"millis":0.370427,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96707,"millis":0.096707,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":177313,"millis":0.177313,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":380228,"millis":0.380228,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":14601,"millis":0.014601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518895425,"millis":518.895425,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2801,"millis":0.002801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":602545,"millis":0.602545,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":542640,"millis":0.54264,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":372528,"millis":0.372528,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411131,"millis":0.411131,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":636647,"millis":0.636647,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":568442,"millis":0.568442,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414630,"millis":0.41463,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":397330,"millis":0.39733,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":393129,"millis":0.393129,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76406,"millis":0.076406,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142811,"millis":0.142811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.616 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":748956,"millis":0.748956,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96607,"millis":0.096607,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.617 [print] OGC:WFS \n"},{"result":{"nanos":684251,"millis":0.684251,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84306,"millis":0.084306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.617 [print] INSPIRE Atom \n"},{"result":{"nanos":316723,"millis":0.316723,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74505,"millis":0.074505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.618 [print] OGC:WFS \n"},{"result":{"nanos":796459,"millis":0.796459,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99907,"millis":0.099907,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.619 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":425131,"millis":0.425131,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.619 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":993273,"millis":0.993273,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":688351,"millis":0.688351,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.000522,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f59357eb-185f-42a5-b465-90bfa6e3e416","startTime":1631163608089,"refId":"[1.66:67]","endTime":1631163608621,"exampleData":{"datasetIdentifierCode":"f59357eb-185f-42a5-b465-90bfa6e3e416"},"exampleIndex":65},{"sectionIndex":0,"stepResults":[{"result":{"nanos":80106,"millis":0.080106,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.126 karate.env system property was: null \n"},{"result":{"nanos":991173,"millis":0.991173,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":213916,"millis":0.213916,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":411431,"millis":0.411431,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2635594,"millis":2.635594,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":144311,"millis":0.144311,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408030,"millis":0.40803,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109009,"millis":0.109009,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":471735,"millis":0.471735,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62904,"millis":0.062904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22301,"millis":0.022301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506215389,"millis":506.215389,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":444033,"millis":0.444033,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":500437,"millis":0.500437,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":426832,"millis":0.426832,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":438732,"millis":0.438732,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":434332,"millis":0.434332,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":523138,"millis":0.523138,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30203,"millis":0.030203,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388429,"millis":0.388429,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":425932,"millis":0.425932,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394829,"millis":0.394829,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79606,"millis":0.079606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":613346,"millis":0.613346,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.643 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":453333,"millis":0.453333,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89507,"millis":0.089507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.644 [print] OGC:WMS \n"},{"result":{"nanos":751655,"millis":0.751655,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94507,"millis":0.094507,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.645 [print] #notpresent \n"},{"result":{"nanos":70005,"millis":0.070005,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101707,"millis":0.101707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.645 [print] OGC:WMS \n"},{"result":{"nanos":524939,"millis":0.524939,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151611,"millis":0.151611,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.645 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":65205,"millis":0.065205,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.645 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":493636,"millis":0.493636,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":495037,"millis":0.495037,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":371127,"millis":0.371127,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.216223,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0426f471-f325-42ed-a775-81c397592e86","startTime":1631163608124,"refId":"[1.67:67]","endTime":1631163608647,"exampleData":{"datasetIdentifierCode":"0426f471-f325-42ed-a775-81c397592e86"},"exampleIndex":66},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79206,"millis":0.079206,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.243 karate.env system property was: null \n"},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51504,"millis":0.051504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60805,"millis":0.060805,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249919,"millis":0.249919,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49604,"millis":0.049604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413431,"millis":0.413431,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":638547,"millis":0.638547,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25002,"millis":0.025002,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521983154,"millis":521.983154,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":552241,"millis":0.552241,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":529339,"millis":0.529339,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":475735,"millis":0.475735,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":485036,"millis":0.485036,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":546240,"millis":0.54624,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462434,"millis":0.462434,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":357926,"millis":0.357926,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":393629,"millis":0.393629,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":369527,"millis":0.369527,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":590444,"millis":0.590444,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":633746,"millis":0.633746,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.773 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":417031,"millis":0.417031,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":421931,"millis":0.421931,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.774 [print] OGC:WMS \n"},{"result":{"nanos":380928,"millis":0.380928,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":389629,"millis":0.389629,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.775 [print] #notpresent \n"},{"result":{"nanos":50403,"millis":0.050403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":335825,"millis":0.335825,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.775 [print] OGC:WMS \n"},{"result":{"nanos":501837,"millis":0.501837,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":387929,"millis":0.387929,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.776 [print] Beheer PDOK \n"},{"result":{"nanos":719253,"millis":0.719253,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.777 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":527039,"millis":0.527039,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619945,"millis":0.619945,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":534840,"millis":0.53484,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.463174,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","startTime":1631163608241,"refId":"[1.68:67]","endTime":1631163608779,"exampleData":{"datasetIdentifierCode":"25c69c01-8dfa-406f-bbcb-24feba25dcc6"},"exampleIndex":67},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21602,"millis":0.021602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.337 karate.env system property was: null \n"},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60304,"millis":0.060304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71706,"millis":0.071706,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295822,"millis":0.295822,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62205,"millis":0.062205,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":495037,"millis":0.495037,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":281520,"millis":0.28152,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21202,"millis":0.021202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20102,"millis":0.020102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511678492,"millis":511.678492,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":759056,"millis":0.759056,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":708452,"millis":0.708452,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":647348,"millis":0.647348,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":623346,"millis":0.623346,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":734554,"millis":0.734554,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":797859,"millis":0.797859,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":513338,"millis":0.513338,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3971293,"millis":3.971293,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":659249,"millis":0.659249,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112808,"millis":0.112808,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":883165,"millis":0.883165,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:08.862 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":613445,"millis":0.613445,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":626947,"millis":0.626947,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:08.863 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":629047,"millis":0.629047,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":568442,"millis":0.568442,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:08.864 [print] #notpresent \n"},{"result":{"nanos":86906,"millis":0.086906,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":539540,"millis":0.53954,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:08.865 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":779758,"millis":0.779758,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":553341,"millis":0.553341,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:08.866 [print] Beheer PDOK \n"},{"result":{"nanos":78806,"millis":0.078806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:08.866 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":1431906,"millis":1.431906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":729454,"millis":0.729454,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":485036,"millis":0.485036,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.764207,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","startTime":1631163608337,"refId":"[1.69:67]","endTime":1631163608869,"exampleData":{"datasetIdentifierCode":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f"},"exampleIndex":68},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.624 karate.env system property was: null \n"},{"result":{"nanos":34202,"millis":0.034202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56404,"millis":0.056404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65304,"millis":0.065304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":288422,"millis":0.288422,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53403,"millis":0.053403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455234,"millis":0.455234,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44604,"millis":0.044604,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70705,"millis":0.070705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":375428,"millis":0.375428,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508402351,"millis":508.402351,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2801,"millis":0.002801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":545441,"millis":0.545441,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":600744,"millis":0.600744,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":509638,"millis":0.509638,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":487136,"millis":0.487136,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":505737,"millis":0.505737,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450433,"millis":0.450433,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24602,"millis":0.024602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":353226,"millis":0.353226,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335025,"millis":0.335025,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":345625,"millis":0.345625,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74506,"millis":0.074506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101107,"millis":0.101107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.139 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":915568,"millis":0.915568,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105807,"millis":0.105807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.140 [print] OGC:WMS \n"},{"result":{"nanos":468335,"millis":0.468335,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97507,"millis":0.097507,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.140 [print] #notpresent \n"},{"result":{"nanos":37503,"millis":0.037503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100707,"millis":0.100707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.141 [print] OGC:WMS \n"},{"result":{"nanos":1059578,"millis":1.059578,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110008,"millis":0.110008,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.142 [print] Beheer PDOK \n"},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.142 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":561541,"millis":0.561541,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":700352,"millis":0.700352,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":526139,"millis":0.526139,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.028734,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d981070b-888c-42d5-85ff-1e383f3d7fce","startTime":1631163608623,"refId":"[1.70:67]","endTime":1631163609144,"exampleData":{"datasetIdentifierCode":"d981070b-888c-42d5-85ff-1e383f3d7fce"},"exampleIndex":69},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.649 karate.env system property was: null \n"},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49403,"millis":0.049403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60704,"millis":0.060704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237118,"millis":0.237118,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55405,"millis":0.055405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442533,"millis":0.442533,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":119609,"millis":0.119609,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":264319,"millis":0.264319,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524914270,"millis":524.91427,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":778257,"millis":0.778257,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":792958,"millis":0.792958,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705552,"millis":0.705552,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":698651,"millis":0.698651,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":798059,"millis":0.798059,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":805459,"millis":0.805459,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59104,"millis":0.059104,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":460434,"millis":0.460434,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":564541,"millis":0.564541,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":392429,"millis":0.392429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83807,"millis":0.083807,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144011,"millis":0.144011,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.182 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":423931,"millis":0.423931,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99907,"millis":0.099907,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.183 [print] #notpresent \n"},{"result":{"nanos":741055,"millis":0.741055,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95707,"millis":0.095707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.184 [print] #notpresent \n"},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86006,"millis":0.086006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.184 [print] #notpresent \n"},{"result":{"nanos":712453,"millis":0.712453,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99708,"millis":0.099708,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.185 [print] KNMI \n"},{"result":{"nanos":766557,"millis":0.766557,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.186 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":437832,"millis":0.437832,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1954444,"millis":1.954444,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1014575,"millis":1.014575,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.058709,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","startTime":1631163608648,"refId":"[1.71:67]","endTime":1631163609190,"exampleData":{"datasetIdentifierCode":"1009c2a4-4dba-49a5-b643-914ba8b80b52"},"exampleIndex":70},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.781 karate.env system property was: null \n"},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50603,"millis":0.050603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77306,"millis":0.077306,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":280821,"millis":0.280821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436633,"millis":0.436633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43004,"millis":0.043004,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":417331,"millis":0.417331,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3901,"millis":0.003901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516176125,"millis":516.176125,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2501,"millis":0.002501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":651648,"millis":0.651648,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":614646,"millis":0.614646,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":529239,"millis":0.529239,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":492136,"millis":0.492136,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":599044,"millis":0.599044,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":549641,"millis":0.549641,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29302,"millis":0.029302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":361527,"millis":0.361527,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":354926,"millis":0.354926,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":487636,"millis":0.487636,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89907,"millis":0.089907,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":117309,"millis":0.117309,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.304 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1189888,"millis":1.189888,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":526439,"millis":0.526439,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.306 [print] OGC:WMS \n"},{"result":{"nanos":459934,"millis":0.459934,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":444332,"millis":0.444332,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.307 [print] #notpresent \n"},{"result":{"nanos":49104,"millis":0.049104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":397429,"millis":0.397429,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.307 [print] OGC:WMS \n"},{"result":{"nanos":570042,"millis":0.570042,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":458834,"millis":0.458834,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.308 [print] Beheer PDOK \n"},{"result":{"nanos":291521,"millis":0.291521,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.309 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":557041,"millis":0.557041,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3280543,"millis":3.280543,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":493236,"millis":0.493236,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.290743,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cea38797-ea4b-4969-b979-8d25eb543a6c","startTime":1631163608780,"refId":"[1.72:67]","endTime":1631163609313,"exampleData":{"datasetIdentifierCode":"cea38797-ea4b-4969-b979-8d25eb543a6c"},"exampleIndex":71},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:08.872 karate.env system property was: null \n"},{"result":{"nanos":33903,"millis":0.033903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55504,"millis":0.055504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73006,"millis":0.073006,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252119,"millis":0.252119,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63604,"millis":0.063604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435232,"millis":0.435232,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64704,"millis":0.064704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19302,"millis":0.019302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":436532,"millis":0.436532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15001,"millis":0.015001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526715803,"millis":526.715803,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":829561,"millis":0.829561,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":896867,"millis":0.896867,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":733154,"millis":0.733154,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":479936,"millis":0.479936,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1141284,"millis":1.141284,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":538240,"millis":0.53824,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":362627,"millis":0.362627,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":379928,"millis":0.379928,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":339625,"millis":0.339625,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90907,"millis":0.090907,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":362826,"millis":0.362826,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.407 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":540640,"millis":0.54064,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":176513,"millis":0.176513,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.407 [print] OGC:WMS \n"},{"result":{"nanos":472135,"millis":0.472135,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":307222,"millis":0.307222,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.408 [print] #notpresent \n"},{"result":{"nanos":45504,"millis":0.045504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":263720,"millis":0.26372,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.409 [print] OGC:WMS \n"},{"result":{"nanos":528939,"millis":0.528939,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":334825,"millis":0.334825,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.410 [print] Beheer PDOK \n"},{"result":{"nanos":244518,"millis":0.244518,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.410 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":522338,"millis":0.522338,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":708553,"millis":0.708553,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":566142,"millis":0.566142,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.154224,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3d01c1ca-973c-4652-baa5-39458bb9e181","startTime":1631163608871,"refId":"[1.73:67]","endTime":1631163609412,"exampleData":{"datasetIdentifierCode":"3d01c1ca-973c-4652-baa5-39458bb9e181"},"exampleIndex":72},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.146 karate.env system property was: null \n"},{"result":{"nanos":35503,"millis":0.035503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55504,"millis":0.055504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71305,"millis":0.071305,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271920,"millis":0.27192,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443633,"millis":0.443633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38603,"millis":0.038603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18702,"millis":0.018702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49404,"millis":0.049404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561716088,"millis":561.716088,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":748456,"millis":0.748456,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":705353,"millis":0.705353,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":661749,"millis":0.661749,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":681751,"millis":0.681751,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":772657,"millis":0.772657,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":715252,"millis":0.715252,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44003,"millis":0.044003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":593044,"millis":0.593044,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":539940,"millis":0.53994,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":538140,"millis":0.53814,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":142011,"millis":0.142011,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212015,"millis":0.212015,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.716 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":574042,"millis":0.574042,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180114,"millis":0.180114,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.717 [print] #notpresent \n"},{"result":{"nanos":567042,"millis":0.567042,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":172513,"millis":0.172513,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.717 [print] OGC:WFS \n"},{"result":{"nanos":54604,"millis":0.054604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87206,"millis":0.087206,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.718 [print] #notpresent \n"},{"result":{"nanos":404830,"millis":0.40483,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81506,"millis":0.081506,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.718 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":71205,"millis":0.071205,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.718 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":403030,"millis":0.40303,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":7000717,"millis":7.000717,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":540040,"millis":0.54004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":579.354693,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"542b330b-d3c6-4617-b97f-693e5cfd1872","startTime":1631163609146,"refId":"[1.74:67]","endTime":1631163609726,"exampleData":{"datasetIdentifierCode":"542b330b-d3c6-4617-b97f-693e5cfd1872"},"exampleIndex":73},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.193 karate.env system property was: null \n"},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62505,"millis":0.062505,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":259219,"millis":0.259219,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54104,"millis":0.054104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469035,"millis":0.469035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45003,"millis":0.045003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":288021,"millis":0.288021,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52104,"millis":0.052104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526132461,"millis":526.132461,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":409630,"millis":0.40963,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":448133,"millis":0.448133,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413030,"millis":0.41303,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404730,"millis":0.40473,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447033,"millis":0.447033,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":402829,"millis":0.402829,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":351726,"millis":0.351726,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":320023,"millis":0.320023,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":361827,"millis":0.361827,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121809,"millis":0.121809,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":115108,"millis":0.115108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.725 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":376528,"millis":0.376528,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":3139431,"millis":3.139431,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.728 [print] #notpresent \n"},{"result":{"nanos":397629,"millis":0.397629,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":142110,"millis":0.14211,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.729 [print] OGC:WFS \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87306,"millis":0.087306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.729 [print] #notpresent \n"},{"result":{"nanos":449533,"millis":0.449533,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120909,"millis":0.120909,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.730 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":66005,"millis":0.066005,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.730 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":434732,"millis":0.434732,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526439,"millis":0.526439,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":463634,"millis":0.463634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.608702,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68505be5-45c4-4889-a82a-125043bbdc44","startTime":1631163609192,"refId":"[1.75:67]","endTime":1631163609731,"exampleData":{"datasetIdentifierCode":"68505be5-45c4-4889-a82a-125043bbdc44"},"exampleIndex":74},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.315 karate.env system property was: null \n"},{"result":{"nanos":32103,"millis":0.032103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51104,"millis":0.051104,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":287621,"millis":0.287621,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425331,"millis":0.425331,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38603,"millis":0.038603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62805,"millis":0.062805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":170713,"millis":0.170713,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522502892,"millis":522.502892,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531139,"millis":0.531139,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":509638,"millis":0.509638,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":473135,"millis":0.473135,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":561141,"millis":0.561141,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":565342,"millis":0.565342,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478435,"millis":0.478435,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31803,"millis":0.031803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":409631,"millis":0.409631,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374028,"millis":0.374028,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":365227,"millis":0.365227,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99507,"millis":0.099507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":225617,"millis":0.225617,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.845 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":402830,"millis":0.40283,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165112,"millis":0.165112,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.845 [print] #notpresent \n"},{"result":{"nanos":390129,"millis":0.390129,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":176613,"millis":0.176613,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.846 [print] OGC:WMS \n"},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104107,"millis":0.104107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.846 [print] #notpresent \n"},{"result":{"nanos":430932,"millis":0.430932,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":174713,"millis":0.174713,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:09.847 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":86607,"millis":0.086607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:09.847 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":402630,"millis":0.40263,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":807660,"millis":0.80766,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1260993,"millis":1.260993,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.819956,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","startTime":1631163609315,"refId":"[1.76:67]","endTime":1631163609849,"exampleData":{"datasetIdentifierCode":"7af7b20d-3f8a-4d7f-8124-73980535a4f6"},"exampleIndex":75},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20802,"millis":0.020802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.414 karate.env system property was: null \n"},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58004,"millis":0.058004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75605,"millis":0.075605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264720,"millis":0.26472,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475035,"millis":0.475035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":300022,"millis":0.300022,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8801,"millis":0.008801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59005,"millis":0.059005,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535823076,"millis":535.823076,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":717653,"millis":0.717653,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":1295596,"millis":1.295596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":721554,"millis":0.721554,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":687751,"millis":0.687751,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":801660,"millis":0.80166,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":26923289,"millis":26.923289,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":272920,"millis":0.27292,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1070679,"millis":1.070679,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":548940,"millis":0.54894,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":520339,"millis":0.520339,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":230017,"millis":0.230017,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":659849,"millis":0.659849,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:09.987 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":491937,"millis":0.491937,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":414331,"millis":0.414331,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:09.988 [print] #notpresent \n"},{"result":{"nanos":662149,"millis":0.662149,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":457534,"millis":0.457534,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:09.998 [print] #notpresent \n"},{"result":{"nanos":122509,"millis":0.122509,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":366527,"millis":0.366527,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:09.999 [print] #notpresent \n"},{"result":{"nanos":590844,"millis":0.590844,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":407730,"millis":0.40773,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.000 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":347925,"millis":0.347925,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.000 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":522839,"millis":0.522839,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697751,"millis":0.697751,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":529339,"millis":0.529339,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":577.354246,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b4b59b2c-156d-412e-b8f0-c0779402de80","startTime":1631163609414,"refId":"[1.77:67]","endTime":1631163610002,"exampleData":{"datasetIdentifierCode":"b4b59b2c-156d-412e-b8f0-c0779402de80"},"exampleIndex":76},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.734 karate.env system property was: null \n"},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43304,"millis":0.043304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209415,"millis":0.209415,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48003,"millis":0.048003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424831,"millis":0.424831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98707,"millis":0.098707,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3801,"millis":0.003801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":567553520,"millis":567.55352,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":729754,"millis":0.729754,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":543940,"millis":0.54394,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413231,"millis":0.413231,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397529,"millis":0.397529,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":657748,"millis":0.657748,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":464335,"millis":0.464335,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94107,"millis":0.094107,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":431032,"millis":0.431032,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":453333,"millis":0.453333,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":868764,"millis":0.868764,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":885365,"millis":0.885365,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.310 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":496236,"millis":0.496236,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474235,"millis":0.474235,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.311 [print] #notpresent \n"},{"result":{"nanos":526039,"millis":0.526039,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":506237,"millis":0.506237,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.312 [print] #notpresent \n"},{"result":{"nanos":108808,"millis":0.108808,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":461634,"millis":0.461634,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.313 [print] #notpresent \n"},{"result":{"nanos":484636,"millis":0.484636,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":538539,"millis":0.538539,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.314 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":691751,"millis":0.691751,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.314 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":486136,"millis":0.486136,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561442,"millis":0.561442,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401130,"millis":0.40113,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.740992,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"94ed09fe-1753-4861-8c62-d66251b7cde3","startTime":1631163609728,"refId":"[1.78:67]","endTime":1631163610316,"exampleData":{"datasetIdentifierCode":"94ed09fe-1753-4861-8c62-d66251b7cde3"},"exampleIndex":77},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17802,"millis":0.017802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.733 karate.env system property was: null \n"},{"result":{"nanos":30003,"millis":0.030003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68305,"millis":0.068305,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248419,"millis":0.248419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51604,"millis":0.051604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429132,"millis":0.429132,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2411378,"millis":2.411378,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52304,"millis":0.052304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":581794372,"millis":581.794372,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":456334,"millis":0.456334,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":517338,"millis":0.517338,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454934,"millis":0.454934,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":471235,"millis":0.471235,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":598044,"millis":0.598044,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":496136,"millis":0.496136,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93807,"millis":0.093807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":453734,"millis":0.453734,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":441732,"millis":0.441732,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":404730,"millis":0.40473,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":652248,"millis":0.652248,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1004174,"millis":1.004174,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.325 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":485236,"millis":0.485236,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1916142,"millis":1.916142,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.327 [print] #notpresent \n"},{"result":{"nanos":524539,"millis":0.524539,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":522538,"millis":0.522538,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.328 [print] #notpresent \n"},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":516038,"millis":0.516038,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.329 [print] #notpresent \n"},{"result":{"nanos":618746,"millis":0.618746,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":599544,"millis":0.599544,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.330 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":740754,"millis":0.740754,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.331 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":532739,"millis":0.532739,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":497037,"millis":0.497037,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437932,"millis":0.437932,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":598.800729,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"56093b94-7517-456d-a0d4-338aba3d8c74","startTime":1631163609733,"refId":"[1.79:67]","endTime":1631163610333,"exampleData":{"datasetIdentifierCode":"56093b94-7517-456d-a0d4-338aba3d8c74"},"exampleIndex":78},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19701,"millis":0.019701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:09.852 karate.env system property was: null \n"},{"result":{"nanos":35002,"millis":0.035002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56304,"millis":0.056304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277120,"millis":0.27712,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453733,"millis":0.453733,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44504,"millis":0.044504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":141111,"millis":0.141111,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17602,"millis":0.017602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":104908,"millis":0.104908,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523541769,"millis":523.541769,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":607745,"millis":0.607745,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":497737,"millis":0.497737,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446933,"millis":0.446933,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424631,"millis":0.424631,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":578643,"millis":0.578643,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":516838,"millis":0.516838,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99607,"millis":0.099607,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":476535,"millis":0.476535,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":493437,"millis":0.493437,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":480136,"millis":0.480136,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":783458,"millis":0.783458,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":738055,"millis":0.738055,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.383 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":499237,"millis":0.499237,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":514638,"millis":0.514638,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.384 [print] #notpresent \n"},{"result":{"nanos":518338,"millis":0.518338,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":578843,"millis":0.578843,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.386 [print] #notpresent \n"},{"result":{"nanos":111008,"millis":0.111008,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":493137,"millis":0.493137,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.386 [print] #notpresent \n"},{"result":{"nanos":532739,"millis":0.532739,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":535640,"millis":0.53564,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.387 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":779858,"millis":0.779858,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.388 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":453133,"millis":0.453133,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526939,"millis":0.526939,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.962465,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","startTime":1631163609851,"refId":"[1.80:67]","endTime":1631163610389,"exampleData":{"datasetIdentifierCode":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b"},"exampleIndex":79},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63805,"millis":0.063805,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.005 karate.env system property was: null \n"},{"result":{"nanos":49603,"millis":0.049603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":140210,"millis":0.14021,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139010,"millis":0.13901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368427,"millis":0.368427,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":157612,"millis":0.157612,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474835,"millis":0.474835,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":110508,"millis":0.110508,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":357527,"millis":0.357527,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":64304,"millis":0.064304,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539829472,"millis":539.829472,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3001,"millis":0.003001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":755456,"millis":0.755456,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":743555,"millis":0.743555,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419831,"millis":0.419831,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391429,"millis":0.391429,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":578942,"millis":0.578942,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":369428,"millis":0.369428,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24802,"millis":0.024802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310623,"millis":0.310623,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":370227,"millis":0.370227,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":368027,"millis":0.368027,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88507,"millis":0.088507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113809,"millis":0.113809,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.552 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1115783,"millis":1.115783,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106608,"millis":0.106608,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.554 [print] #notpresent \n"},{"result":{"nanos":694051,"millis":0.694051,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91107,"millis":0.091107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.554 [print] OGC:WMS \n"},{"result":{"nanos":37303,"millis":0.037303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":320823,"millis":0.320823,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.555 [print] #notpresent \n"},{"result":{"nanos":628146,"millis":0.628146,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95007,"millis":0.095007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.556 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":781258,"millis":0.781258,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.556 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":484836,"millis":0.484836,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":709252,"millis":0.709252,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":447434,"millis":0.447434,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.902865,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","startTime":1631163610004,"refId":"[1.81:67]","endTime":1631163610558,"exampleData":{"datasetIdentifierCode":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9"},"exampleIndex":80},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61004,"millis":0.061004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.335 karate.env system property was: null \n"},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":137210,"millis":0.13721,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":147611,"millis":0.147611,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":375628,"millis":0.375628,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142110,"millis":0.14211,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468334,"millis":0.468334,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109608,"millis":0.109608,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131210,"millis":0.13121,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41604,"millis":0.041604,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14501,"millis":0.014501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516684762,"millis":516.684762,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":575443,"millis":0.575443,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":506638,"millis":0.506638,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422431,"millis":0.422431,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385528,"millis":0.385528,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":544440,"millis":0.54444,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":521739,"millis":0.521739,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":357126,"millis":0.357126,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346226,"millis":0.346226,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322424,"millis":0.322424,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74205,"millis":0.074205,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":98707,"millis":0.098707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.859 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":346026,"millis":0.346026,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130210,"millis":0.13021,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.859 [print] #notpresent \n"},{"result":{"nanos":393029,"millis":0.393029,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":126209,"millis":0.126209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.860 [print] OGC:WFS \n"},{"result":{"nanos":37302,"millis":0.037302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68105,"millis":0.068105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.860 [print] #notpresent \n"},{"result":{"nanos":418531,"millis":0.418531,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106208,"millis":0.106208,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.861 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":85406,"millis":0.085406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.861 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":444433,"millis":0.444433,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":701252,"millis":0.701252,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":440932,"millis":0.440932,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.931643,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","startTime":1631163610327,"refId":"[1.82:67]","endTime":1631163610862,"exampleData":{"datasetIdentifierCode":"fa3ecd49-4571-4eb3-84f3-2865f42934b2"},"exampleIndex":81},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61805,"millis":0.061805,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.339 karate.env system property was: null \n"},{"result":{"nanos":46103,"millis":0.046103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127409,"millis":0.127409,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":130610,"millis":0.13061,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315124,"millis":0.315124,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140810,"millis":0.14081,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457533,"millis":0.457533,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118009,"millis":0.118009,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":553441,"millis":0.553441,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75406,"millis":0.075406,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31002,"millis":0.031002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14202,"millis":0.014202,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551172910,"millis":551.17291,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3101,"millis":0.003101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464834,"millis":0.464834,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":483536,"millis":0.483536,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448433,"millis":0.448433,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":406930,"millis":0.40693,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":490436,"millis":0.490436,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":492836,"millis":0.492836,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31003,"millis":0.031003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359727,"millis":0.359727,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":336825,"millis":0.336825,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335125,"millis":0.335125,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110508,"millis":0.110508,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120009,"millis":0.120009,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.897 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":430732,"millis":0.430732,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83606,"millis":0.083606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.898 [print] #notpresent \n"},{"result":{"nanos":422831,"millis":0.422831,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73305,"millis":0.073305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.898 [print] OGC:WMS \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":220116,"millis":0.220116,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.899 [print] #notpresent \n"},{"result":{"nanos":796358,"millis":0.796358,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131210,"millis":0.13121,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.900 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":62304,"millis":0.062304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.900 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":425431,"millis":0.425431,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":522139,"millis":0.522139,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":446533,"millis":0.446533,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":561.024138,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"feeae7d3-7485-4a39-895c-ed65e945ced0","startTime":1631163610335,"refId":"[1.83:67]","endTime":1631163610901,"exampleData":{"datasetIdentifierCode":"feeae7d3-7485-4a39-895c-ed65e945ced0"},"exampleIndex":82},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58804,"millis":0.058804,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.392 karate.env system property was: null \n"},{"result":{"nanos":43903,"millis":0.043903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127809,"millis":0.127809,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124809,"millis":0.124809,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":313223,"millis":0.313223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":135110,"millis":0.13511,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442633,"millis":0.442633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95007,"millis":0.095007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414230,"millis":0.41423,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48804,"millis":0.048804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26002,"millis":0.026002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543231223,"millis":543.231223,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2401,"millis":0.002401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":543140,"millis":0.54314,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":528039,"millis":0.528039,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":473235,"millis":0.473235,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":589944,"millis":0.589944,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":524138,"millis":0.524138,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":402230,"millis":0.40223,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390329,"millis":0.390329,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":392329,"millis":0.392329,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89106,"millis":0.089106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106308,"millis":0.106308,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:10.943 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":641847,"millis":0.641847,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":170113,"millis":0.170113,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:10.944 [print] #notpresent \n"},{"result":{"nanos":415331,"millis":0.415331,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88606,"millis":0.088606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:10.944 [print] OGC:WMS \n"},{"result":{"nanos":134910,"millis":0.13491,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86707,"millis":0.086707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:10.944 [print] #notpresent \n"},{"result":{"nanos":433432,"millis":0.433432,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86006,"millis":0.086006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:10.945 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":75306,"millis":0.075306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:10.945 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":400430,"millis":0.40043,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2155559,"millis":2.155559,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":505537,"millis":0.505537,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.87758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","startTime":1631163610392,"refId":"[1.84:67]","endTime":1631163610948,"exampleData":{"datasetIdentifierCode":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39"},"exampleIndex":83},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16401,"millis":0.016401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.560 karate.env system property was: null \n"},{"result":{"nanos":29902,"millis":0.029902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60004,"millis":0.060004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":235517,"millis":0.235517,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1165786,"millis":1.165786,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":73506,"millis":0.073506,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78605,"millis":0.078605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":326924,"millis":0.326924,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57404,"millis":0.057404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525433008,"millis":525.433008,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":779158,"millis":0.779158,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":863464,"millis":0.863464,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":698652,"millis":0.698652,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":711953,"millis":0.711953,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":815760,"millis":0.81576,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":753255,"millis":0.753255,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49704,"millis":0.049704,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":611345,"millis":0.611345,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":582243,"millis":0.582243,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":568442,"millis":0.568442,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1109182,"millis":1.109182,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":823861,"millis":0.823861,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.097 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":408330,"millis":0.40833,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":483136,"millis":0.483136,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.098 [print] #notpresent \n"},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":435232,"millis":0.435232,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.099 [print] OGC:WMS \n"},{"result":{"nanos":47503,"millis":0.047503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":402029,"millis":0.402029,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.099 [print] #notpresent \n"},{"result":{"nanos":450834,"millis":0.450834,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":439233,"millis":0.439233,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.100 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":607245,"millis":0.607245,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.101 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":385028,"millis":0.385028,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":808760,"millis":0.80876,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":471235,"millis":0.471235,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.357283,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","startTime":1631163610560,"refId":"[1.85:67]","endTime":1631163611103,"exampleData":{"datasetIdentifierCode":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE"},"exampleIndex":84},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.864 karate.env system property was: null \n"},{"result":{"nanos":33602,"millis":0.033602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55404,"millis":0.055404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63904,"millis":0.063904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261519,"millis":0.261519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2267267,"millis":2.267267,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106408,"millis":0.106408,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22301,"millis":0.022301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55104,"millis":0.055104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":507540587,"millis":507.540587,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":589244,"millis":0.589244,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":474635,"millis":0.474635,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399730,"millis":0.39973,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":623946,"millis":0.623946,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":646448,"millis":0.646448,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":493836,"millis":0.493836,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32603,"millis":0.032603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":378428,"millis":0.378428,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394529,"millis":0.394529,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370327,"millis":0.370327,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":313623,"millis":0.313623,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":236517,"millis":0.236517,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.381 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":374028,"millis":0.374028,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":228616,"millis":0.228616,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.381 [print] #notpresent \n"},{"result":{"nanos":388028,"millis":0.388028,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":209315,"millis":0.209315,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.382 [print] OGC:WMS \n"},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":143811,"millis":0.143811,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.382 [print] #notpresent \n"},{"result":{"nanos":478136,"millis":0.478136,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":210016,"millis":0.210016,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.383 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":134010,"millis":0.13401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.383 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":412031,"millis":0.412031,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":661249,"millis":0.661249,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":477135,"millis":0.477135,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.292551,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b7880739-a701-4cc0-bb32-2bba61fa8924","startTime":1631163610864,"refId":"[1.86:67]","endTime":1631163611384,"exampleData":{"datasetIdentifierCode":"b7880739-a701-4cc0-bb32-2bba61fa8924"},"exampleIndex":85},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14501,"millis":0.014501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.903 karate.env system property was: null \n"},{"result":{"nanos":26402,"millis":0.026402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262919,"millis":0.262919,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48303,"millis":0.048303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":528239,"millis":0.528239,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48503,"millis":0.048503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125509,"millis":0.125509,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48404,"millis":0.048404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516158623,"millis":516.158623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2401,"millis":0.002401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":459834,"millis":0.459834,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":471235,"millis":0.471235,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":407430,"millis":0.40743,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":402630,"millis":0.40263,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":471535,"millis":0.471535,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":406931,"millis":0.406931,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346826,"millis":0.346826,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":354826,"millis":0.354826,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":352626,"millis":0.352626,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":553041,"millis":0.553041,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1551114,"millis":1.551114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.427 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":606745,"millis":0.606745,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.428 [print] #notpresent \n"},{"result":{"nanos":393129,"millis":0.393129,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":562342,"millis":0.562342,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.429 [print] OGC:WMS \n"},{"result":{"nanos":49503,"millis":0.049503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":537740,"millis":0.53774,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.429 [print] #notpresent \n"},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":462334,"millis":0.462334,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.430 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":796859,"millis":0.796859,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.431 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":443533,"millis":0.443533,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":614645,"millis":0.614645,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":467534,"millis":0.467534,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.001572,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","startTime":1631163610903,"refId":"[1.87:67]","endTime":1631163611433,"exampleData":{"datasetIdentifierCode":"82fa284e-8218-40e4-a593-c2f8a832c3d5"},"exampleIndex":86},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16602,"millis":0.016602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.951 karate.env system property was: null \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":300022,"millis":0.300022,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52403,"millis":0.052403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":710852,"millis":0.710852,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52304,"millis":0.052304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":453433,"millis":0.453433,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22202,"millis":0.022202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58505,"millis":0.058505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528086704,"millis":528.086704,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":546641,"millis":0.546641,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":514938,"millis":0.514938,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":429932,"millis":0.429932,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404730,"millis":0.40473,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":500937,"millis":0.500937,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":474435,"millis":0.474435,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29402,"millis":0.029402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":347026,"millis":0.347026,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356826,"millis":0.356826,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347326,"millis":0.347326,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78605,"millis":0.078605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161012,"millis":0.161012,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.485 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":604544,"millis":0.604544,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130710,"millis":0.13071,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.486 [print] OGC:WFS \n"},{"result":{"nanos":443732,"millis":0.443732,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86807,"millis":0.086807,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.487 [print] #notpresent \n"},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":181014,"millis":0.181014,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.487 [print] OGC:WFS \n"},{"result":{"nanos":521338,"millis":0.521338,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":130609,"millis":0.130609,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.488 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":183613,"millis":0.183613,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.488 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":571242,"millis":0.571242,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":611445,"millis":0.611445,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":499737,"millis":0.499737,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.122444,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","startTime":1631163610950,"refId":"[1.88:67]","endTime":1631163611489,"exampleData":{"datasetIdentifierCode":"76342a6d-452e-4e21-b5c0-81ff7b1be90e"},"exampleIndex":87},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.105 karate.env system property was: null \n"},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59705,"millis":0.059705,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278221,"millis":0.278221,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52403,"millis":0.052403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451333,"millis":0.451333,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":366827,"millis":0.366827,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":3801,"millis":0.003801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531563761,"millis":531.563761,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3401,"millis":0.003401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":756056,"millis":0.756056,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":833361,"millis":0.833361,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":675850,"millis":0.67585,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":648248,"millis":0.648248,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":772757,"millis":0.772757,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833261,"millis":0.833261,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":426632,"millis":0.426632,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335225,"millis":0.335225,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335725,"millis":0.335725,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":277221,"millis":0.277221,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":186513,"millis":0.186513,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.645 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":385928,"millis":0.385928,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":176213,"millis":0.176213,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.646 [print] #notpresent \n"},{"result":{"nanos":357027,"millis":0.357027,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":181814,"millis":0.181814,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.646 [print] OGC:WMS \n"},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136210,"millis":0.13621,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.646 [print] #notpresent \n"},{"result":{"nanos":661649,"millis":0.661649,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":265219,"millis":0.265219,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.647 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":220416,"millis":0.220416,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.647 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":368127,"millis":0.368127,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":604944,"millis":0.604944,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":586544,"millis":0.586544,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.129014,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","startTime":1631163611105,"refId":"[1.89:67]","endTime":1631163611649,"exampleData":{"datasetIdentifierCode":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9"},"exampleIndex":88},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47903,"millis":0.047903,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.387 karate.env system property was: null \n"},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62405,"millis":0.062405,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67105,"millis":0.067105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271420,"millis":0.27142,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467734,"millis":0.467734,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":785058,"millis":0.785058,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":1424705,"millis":1.424705,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21702,"millis":0.021702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107408,"millis":0.107408,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25002,"millis":0.025002,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540315108,"millis":540.315108,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":501837,"millis":0.501837,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":349526,"millis":0.349526,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":350326,"millis":0.350326,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":440933,"millis":0.440933,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":398629,"millis":0.398629,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35803,"millis":0.035803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":400129,"millis":0.400129,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":348426,"millis":0.348426,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":359027,"millis":0.359027,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103607,"millis":0.103607,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":921568,"millis":0.921568,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.937 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":336625,"millis":0.336625,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":401929,"millis":0.401929,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.937 [print] INSPIRE Atom \n"},{"result":{"nanos":317723,"millis":0.317723,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":388128,"millis":0.388128,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.938 [print] #notpresent \n"},{"result":{"nanos":44503,"millis":0.044503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":409930,"millis":0.40993,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.938 [print] INSPIRE Atom \n"},{"result":{"nanos":386629,"millis":0.386629,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":456034,"millis":0.456034,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.939 [print] Beheer PDOK \n"},{"result":{"nanos":85106,"millis":0.085106,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.940 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":1043577,"millis":1.043577,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696252,"millis":0.696252,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":430132,"millis":0.430132,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.366471,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7a748a59-36f4-475b-9647-402b5ce89a1c","startTime":1631163611386,"refId":"[1.90:67]","endTime":1631163611942,"exampleData":{"datasetIdentifierCode":"7a748a59-36f4-475b-9647-402b5ce89a1c"},"exampleIndex":89},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.435 karate.env system property was: null \n"},{"result":{"nanos":37803,"millis":0.037803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49404,"millis":0.049404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66405,"millis":0.066405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263019,"millis":0.263019,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48904,"millis":0.048904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415531,"millis":0.415531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66105,"millis":0.066105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":335725,"millis":0.335725,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532104601,"millis":532.104601,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":415231,"millis":0.415231,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":397529,"millis":0.397529,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":407030,"millis":0.40703,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381228,"millis":0.381228,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":462534,"millis":0.462534,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":431832,"millis":0.431832,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314724,"millis":0.314724,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":296121,"millis":0.296121,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":299023,"millis":0.299023,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65705,"millis":0.065705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":730653,"millis":0.730653,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.974 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":386328,"millis":0.386328,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139911,"millis":0.139911,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.974 [print] INSPIRE Atom \n"},{"result":{"nanos":367727,"millis":0.367727,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":132510,"millis":0.13251,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.975 [print] #notpresent \n"},{"result":{"nanos":55704,"millis":0.055704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.976 [print] INSPIRE Atom \n"},{"result":{"nanos":434132,"millis":0.434132,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141710,"millis":0.14171,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.976 [print] Beheer PDOK \n"},{"result":{"nanos":91307,"millis":0.091307,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.977 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":922068,"millis":0.922068,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":505737,"millis":0.505737,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":421931,"millis":0.421931,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.797316,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2931d583-9633-49d3-ad38-aabea82f6751","startTime":1631163611435,"refId":"[1.91:67]","endTime":1631163611979,"exampleData":{"datasetIdentifierCode":"2931d583-9633-49d3-ad38-aabea82f6751"},"exampleIndex":90},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.492 karate.env system property was: null \n"},{"result":{"nanos":31503,"millis":0.031503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57904,"millis":0.057904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271420,"millis":0.27142,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50703,"millis":0.050703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436832,"millis":0.436832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41003,"millis":0.041003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":155911,"millis":0.155911,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510602714,"millis":510.602714,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":399229,"millis":0.399229,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":432432,"millis":0.432432,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":394630,"millis":0.39463,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":389229,"millis":0.389229,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":443833,"millis":0.443833,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":429232,"millis":0.429232,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35302,"millis":0.035302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":378828,"millis":0.378828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339925,"millis":0.339925,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":350126,"millis":0.350126,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":329924,"millis":0.329924,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":249919,"millis":0.249919,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.009 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":375227,"millis":0.375227,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":227317,"millis":0.227317,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.010 [print] OGC:WMS \n"},{"result":{"nanos":365127,"millis":0.365127,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":195514,"millis":0.195514,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.010 [print] #notpresent \n"},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121109,"millis":0.121109,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.010 [print] OGC:WMS \n"},{"result":{"nanos":438332,"millis":0.438332,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":220316,"millis":0.220316,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.011 [print] Beheer PDOK \n"},{"result":{"nanos":210915,"millis":0.210915,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.011 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":456434,"millis":0.456434,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":468634,"millis":0.468634,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.545373,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","startTime":1631163611492,"refId":"[1.92:67]","endTime":1631163612013,"exampleData":{"datasetIdentifierCode":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9"},"exampleIndex":91},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.651 karate.env system property was: null \n"},{"result":{"nanos":33702,"millis":0.033702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59904,"millis":0.059904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":259619,"millis":0.259619,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50004,"millis":0.050004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435932,"millis":0.435932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":124009,"millis":0.124009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16302,"millis":0.016302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51003,"millis":0.051003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":507316871,"millis":507.316871,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3001,"millis":0.003001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":755256,"millis":0.755256,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":487336,"millis":0.487336,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":416431,"millis":0.416431,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":387429,"millis":0.387429,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":462034,"millis":0.462034,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":434032,"millis":0.434032,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36903,"millis":0.036903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":452133,"millis":0.452133,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374628,"millis":0.374628,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":346226,"millis":0.346226,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88406,"millis":0.088406,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":266919,"millis":0.266919,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.165 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":373427,"millis":0.373427,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145611,"millis":0.145611,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.166 [print] OGC:WMS \n"},{"result":{"nanos":347926,"millis":0.347926,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":227017,"millis":0.227017,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.166 [print] #notpresent \n"},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112308,"millis":0.112308,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.166 [print] OGC:WMS \n"},{"result":{"nanos":380928,"millis":0.380928,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":196915,"millis":0.196915,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.167 [print] Beheer PDOK \n"},{"result":{"nanos":198814,"millis":0.198814,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.167 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":415031,"millis":0.415031,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696151,"millis":0.696151,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":544640,"millis":0.54464,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":516.688061,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","startTime":1631163611651,"refId":"[1.93:67]","endTime":1631163612169,"exampleData":{"datasetIdentifierCode":"5523cfd7-a72c-409e-a0c7-89b858aafa64"},"exampleIndex":92},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.944 karate.env system property was: null \n"},{"result":{"nanos":36503,"millis":0.036503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67305,"millis":0.067305,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138310,"millis":0.13831,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368027,"millis":0.368027,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66405,"millis":0.066405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":536839,"millis":0.536839,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48804,"millis":0.048804,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84007,"millis":0.084007,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":328424,"millis":0.328424,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58705,"millis":0.058705,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530187259,"millis":530.187259,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2701,"millis":0.002701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":724953,"millis":0.724953,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":519138,"millis":0.519138,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451334,"millis":0.451334,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":422131,"millis":0.422131,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":630346,"millis":0.630346,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":599345,"millis":0.599345,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":153111,"millis":0.153111,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":476935,"millis":0.476935,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":437033,"millis":0.437033,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":454934,"millis":0.454934,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":544641,"millis":0.544641,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":498536,"millis":0.498536,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.484 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":473535,"millis":0.473535,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":318723,"millis":0.318723,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.485 [print] INSPIRE Atom \n"},{"result":{"nanos":459434,"millis":0.459434,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":274121,"millis":0.274121,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.485 [print] #notpresent \n"},{"result":{"nanos":108608,"millis":0.108608,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":241718,"millis":0.241718,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.486 [print] INSPIRE Atom \n"},{"result":{"nanos":491936,"millis":0.491936,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":347926,"millis":0.347926,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.487 [print] Beheer PDOK \n"},{"result":{"nanos":282121,"millis":0.282121,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.487 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":487136,"millis":0.487136,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":622746,"millis":0.622746,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":609145,"millis":0.609145,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.61578,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","startTime":1631163611944,"refId":"[1.94:67]","endTime":1631163612489,"exampleData":{"datasetIdentifierCode":"52d0313e-0d2b-44b4-b51e-d9e504307f70"},"exampleIndex":93},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.981 karate.env system property was: null \n"},{"result":{"nanos":29102,"millis":0.029102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47603,"millis":0.047603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51604,"millis":0.051604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246218,"millis":0.246218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47604,"millis":0.047604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426432,"millis":0.426432,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39503,"millis":0.039503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102607,"millis":0.102607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":329024,"millis":0.329024,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554129228,"millis":554.129228,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573243,"millis":0.573243,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":502937,"millis":0.502937,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":420531,"millis":0.420531,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":418730,"millis":0.41873,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":677450,"millis":0.67745,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":608645,"millis":0.608645,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93107,"millis":0.093107,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":446533,"millis":0.446533,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":456834,"millis":0.456834,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":442533,"millis":0.442533,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1010175,"millis":1.010175,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":340625,"millis":0.340625,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.543 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":541340,"millis":0.54134,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":461834,"millis":0.461834,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.544 [print] #notpresent \n"},{"result":{"nanos":526139,"millis":0.526139,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":312123,"millis":0.312123,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.545 [print] OGC:WMS \n"},{"result":{"nanos":128510,"millis":0.12851,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":219916,"millis":0.219916,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.545 [print] #notpresent \n"},{"result":{"nanos":521239,"millis":0.521239,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":277720,"millis":0.27772,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.546 [print] Beheer PDOK \n"},{"result":{"nanos":229317,"millis":0.229317,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.546 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":448333,"millis":0.448333,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":483835,"millis":0.483835,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":514738,"millis":0.514738,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":566.21742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"6de8b875-c4c2-4469-ac80-0782bb67f285","startTime":1631163611981,"refId":"[1.95:67]","endTime":1631163612548,"exampleData":{"datasetIdentifierCode":"6de8b875-c4c2-4469-ac80-0782bb67f285"},"exampleIndex":94},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.015 karate.env system property was: null \n"},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56104,"millis":0.056104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276620,"millis":0.27662,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51404,"millis":0.051404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442132,"millis":0.442132,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":201115,"millis":0.201115,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19702,"millis":0.019702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542061537,"millis":542.061537,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531239,"millis":0.531239,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":632547,"millis":0.632547,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":561341,"millis":0.561341,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":542340,"millis":0.54234,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":701352,"millis":0.701352,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":668850,"millis":0.66885,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95307,"millis":0.095307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":492636,"millis":0.492636,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":486236,"millis":0.486236,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":528039,"millis":0.528039,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138310,"millis":0.13831,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2263967,"millis":2.263967,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.566 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":595444,"millis":0.595444,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":398630,"millis":0.39863,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.567 [print] #notpresent \n"},{"result":{"nanos":583843,"millis":0.583843,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":382428,"millis":0.382428,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.568 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":100408,"millis":0.100408,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":337425,"millis":0.337425,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.569 [print] #notpresent \n"},{"result":{"nanos":606045,"millis":0.606045,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":375428,"millis":0.375428,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.570 [print] Beheer PDOK \n"},{"result":{"nanos":311023,"millis":0.311023,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.570 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":543240,"millis":0.54324,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1427706,"millis":1.427706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4086902,"millis":4.086902,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.736918,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"62c0d0a5-5826-406d-a625-d84bc5fec800","startTime":1631163612014,"refId":"[1.96:67]","endTime":1631163612576,"exampleData":{"datasetIdentifierCode":"62c0d0a5-5826-406d-a625-d84bc5fec800"},"exampleIndex":95},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.171 karate.env system property was: null \n"},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72706,"millis":0.072706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58505,"millis":0.058505,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":312723,"millis":0.312723,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64705,"millis":0.064705,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427231,"millis":0.427231,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38703,"millis":0.038703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":193515,"millis":0.193515,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17802,"millis":0.017802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20302,"millis":0.020302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70605,"millis":0.070605,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534425272,"millis":534.425272,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1012175,"millis":1.012175,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":876565,"millis":0.876565,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":524438,"millis":0.524438,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381928,"millis":0.381928,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":575343,"millis":0.575343,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":654148,"millis":0.654148,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":140110,"millis":0.14011,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":486336,"millis":0.486336,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":427232,"millis":0.427232,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":421131,"millis":0.421131,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146210,"millis":0.14621,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":151811,"millis":0.151811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.713 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":468035,"millis":0.468035,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202015,"millis":0.202015,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.714 [print] #notpresent \n"},{"result":{"nanos":484736,"millis":0.484736,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175813,"millis":0.175813,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.715 [print] #notpresent \n"},{"result":{"nanos":79605,"millis":0.079605,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138010,"millis":0.13801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.715 [print] #notpresent \n"},{"result":{"nanos":430032,"millis":0.430032,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":187214,"millis":0.187214,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.716 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":167012,"millis":0.167012,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.716 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":452733,"millis":0.452733,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1519713,"millis":1.519713,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":700052,"millis":0.700052,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.574369,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ce0a3f8e-6713-455f-805e-a067162c287d","startTime":1631163612171,"refId":"[1.97:67]","endTime":1631163612718,"exampleData":{"datasetIdentifierCode":"ce0a3f8e-6713-455f-805e-a067162c287d"},"exampleIndex":96},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58505,"millis":0.058505,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.492 karate.env system property was: null \n"},{"result":{"nanos":46204,"millis":0.046204,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129310,"millis":0.12931,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125709,"millis":0.125709,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333724,"millis":0.333724,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":686251,"millis":0.686251,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":115208,"millis":0.115208,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":281321,"millis":0.281321,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":60105,"millis":0.060105,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32803,"millis":0.032803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15302,"millis":0.015302,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":583749116,"millis":583.749116,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":560241,"millis":0.560241,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":464335,"millis":0.464335,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":444932,"millis":0.444932,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":433332,"millis":0.433332,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551741,"millis":0.551741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":560241,"millis":0.560241,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":409330,"millis":0.40933,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":372428,"millis":0.372428,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":388328,"millis":0.388328,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":737555,"millis":0.737555,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":680951,"millis":0.680951,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.084 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":390029,"millis":0.390029,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":405430,"millis":0.40543,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.085 [print] #notpresent \n"},{"result":{"nanos":436733,"millis":0.436733,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":414131,"millis":0.414131,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.086 [print] #notpresent \n"},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56604,"millis":0.056604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.086 [print] #notpresent \n"},{"result":{"nanos":463434,"millis":0.463434,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71705,"millis":0.071705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.086 [print] KNMI \n"},{"result":{"nanos":111009,"millis":0.111009,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.086 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":462635,"millis":0.462635,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":682451,"millis":0.682451,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":459634,"millis":0.459634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":595.452886,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","startTime":1631163612491,"refId":"[1.98:67]","endTime":1631163613088,"exampleData":{"datasetIdentifierCode":"55cf16e8-1c04-462c-b78a-e0d28823dd2e"},"exampleIndex":97},{"sectionIndex":0,"stepResults":[{"result":{"nanos":77706,"millis":0.077706,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.551 karate.env system property was: null \n"},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":147611,"millis":0.147611,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":133109,"millis":0.133109,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402530,"millis":0.40253,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171713,"millis":0.171713,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":633647,"millis":0.633647,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":115909,"millis":0.115909,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":698151,"millis":0.698151,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":93607,"millis":0.093607,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37203,"millis":0.037203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14502,"millis":0.014502,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":585819868,"millis":585.819868,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":778557,"millis":0.778557,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":893766,"millis":0.893766,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":850763,"millis":0.850763,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":883366,"millis":0.883366,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":665049,"millis":0.665049,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":501237,"millis":0.501237,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26602,"millis":0.026602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":399229,"millis":0.399229,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390229,"millis":0.390229,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":410230,"millis":0.41023,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74306,"millis":0.074306,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":73406,"millis":0.073406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.146 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1110282,"millis":1.110282,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86206,"millis":0.086206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.148 [print] #notpresent \n"},{"result":{"nanos":457934,"millis":0.457934,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":138610,"millis":0.13861,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.148 [print] #notpresent \n"},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":2363275,"millis":2.363275,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.151 [print] #notpresent \n"},{"result":{"nanos":982872,"millis":0.982872,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":227616,"millis":0.227616,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.152 [print] KNMI \n"},{"result":{"nanos":107908,"millis":0.107908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.152 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":882665,"millis":0.882665,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":786958,"millis":0.786958,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":518238,"millis":0.518238,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":602.109571,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","startTime":1631163612550,"refId":"[1.99:67]","endTime":1631163613154,"exampleData":{"datasetIdentifierCode":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e"},"exampleIndex":98},{"sectionIndex":0,"stepResults":[{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.583 karate.env system property was: null \n"},{"result":{"nanos":49204,"millis":0.049204,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":174613,"millis":0.174613,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":147911,"millis":0.147911,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":390928,"millis":0.390928,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":135911,"millis":0.135911,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":466035,"millis":0.466035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":145710,"millis":0.14571,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2365575,"millis":2.365575,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70805,"millis":0.070805,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31403,"millis":0.031403,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":606535898,"millis":606.535898,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1703426,"millis":1.703426,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":469435,"millis":0.469435,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":379128,"millis":0.379128,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":369027,"millis":0.369027,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":606045,"millis":0.606045,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":528439,"millis":0.528439,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":385929,"millis":0.385929,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355726,"millis":0.355726,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353226,"millis":0.353226,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":573042,"millis":0.573042,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":527539,"millis":0.527539,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.202 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":355326,"millis":0.355326,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":382228,"millis":0.382228,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.203 [print] #notpresent \n"},{"result":{"nanos":361827,"millis":0.361827,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":371327,"millis":0.371327,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.203 [print] #notpresent \n"},{"result":{"nanos":40403,"millis":0.040403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":360527,"millis":0.360527,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.204 [print] #notpresent \n"},{"result":{"nanos":840162,"millis":0.840162,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":416131,"millis":0.416131,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.205 [print] KNMI \n"},{"result":{"nanos":556241,"millis":0.556241,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.206 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":485236,"millis":0.485236,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":585343,"millis":0.585343,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406430,"millis":0.40643,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":622.116949,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7d533012-21ad-4a5b-a97e-a76988270273","startTime":1631163612582,"refId":"[1.100:67]","endTime":1631163613207,"exampleData":{"datasetIdentifierCode":"7d533012-21ad-4a5b-a97e-a76988270273"},"exampleIndex":99},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60004,"millis":0.060004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.721 karate.env system property was: null \n"},{"result":{"nanos":47403,"millis":0.047403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133410,"millis":0.13341,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":141810,"millis":0.14181,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":331124,"millis":0.331124,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121109,"millis":0.121109,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396130,"millis":0.39613,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91107,"millis":0.091107,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":477235,"millis":0.477235,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59204,"millis":0.059204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510789527,"millis":510.789527,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":436032,"millis":0.436032,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":469035,"millis":0.469035,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":403330,"millis":0.40333,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381128,"millis":0.381128,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":538439,"millis":0.538439,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424332,"millis":0.424332,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29202,"millis":0.029202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":321924,"millis":0.321924,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321023,"millis":0.321023,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302723,"millis":0.302723,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":4301218,"millis":4.301218,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":510738,"millis":0.510738,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.243 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":366927,"millis":0.366927,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1189888,"millis":1.189888,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.245 [print] OGC:WFS \n"},{"result":{"nanos":384128,"millis":0.384128,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1192588,"millis":1.192588,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.246 [print] #notpresent \n"},{"result":{"nanos":46704,"millis":0.046704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":355626,"millis":0.355626,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.247 [print] OGC:WFS \n"},{"result":{"nanos":400530,"millis":0.40053,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1200088,"millis":1.200088,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.248 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":873665,"millis":0.873665,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.249 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":442533,"millis":0.442533,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":637547,"millis":0.637547,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":589343,"millis":0.589343,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.865361,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5be1b57b-2cac-4119-92eb-700346543d47","startTime":1631163612720,"refId":"[1.101:67]","endTime":1631163613251,"exampleData":{"datasetIdentifierCode":"5be1b57b-2cac-4119-92eb-700346543d47"},"exampleIndex":100},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.090 karate.env system property was: null \n"},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212616,"millis":0.212616,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41003,"millis":0.041003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350226,"millis":0.350226,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106308,"millis":0.106308,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49903,"millis":0.049903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3601,"millis":0.003601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532232111,"millis":532.232111,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":566442,"millis":0.566442,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":565742,"millis":0.565742,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463434,"millis":0.463434,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":451034,"millis":0.451034,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":532340,"millis":0.53234,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":496837,"millis":0.496837,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31002,"millis":0.031002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370327,"millis":0.370327,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":396129,"millis":0.396129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":385129,"millis":0.385129,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":292721,"millis":0.292721,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":223616,"millis":0.223616,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.629 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n"},{"result":{"nanos":450134,"millis":0.450134,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191014,"millis":0.191014,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.629 [print] #notpresent \n"},{"result":{"nanos":401429,"millis":0.401429,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":225917,"millis":0.225917,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.630 [print] INSPIRE Atom \n"},{"result":{"nanos":45303,"millis":0.045303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":142310,"millis":0.14231,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.630 [print] #notpresent \n"},{"result":{"nanos":506537,"millis":0.506537,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":221917,"millis":0.221917,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.631 [print] RDW \n"},{"result":{"nanos":139511,"millis":0.139511,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.631 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n"},{"result":{"nanos":544340,"millis":0.54434,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":666549,"millis":0.666549,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":447833,"millis":0.447833,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.978531,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","startTime":1631163613090,"refId":"[1.102:67]","endTime":1631163613633,"exampleData":{"datasetIdentifierCode":"b85d4a0a-c0f7-42f4-9316-b214d205ca38"},"exampleIndex":101},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17402,"millis":0.017402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.156 karate.env system property was: null \n"},{"result":{"nanos":30603,"millis":0.030603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48904,"millis":0.048904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54104,"millis":0.054104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253919,"millis":0.253919,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48103,"millis":0.048103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417531,"millis":0.417531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98907,"millis":0.098907,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19302,"millis":0.019302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48903,"millis":0.048903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510313992,"millis":510.313992,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573843,"millis":0.573843,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":533139,"millis":0.533139,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":487136,"millis":0.487136,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":474435,"millis":0.474435,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":575642,"millis":0.575642,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":536439,"millis":0.536439,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36203,"millis":0.036203,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":440333,"millis":0.440333,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":323323,"millis":0.323323,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":326724,"millis":0.326724,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82407,"millis":0.082407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106008,"millis":0.106008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.673 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":370027,"millis":0.370027,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127710,"millis":0.12771,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.673 [print] OGC:WFS \n"},{"result":{"nanos":341025,"millis":0.341025,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112009,"millis":0.112009,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.674 [print] #notpresent \n"},{"result":{"nanos":34703,"millis":0.034703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.674 [print] OGC:WFS \n"},{"result":{"nanos":449733,"millis":0.449733,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113708,"millis":0.113708,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.675 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.675 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":466534,"millis":0.466534,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653748,"millis":0.653748,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1906141,"millis":1.906141,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.601953,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","startTime":1631163613156,"refId":"[1.103:67]","endTime":1631163613678,"exampleData":{"datasetIdentifierCode":"923a666c-ee4f-496c-8c85-94d5f81e1f30"},"exampleIndex":102},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.210 karate.env system property was: null \n"},{"result":{"nanos":28403,"millis":0.028403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46504,"millis":0.046504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236018,"millis":0.236018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44704,"millis":0.044704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427532,"millis":0.427532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55804,"millis":0.055804,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":413831,"millis":0.413831,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21102,"millis":0.021102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516083818,"millis":516.083818,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":666750,"millis":0.66675,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":689651,"millis":0.689651,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":672650,"millis":0.67265,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":632047,"millis":0.632047,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":864364,"millis":0.864364,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":523539,"millis":0.523539,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32902,"millis":0.032902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":299122,"millis":0.299122,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294721,"millis":0.294721,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300522,"millis":0.300522,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80106,"millis":0.080106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91007,"millis":0.091007,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.734 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":308423,"millis":0.308423,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108408,"millis":0.108408,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.734 [print] OGC:WFS \n"},{"result":{"nanos":314623,"millis":0.314623,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100608,"millis":0.100608,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.735 [print] #notpresent \n"},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45704,"millis":0.045704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.735 [print] OGC:WFS \n"},{"result":{"nanos":362627,"millis":0.362627,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94807,"millis":0.094807,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.735 [print] Beheer PDOK \n"},{"result":{"nanos":40703,"millis":0.040703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.735 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":361526,"millis":0.361526,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523139,"millis":0.523139,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360926,"millis":0.360926,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.320008,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","startTime":1631163613210,"refId":"[1.104:67]","endTime":1631163613737,"exampleData":{"datasetIdentifierCode":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1"},"exampleIndex":103},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18102,"millis":0.018102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.255 karate.env system property was: null \n"},{"result":{"nanos":56004,"millis":0.056004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54704,"millis":0.054704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67905,"millis":0.067905,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263720,"millis":0.26372,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46603,"millis":0.046603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404230,"millis":0.40423,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33903,"millis":0.033903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":392829,"millis":0.392829,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47804,"millis":0.047804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516799070,"millis":516.79907,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461734,"millis":0.461734,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":502337,"millis":0.502337,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485836,"millis":0.485836,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":488336,"millis":0.488336,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":517238,"millis":0.517238,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504438,"millis":0.504438,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":374128,"millis":0.374128,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":360127,"millis":0.360127,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360526,"millis":0.360526,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74106,"millis":0.074106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82506,"millis":0.082506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.778 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":467435,"millis":0.467435,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140211,"millis":0.140211,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.779 [print] OGC:WMS \n"},{"result":{"nanos":401429,"millis":0.401429,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99708,"millis":0.099708,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.779 [print] #notpresent \n"},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.779 [print] OGC:WMS \n"},{"result":{"nanos":496937,"millis":0.496937,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107607,"millis":0.107607,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.780 [print] Beheer PDOK \n"},{"result":{"nanos":48504,"millis":0.048504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.780 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":483236,"millis":0.483236,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558041,"millis":0.558041,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":398030,"millis":0.39803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.772536,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","startTime":1631163613255,"refId":"[1.105:67]","endTime":1631163613782,"exampleData":{"datasetIdentifierCode":"0bc2bcb8-558b-446b-b4e2-381b13d483a8"},"exampleIndex":104},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.635 karate.env system property was: null \n"},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51803,"millis":0.051803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238618,"millis":0.238618,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476035,"millis":0.476035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39403,"millis":0.039403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":166312,"millis":0.166312,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20801,"millis":0.020801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528144010,"millis":528.14401,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":622346,"millis":0.622346,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":561342,"millis":0.561342,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":504037,"millis":0.504037,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":483536,"millis":0.483536,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":608245,"millis":0.608245,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":587844,"millis":0.587844,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":572942,"millis":0.572942,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":452734,"millis":0.452734,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":445733,"millis":0.445733,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79906,"millis":0.079906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160612,"millis":0.160612,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.170 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":971872,"millis":0.971872,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109808,"millis":0.109808,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.171 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":464835,"millis":0.464835,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86707,"millis":0.086707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.171 [print] #notpresent \n"},{"result":{"nanos":42203,"millis":0.042203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155911,"millis":0.155911,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.172 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":558742,"millis":0.558742,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83907,"millis":0.083907,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.172 [print] Beheer PDOK \n"},{"result":{"nanos":77306,"millis":0.077306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.172 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":544340,"millis":0.54434,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":870064,"millis":0.870064,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":452434,"millis":0.452434,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.930607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","startTime":1631163613634,"refId":"[1.106:67]","endTime":1631163614174,"exampleData":{"datasetIdentifierCode":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd"},"exampleIndex":105},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.681 karate.env system property was: null \n"},{"result":{"nanos":53604,"millis":0.053604,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86307,"millis":0.086307,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":283521,"millis":0.283521,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49604,"millis":0.049604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442632,"millis":0.442632,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65104,"millis":0.065104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21002,"millis":0.021002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":467134,"millis":0.467134,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":8001,"millis":0.008001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6701,"millis":0.006701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521917255,"millis":521.917255,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":645547,"millis":0.645547,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":685151,"millis":0.685151,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":708153,"millis":0.708153,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":659849,"millis":0.659849,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":744155,"millis":0.744155,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":708053,"millis":0.708053,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47804,"millis":0.047804,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":527839,"millis":0.527839,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":469135,"millis":0.469135,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328124,"millis":0.328124,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":542540,"millis":0.54254,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":624446,"millis":0.624446,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.213 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":389029,"millis":0.389029,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148811,"millis":0.148811,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.213 [print] OGC:WMS \n"},{"result":{"nanos":361527,"millis":0.361527,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":394929,"millis":0.394929,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.214 [print] #notpresent \n"},{"result":{"nanos":41803,"millis":0.041803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":350826,"millis":0.350826,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.214 [print] OGC:WMS \n"},{"result":{"nanos":424232,"millis":0.424232,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91507,"millis":0.091507,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.215 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":800159,"millis":0.800159,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.216 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":366127,"millis":0.366127,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":473335,"millis":0.473335,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358526,"millis":0.358526,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.468585,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","startTime":1631163613681,"refId":"[1.107:67]","endTime":1631163614217,"exampleData":{"datasetIdentifierCode":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f"},"exampleIndex":106},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.738 karate.env system property was: null \n"},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48304,"millis":0.048304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242318,"millis":0.242318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46404,"millis":0.046404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":472535,"millis":0.472535,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41403,"millis":0.041403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64105,"millis":0.064105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553919628,"millis":553.919628,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":817761,"millis":0.817761,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":831961,"millis":0.831961,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":746355,"millis":0.746355,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741755,"millis":0.741755,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":773058,"millis":0.773058,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":742655,"millis":0.742655,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48904,"millis":0.048904,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":553141,"millis":0.553141,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":587143,"millis":0.587143,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":573842,"millis":0.573842,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":245918,"millis":0.245918,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":194815,"millis":0.194815,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.301 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":744655,"millis":0.744655,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203015,"millis":0.203015,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.302 [print] OGC:WFS \n"},{"result":{"nanos":477635,"millis":0.477635,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":124809,"millis":0.124809,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.303 [print] #notpresent \n"},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":66505,"millis":0.066505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.303 [print] OGC:WFS \n"},{"result":{"nanos":389528,"millis":0.389528,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111708,"millis":0.111708,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.303 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":59104,"millis":0.059104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.303 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":455234,"millis":0.455234,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":606645,"millis":0.606645,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":540240,"millis":0.54024,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":565.704,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","startTime":1631163613738,"refId":"[1.108:67]","endTime":1631163614305,"exampleData":{"datasetIdentifierCode":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2"},"exampleIndex":107},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.784 karate.env system property was: null \n"},{"result":{"nanos":35002,"millis":0.035002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54504,"millis":0.054504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237717,"millis":0.237717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48404,"millis":0.048404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422931,"millis":0.422931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36302,"millis":0.036302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":153711,"millis":0.153711,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":110508,"millis":0.110508,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537287903,"millis":537.287903,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":534640,"millis":0.53464,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":533539,"millis":0.533539,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":568142,"millis":0.568142,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":474835,"millis":0.474835,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":549741,"millis":0.549741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":522639,"millis":0.522639,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":401330,"millis":0.40133,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":389429,"millis":0.389429,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425532,"millis":0.425532,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96908,"millis":0.096908,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":342526,"millis":0.342526,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.328 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":540640,"millis":0.54064,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":91107,"millis":0.091107,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.329 [print] OGC:WFS \n"},{"result":{"nanos":527239,"millis":0.527239,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129309,"millis":0.129309,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.329 [print] #notpresent \n"},{"result":{"nanos":150511,"millis":0.150511,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":206515,"millis":0.206515,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.330 [print] OGC:WFS \n"},{"result":{"nanos":485136,"millis":0.485136,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78006,"millis":0.078006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.330 [print] Beheer PDOK \n"},{"result":{"nanos":326324,"millis":0.326324,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.331 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":477636,"millis":0.477636,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660049,"millis":0.660049,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":448834,"millis":0.448834,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.585365,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1d568785-efdd-429d-b491-56f785c3656a","startTime":1631163613784,"refId":"[1.109:67]","endTime":1631163614332,"exampleData":{"datasetIdentifierCode":"1d568785-efdd-429d-b491-56f785c3656a"},"exampleIndex":108},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.177 karate.env system property was: null \n"},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254519,"millis":0.254519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417631,"millis":0.417631,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33702,"millis":0.033702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115008,"millis":0.115008,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14601,"millis":0.014601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32803,"millis":0.032803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523648132,"millis":523.648132,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1081480,"millis":1.08148,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":1084480,"millis":1.08448,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":973872,"millis":0.973872,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":929969,"millis":0.929969,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1232191,"millis":1.232191,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1312097,"millis":1.312097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":178713,"millis":0.178713,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":532239,"millis":0.532239,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":548941,"millis":0.548941,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":545941,"millis":0.545941,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148511,"millis":0.148511,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":809360,"millis":0.80936,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.711 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":541841,"millis":0.541841,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":592144,"millis":0.592144,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.713 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":671750,"millis":0.67175,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":534239,"millis":0.534239,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.714 [print] #notpresent \n"},{"result":{"nanos":107908,"millis":0.107908,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":496037,"millis":0.496037,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.714 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":584643,"millis":0.584643,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":504837,"millis":0.504837,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.716 [print] Beheer PDOK \n"},{"result":{"nanos":743455,"millis":0.743455,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.716 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":586843,"millis":0.586843,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527239,"millis":0.527239,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":420331,"millis":0.420331,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.482676,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"65f9628b-0a58-4348-8fff-c2d02788acdb","startTime":1631163614176,"refId":"[1.110:67]","endTime":1631163614718,"exampleData":{"datasetIdentifierCode":"65f9628b-0a58-4348-8fff-c2d02788acdb"},"exampleIndex":109},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.219 karate.env system property was: null \n"},{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46504,"millis":0.046504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49604,"millis":0.049604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246518,"millis":0.246518,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46903,"millis":0.046903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443933,"millis":0.443933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39203,"millis":0.039203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63505,"millis":0.063505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18801,"millis":0.018801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544778696,"millis":544.778696,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":865064,"millis":0.865064,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":853363,"millis":0.853363,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":749756,"millis":0.749756,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":731554,"millis":0.731554,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":893366,"millis":0.893366,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":578843,"millis":0.578843,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":142510,"millis":0.14251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":437233,"millis":0.437233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466234,"millis":0.466234,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432432,"millis":0.432432,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":381728,"millis":0.381728,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":343426,"millis":0.343426,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.773 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":450533,"millis":0.450533,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":330824,"millis":0.330824,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.774 [print] OGC:WMS \n"},{"result":{"nanos":444433,"millis":0.444433,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":334325,"millis":0.334325,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.774 [print] #notpresent \n"},{"result":{"nanos":94307,"millis":0.094307,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":301423,"millis":0.301423,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.775 [print] OGC:WMS \n"},{"result":{"nanos":464834,"millis":0.464834,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":360526,"millis":0.360526,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.776 [print] Beheer PDOK \n"},{"result":{"nanos":325624,"millis":0.325624,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.776 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":462134,"millis":0.462134,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":494437,"millis":0.494437,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385928,"millis":0.385928,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":557.196514,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"09588464-071b-47be-8cbe-d15f2e1f9634","startTime":1631163614219,"refId":"[1.111:67]","endTime":1631163614777,"exampleData":{"datasetIdentifierCode":"09588464-071b-47be-8cbe-d15f2e1f9634"},"exampleIndex":110},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18302,"millis":0.018302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.307 karate.env system property was: null \n"},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":251918,"millis":0.251918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443233,"millis":0.443233,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127110,"millis":0.12711,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15902,"millis":0.015902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52203,"millis":0.052203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '635bdc85-c596-4afb-ab07-de20c662310c'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566884930,"millis":566.88493,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":556141,"millis":0.556141,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '635bdc85-c596-4afb-ab07-de20c662310c'"}},{"result":{"nanos":509738,"millis":0.509738,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":489536,"millis":0.489536,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":490236,"millis":0.490236,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":643648,"millis":0.643648,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":595944,"millis":0.595944,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83706,"millis":0.083706,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":480635,"millis":0.480635,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466535,"millis":0.466535,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":492336,"millis":0.492336,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129810,"millis":0.12981,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":650949,"millis":0.650949,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.881 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/sr\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":498637,"millis":0.498637,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":458934,"millis":0.458934,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.882 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":451834,"millis":0.451834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":453233,"millis":0.453233,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.883 [print] #notpresent \n"},{"result":{"nanos":117409,"millis":0.117409,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":464435,"millis":0.464435,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.884 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":532839,"millis":0.532839,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":438332,"millis":0.438332,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.885 [print] Beheer PDOK \n"},{"result":{"nanos":1168386,"millis":1.168386,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.886 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":569342,"millis":0.569342,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":457434,"millis":0.457434,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"635bdc85-c596-4afb-ab07-de20c662310c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"635bdc85-c596-4afb-ab07-de20c662310c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":579.692379,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"635bdc85-c596-4afb-ab07-de20c662310c","startTime":1631163614307,"refId":"[1.112:67]","endTime":1631163614888,"exampleData":{"datasetIdentifierCode":"635bdc85-c596-4afb-ab07-de20c662310c"},"exampleIndex":111},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.335 karate.env system property was: null \n"},{"result":{"nanos":33803,"millis":0.033803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51603,"millis":0.051603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242817,"millis":0.242817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46104,"millis":0.046104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475336,"millis":0.475336,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":141010,"millis":0.14101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":109708,"millis":0.109708,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510564865,"millis":510.564865,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1170086,"millis":1.170086,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":1200989,"millis":1.200989,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1108082,"millis":1.108082,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1170086,"millis":1.170086,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":784758,"millis":0.784758,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833162,"millis":0.833162,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107308,"millis":0.107308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":573943,"millis":0.573943,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":595544,"millis":0.595544,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":751756,"millis":0.751756,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":237617,"millis":0.237617,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":824961,"millis":0.824961,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.857 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":631347,"millis":0.631347,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":556741,"millis":0.556741,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.858 [print] #notpresent \n"},{"result":{"nanos":634747,"millis":0.634747,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":528439,"millis":0.528439,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.859 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":151811,"millis":0.151811,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.860 [print] #notpresent \n"},{"result":{"nanos":743355,"millis":0.743355,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":467535,"millis":0.467535,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.861 [print] Beheer PDOK \n"},{"result":{"nanos":746655,"millis":0.746655,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.862 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":726554,"millis":0.726554,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476235,"millis":0.476235,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":504038,"millis":0.504038,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.854046,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","startTime":1631163614334,"refId":"[1.113:67]","endTime":1631163614863,"exampleData":{"datasetIdentifierCode":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f"},"exampleIndex":112},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55004,"millis":0.055004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.721 karate.env system property was: null \n"},{"result":{"nanos":43403,"millis":0.043403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133410,"millis":0.13341,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103208,"millis":0.103208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":287021,"millis":0.287021,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102907,"millis":0.102907,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":391429,"millis":0.391429,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87107,"millis":0.087107,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":251219,"millis":0.251219,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59805,"millis":0.059805,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33503,"millis":0.033503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14101,"millis":0.014101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":50303,"millis":0.050303,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527066485,"millis":527.066485,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":592844,"millis":0.592844,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":784758,"millis":0.784758,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1834536,"millis":1.834536,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":543440,"millis":0.54344,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":647848,"millis":0.647848,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":596244,"millis":0.596244,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31903,"millis":0.031903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":418931,"millis":0.418931,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":408130,"millis":0.40813,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":416931,"millis":0.416931,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164912,"millis":0.164912,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":997173,"millis":0.997173,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.258 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":467034,"millis":0.467034,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":521339,"millis":0.521339,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.259 [print] #notpresent \n"},{"result":{"nanos":566142,"millis":0.566142,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":551841,"millis":0.551841,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.260 [print] OGC:WFS \n"},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":501037,"millis":0.501037,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.261 [print] #notpresent \n"},{"result":{"nanos":608145,"millis":0.608145,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":583744,"millis":0.583744,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.262 [print] Beheer PDOK \n"},{"result":{"nanos":829861,"millis":0.829861,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.263 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":638047,"millis":0.638047,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":749655,"millis":0.749655,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":489737,"millis":0.489737,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.713144,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","startTime":1631163614720,"refId":"[1.114:67]","endTime":1631163615265,"exampleData":{"datasetIdentifierCode":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc"},"exampleIndex":113},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55405,"millis":0.055405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.781 karate.env system property was: null \n"},{"result":{"nanos":43004,"millis":0.043004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123809,"millis":0.123809,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113508,"millis":0.113508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":297922,"millis":0.297922,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120909,"millis":0.120909,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434532,"millis":0.434532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88307,"millis":0.088307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":289121,"millis":0.289121,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27503,"millis":0.027503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9401,"millis":0.009401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540652990,"millis":540.65299,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2801,"millis":0.002801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":896667,"millis":0.896667,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":849462,"millis":0.849462,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797559,"millis":0.797559,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":793858,"millis":0.793858,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":934469,"millis":0.934469,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":681050,"millis":0.68105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23402,"millis":0.023402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":311223,"millis":0.311223,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":352926,"millis":0.352926,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":334725,"millis":0.334725,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73505,"millis":0.073505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96507,"millis":0.096507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.330 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":456234,"millis":0.456234,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109908,"millis":0.109908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.330 [print] OGC:WMS \n"},{"result":{"nanos":447233,"millis":0.447233,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103808,"millis":0.103808,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.331 [print] #notpresent \n"},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45203,"millis":0.045203,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.331 [print] OGC:WMS \n"},{"result":{"nanos":433032,"millis":0.433032,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94407,"millis":0.094407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.332 [print] Beheer PDOK \n"},{"result":{"nanos":172813,"millis":0.172813,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.332 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":657648,"millis":0.657648,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1141285,"millis":1.141285,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406030,"millis":0.40603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.592574,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ce963e61-779f-470f-a99d-48d9796e5ba3","startTime":1631163614779,"refId":"[1.115:67]","endTime":1631163615334,"exampleData":{"datasetIdentifierCode":"ce963e61-779f-470f-a99d-48d9796e5ba3"},"exampleIndex":114},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57905,"millis":0.057905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.867 karate.env system property was: null \n"},{"result":{"nanos":43304,"millis":0.043304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":140611,"millis":0.140611,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112709,"millis":0.112709,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":335725,"millis":0.335725,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126210,"millis":0.12621,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427032,"millis":0.427032,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95407,"millis":0.095407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":530240,"millis":0.53024,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58805,"millis":0.058805,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":61004,"millis":0.061004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":47803,"millis":0.047803,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517530980,"millis":517.53098,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":717153,"millis":0.717153,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":689451,"millis":0.689451,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441732,"millis":0.441732,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":392529,"millis":0.392529,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":434732,"millis":0.434732,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":371728,"millis":0.371728,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23502,"millis":0.023502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359327,"millis":0.359327,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":463234,"millis":0.463234,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":366728,"millis":0.366728,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73106,"millis":0.073106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184614,"millis":0.184614,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.392 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":374628,"millis":0.374628,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":161012,"millis":0.161012,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.393 [print] OGC:WFS \n"},{"result":{"nanos":333725,"millis":0.333725,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103907,"millis":0.103907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.393 [print] #notpresent \n"},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.393 [print] OGC:WFS \n"},{"result":{"nanos":410831,"millis":0.410831,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74106,"millis":0.074106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.394 [print] Beheer PDOK \n"},{"result":{"nanos":73506,"millis":0.073506,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.394 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":478036,"millis":0.478036,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548740,"millis":0.54874,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407331,"millis":0.407331,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.214403,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","startTime":1631163614866,"refId":"[1.116:67]","endTime":1631163615395,"exampleData":{"datasetIdentifierCode":"5bb85b77-fffd-449b-bd61-f076fe07cc4b"},"exampleIndex":115},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.893 karate.env system property was: null \n"},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118608,"millis":0.118608,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109908,"millis":0.109908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286921,"millis":0.286921,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148311,"millis":0.148311,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":445933,"millis":0.445933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103708,"millis":0.103708,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":581643,"millis":0.581643,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62704,"millis":0.062704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38603,"millis":0.038603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f12ef7d-3eb4-46a9-8b45-702a0f054d57'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529078734,"millis":529.078734,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2601,"millis":0.002601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":568542,"millis":0.568542,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f12ef7d-3eb4-46a9-8b45-702a0f054d57'"}},{"result":{"nanos":633047,"millis":0.633047,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":592443,"millis":0.592443,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":574242,"millis":0.574242,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":678450,"millis":0.67845,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":633247,"millis":0.633247,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31403,"millis":0.031403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":451034,"millis":0.451034,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":410930,"millis":0.41093,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":420231,"millis":0.420231,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72105,"millis":0.072105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133310,"millis":0.13331,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.430 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/sr\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":879465,"millis":0.879465,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86207,"millis":0.086207,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.431 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":560641,"millis":0.560641,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":134710,"millis":0.13471,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.432 [print] #notpresent \n"},{"result":{"nanos":36602,"millis":0.036602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":173113,"millis":0.173113,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.432 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":646048,"millis":0.646048,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90707,"millis":0.090707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.433 [print] Beheer PDOK \n"},{"result":{"nanos":73406,"millis":0.073406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.433 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":639948,"millis":0.639948,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":517238,"millis":0.517238,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f12ef7d-3eb4-46a9-8b45-702a0f054d57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359926,"millis":0.359926,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f12ef7d-3eb4-46a9-8b45-702a0f054d57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.536281,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2f12ef7d-3eb4-46a9-8b45-702a0f054d57","startTime":1631163614892,"refId":"[1.117:67]","endTime":1631163615435,"exampleData":{"datasetIdentifierCode":"2f12ef7d-3eb4-46a9-8b45-702a0f054d57"},"exampleIndex":116},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.268 karate.env system property was: null \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248218,"millis":0.248218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44503,"millis":0.044503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436832,"millis":0.436832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67205,"millis":0.067205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20502,"millis":0.020502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":372328,"millis":0.372328,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":8401,"millis":0.008401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519349315,"millis":519.349315,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":559141,"millis":0.559141,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":509238,"millis":0.509238,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485736,"millis":0.485736,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":450233,"millis":0.450233,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":614045,"millis":0.614045,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":565542,"millis":0.565542,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29302,"millis":0.029302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":395030,"millis":0.39503,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":564841,"millis":0.564841,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":472835,"millis":0.472835,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132810,"millis":0.13281,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.794 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":972472,"millis":0.972472,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102407,"millis":0.102407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.795 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":765257,"millis":0.765257,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90906,"millis":0.090906,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.796 [print] #notpresent \n"},{"result":{"nanos":342526,"millis":0.342526,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":66105,"millis":0.066105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.796 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":745955,"millis":0.745955,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74905,"millis":0.074905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.797 [print] Beheer PDOK \n"},{"result":{"nanos":278320,"millis":0.27832,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.797 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":818961,"millis":0.818961,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":603244,"millis":0.603244,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":429732,"millis":0.429732,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.917569,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","startTime":1631163615267,"refId":"[1.118:67]","endTime":1631163615799,"exampleData":{"datasetIdentifierCode":"d69fee4a-e3ff-47d4-919d-e55276a3fad9"},"exampleIndex":117},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.336 karate.env system property was: null \n"},{"result":{"nanos":31002,"millis":0.031002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48003,"millis":0.048003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49704,"millis":0.049704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236418,"millis":0.236418,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45103,"millis":0.045103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406731,"millis":0.406731,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33303,"millis":0.033303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92807,"millis":0.092807,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14402,"millis":0.014402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526444239,"millis":526.444239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593043,"millis":0.593043,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":506137,"millis":0.506137,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441233,"millis":0.441233,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424831,"millis":0.424831,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":449433,"millis":0.449433,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":405630,"millis":0.40563,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45704,"millis":0.045704,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309423,"millis":0.309423,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":382928,"millis":0.382928,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335325,"millis":0.335325,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75006,"millis":0.075006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87807,"millis":0.087807,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.868 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":497137,"millis":0.497137,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":223417,"millis":0.223417,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.869 [print] INSPIRE Atom \n"},{"result":{"nanos":481635,"millis":0.481635,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.869 [print] #notpresent \n"},{"result":{"nanos":142110,"millis":0.14211,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73005,"millis":0.073005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.870 [print] INSPIRE Atom \n"},{"result":{"nanos":518838,"millis":0.518838,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77206,"millis":0.077206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.870 [print] Beheer PDOK \n"},{"result":{"nanos":25702,"millis":0.025702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.870 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":605644,"millis":0.605644,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":556842,"millis":0.556842,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402230,"millis":0.40223,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.267392,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","startTime":1631163615336,"refId":"[1.119:67]","endTime":1631163615872,"exampleData":{"datasetIdentifierCode":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225"},"exampleIndex":118},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16902,"millis":0.016902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.398 karate.env system property was: null \n"},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51404,"millis":0.051404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246318,"millis":0.246318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44503,"millis":0.044503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414730,"millis":0.41473,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37003,"millis":0.037003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59805,"millis":0.059805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51204,"millis":0.051204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":570351887,"millis":570.351887,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3541962,"millis":3.541962,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":3034925,"millis":3.034925,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2492084,"millis":2.492084,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4513934,"millis":4.513934,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4254914,"millis":4.254914,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2295270,"millis":2.29527,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34302,"millis":0.034302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1376502,"millis":1.376502,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1369201,"millis":1.369201,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1407905,"millis":1.407905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":205115,"millis":0.205115,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107808,"millis":0.107808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.994 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":2136958,"millis":2.136958,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107108,"millis":0.107108,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.997 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2028950,"millis":2.02895,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97107,"millis":0.097107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.999 [print] #notpresent \n"},{"result":{"nanos":35803,"millis":0.035803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":48404,"millis":0.048404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.999 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2679598,"millis":2.679598,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102907,"millis":0.102907,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.002 [print] Beheer PDOK \n"},{"result":{"nanos":43303,"millis":0.043303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.002 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2404278,"millis":2.404278,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":555041,"millis":0.555041,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414931,"millis":0.414931,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":606.706377,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"af4841b5-ce83-4edb-af41-429a21140316","startTime":1631163615397,"refId":"[1.120:67]","endTime":1631163616005,"exampleData":{"datasetIdentifierCode":"af4841b5-ce83-4edb-af41-429a21140316"},"exampleIndex":119},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23902,"millis":0.023902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.437 karate.env system property was: null \n"},{"result":{"nanos":42603,"millis":0.042603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71805,"millis":0.071805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69405,"millis":0.069405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":305423,"millis":0.305423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":601444,"millis":0.601444,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61904,"millis":0.061904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28902,"millis":0.028902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55804,"millis":0.055804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526501143,"millis":526.501143,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1072079,"millis":1.072079,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":990373,"millis":0.990373,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":663449,"millis":0.663449,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":514138,"millis":0.514138,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":579843,"millis":0.579843,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":527839,"millis":0.527839,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":61004,"millis":0.061004,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":434332,"millis":0.434332,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":402930,"millis":0.40293,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":572043,"millis":0.572043,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":766357,"millis":0.766357,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":721353,"millis":0.721353,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.973 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":471535,"millis":0.471535,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":479136,"millis":0.479136,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.974 [print] OGC:WFS \n"},{"result":{"nanos":448933,"millis":0.448933,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":428032,"millis":0.428032,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.975 [print] #notpresent \n"},{"result":{"nanos":42603,"millis":0.042603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":495637,"millis":0.495637,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.976 [print] OGC:WFS \n"},{"result":{"nanos":551341,"millis":0.551341,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.977 [print] Beheer PDOK \n"},{"result":{"nanos":674550,"millis":0.67455,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.978 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":511037,"millis":0.511037,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2280869,"millis":2.280869,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":535640,"millis":0.53564,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.601832,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1601e160-91e8-4091-9aca-10294f819d42","startTime":1631163615436,"refId":"[1.121:67]","endTime":1631163615981,"exampleData":{"datasetIdentifierCode":"1601e160-91e8-4091-9aca-10294f819d42"},"exampleIndex":120},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.801 karate.env system property was: null \n"},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54604,"millis":0.054604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245518,"millis":0.245518,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46804,"millis":0.046804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":812960,"millis":0.81296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129410,"millis":0.12941,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16602,"millis":0.016602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510096831,"millis":510.096831,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2101,"millis":0.002101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":566742,"millis":0.566742,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":606745,"millis":0.606745,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":612445,"millis":0.612445,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":502237,"millis":0.502237,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":535840,"millis":0.53584,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":481336,"millis":0.481336,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":350426,"millis":0.350426,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349226,"millis":0.349226,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370227,"millis":0.370227,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81506,"millis":0.081506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107208,"millis":0.107208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.319 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n"},{"result":{"nanos":1044277,"millis":1.044277,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97507,"millis":0.097507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.320 [print] OGC:WMS \n"},{"result":{"nanos":365727,"millis":0.365727,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71605,"millis":0.071605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.320 [print] #notpresent \n"},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.320 [print] OGC:WMS \n"},{"result":{"nanos":415731,"millis":0.415731,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72306,"millis":0.072306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.321 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":24002,"millis":0.024002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.321 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":398829,"millis":0.398829,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":594544,"millis":0.594544,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389429,"millis":0.389429,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.79095,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"17ad94f6-4961-448b-a6f5-5368b7870409","startTime":1631163615801,"refId":"[1.122:67]","endTime":1631163616322,"exampleData":{"datasetIdentifierCode":"17ad94f6-4961-448b-a6f5-5368b7870409"},"exampleIndex":121},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.874 karate.env system property was: null \n"},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53904,"millis":0.053904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70906,"millis":0.070906,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246919,"millis":0.246919,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47904,"millis":0.047904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469234,"millis":0.469234,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45803,"millis":0.045803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":133010,"millis":0.13301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17802,"millis":0.017802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20902,"millis":0.020902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541060421,"millis":541.060421,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":839262,"millis":0.839262,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":1129684,"millis":1.129684,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":873564,"millis":0.873564,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":770857,"millis":0.770857,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":863964,"millis":0.863964,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":827061,"millis":0.827061,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48504,"millis":0.048504,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":614245,"millis":0.614245,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":640548,"millis":0.640548,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":622747,"millis":0.622747,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127809,"millis":0.127809,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143011,"millis":0.143011,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.425 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1332398,"millis":1.332398,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96707,"millis":0.096707,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.426 [print] #notpresent \n"},{"result":{"nanos":435832,"millis":0.435832,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77006,"millis":0.077006,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.427 [print] #notpresent \n"},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":29002,"millis":0.029002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.427 [print] #notpresent \n"},{"result":{"nanos":488037,"millis":0.488037,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75306,"millis":0.075306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.427 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":837462,"millis":0.837462,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.428 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":586644,"millis":0.586644,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":632847,"millis":0.632847,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":426732,"millis":0.426732,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.840847,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","startTime":1631163615874,"refId":"[1.123:67]","endTime":1631163616430,"exampleData":{"datasetIdentifierCode":"24055de7-dcff-487a-8f9a-7aee4f0d8351"},"exampleIndex":122},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.983 karate.env system property was: null \n"},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":239117,"millis":0.239117,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96707,"millis":0.096707,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437432,"millis":0.437432,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":400330,"millis":0.40033,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19002,"millis":0.019002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517197256,"millis":517.197256,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":564942,"millis":0.564942,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":524739,"millis":0.524739,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451933,"millis":0.451933,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2654997,"millis":2.654997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":556441,"millis":0.556441,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":529539,"millis":0.529539,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94107,"millis":0.094107,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":380028,"millis":0.380028,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":385728,"millis":0.385728,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":392629,"millis":0.392629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145411,"millis":0.145411,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180914,"millis":0.180914,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.509 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":450933,"millis":0.450933,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154011,"millis":0.154011,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.510 [print] #notpresent \n"},{"result":{"nanos":439933,"millis":0.439933,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146011,"millis":0.146011,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.511 [print] OGC:WMS \n"},{"result":{"nanos":86407,"millis":0.086407,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99608,"millis":0.099608,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.511 [print] #notpresent \n"},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":194015,"millis":0.194015,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.512 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":119009,"millis":0.119009,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.512 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":488136,"millis":0.488136,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":489936,"millis":0.489936,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387329,"millis":0.387329,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.048333,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","startTime":1631163615983,"refId":"[1.124:67]","endTime":1631163616513,"exampleData":{"datasetIdentifierCode":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d"},"exampleIndex":123},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.007 karate.env system property was: null \n"},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53904,"millis":0.053904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243318,"millis":0.243318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46104,"millis":0.046104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":441533,"millis":0.441533,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62805,"millis":0.062805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":618146,"millis":0.618146,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":109208,"millis":0.109208,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539016469,"millis":539.016469,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2601,"millis":0.002601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":779457,"millis":0.779457,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":921868,"millis":0.921868,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":727654,"millis":0.727654,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":751455,"millis":0.751455,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":997674,"millis":0.997674,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":881766,"millis":0.881766,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":161812,"millis":0.161812,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":656149,"millis":0.656149,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":724954,"millis":0.724954,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":786259,"millis":0.786259,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183114,"millis":0.183114,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147311,"millis":0.147311,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.557 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":439633,"millis":0.439633,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165312,"millis":0.165312,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.557 [print] #notpresent \n"},{"result":{"nanos":422631,"millis":0.422631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143011,"millis":0.143011,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.558 [print] OGC:WMS \n"},{"result":{"nanos":84506,"millis":0.084506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99908,"millis":0.099908,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.558 [print] #notpresent \n"},{"result":{"nanos":462034,"millis":0.462034,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136611,"millis":0.136611,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.559 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":98607,"millis":0.098607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.559 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":424832,"millis":0.424832,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526838,"millis":0.526838,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":589943,"millis":0.589943,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.100742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","startTime":1631163616007,"refId":"[1.125:67]","endTime":1631163616561,"exampleData":{"datasetIdentifierCode":"7b4a0b26-5885-45cd-a99d-27887cff68e5"},"exampleIndex":124},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.324 karate.env system property was: null \n"},{"result":{"nanos":46203,"millis":0.046203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157611,"millis":0.157611,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57604,"millis":0.057604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250619,"millis":0.250619,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47003,"millis":0.047003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":533639,"millis":0.533639,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44703,"millis":0.044703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62104,"millis":0.062104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21302,"millis":0.021302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53004,"millis":0.053004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534180012,"millis":534.180012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":671649,"millis":0.671649,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":453933,"millis":0.453933,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":343126,"millis":0.343126,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":330225,"millis":0.330225,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":629946,"millis":0.629946,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":455534,"millis":0.455534,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81206,"millis":0.081206,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":373928,"millis":0.373928,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":446433,"millis":0.446433,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":477235,"millis":0.477235,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162112,"millis":0.162112,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":356426,"millis":0.356426,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.865 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":555341,"millis":0.555341,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":217516,"millis":0.217516,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.866 [print] OGC:WMS \n"},{"result":{"nanos":555941,"millis":0.555941,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":201215,"millis":0.201215,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.867 [print] #notpresent \n"},{"result":{"nanos":203015,"millis":0.203015,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":153612,"millis":0.153612,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.867 [print] OGC:WMS \n"},{"result":{"nanos":543240,"millis":0.54324,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":230217,"millis":0.230217,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.868 [print] Beheer PDOK \n"},{"result":{"nanos":243818,"millis":0.243818,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.868 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":485336,"millis":0.485336,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":572542,"millis":0.572542,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":419631,"millis":0.419631,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.666586,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","startTime":1631163616324,"refId":"[1.126:67]","endTime":1631163616870,"exampleData":{"datasetIdentifierCode":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa"},"exampleIndex":125},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58804,"millis":0.058804,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.457 karate.env system property was: null \n"},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144710,"millis":0.14471,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118309,"millis":0.118309,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330424,"millis":0.330424,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131310,"millis":0.13131,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1429206,"millis":1.429206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122509,"millis":0.122509,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":495537,"millis":0.495537,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":64205,"millis":0.064205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35103,"millis":0.035103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519481724,"millis":519.481724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":743055,"millis":0.743055,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":813660,"millis":0.81366,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367327,"millis":0.367327,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":348425,"millis":0.348425,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":597744,"millis":0.597744,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":529339,"millis":0.529339,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85807,"millis":0.085807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403130,"millis":0.40313,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409231,"millis":0.409231,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411330,"millis":0.41133,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":224817,"millis":0.224817,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":197715,"millis":0.197715,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.986 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n"},{"result":{"nanos":378828,"millis":0.378828,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173512,"millis":0.173512,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.986 [print] #notpresent \n"},{"result":{"nanos":388329,"millis":0.388329,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":158011,"millis":0.158011,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.987 [print] INSPIRE Atom \n"},{"result":{"nanos":79806,"millis":0.079806,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117708,"millis":0.117708,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.987 [print] #notpresent \n"},{"result":{"nanos":429832,"millis":0.429832,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":192414,"millis":0.192414,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.988 [print] Informatiehuis Water \n"},{"result":{"nanos":143611,"millis":0.143611,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.988 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":396329,"millis":0.396329,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3157534,"millis":3.157534,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":756256,"millis":0.756256,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.028998,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ef2a7962-8bb4-483f-ca52-85123f579","startTime":1631163616457,"refId":"[1.127:67]","endTime":1631163616992,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ca52-85123f579"},"exampleIndex":126},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53404,"millis":0.053404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.516 karate.env system property was: null \n"},{"result":{"nanos":41804,"millis":0.041804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109708,"millis":0.109708,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":322323,"millis":0.322323,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116409,"millis":0.116409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459534,"millis":0.459534,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97008,"millis":0.097008,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127110,"millis":0.12711,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42604,"millis":0.042604,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538825555,"millis":538.825555,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":602244,"millis":0.602244,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":652648,"millis":0.652648,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":575942,"millis":0.575942,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":558042,"millis":0.558042,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":674850,"millis":0.67485,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":601244,"millis":0.601244,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28002,"millis":0.028002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":481835,"millis":0.481835,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":450733,"millis":0.450733,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":798959,"millis":0.798959,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":620745,"millis":0.620745,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1019876,"millis":1.019876,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.064 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":602444,"millis":0.602444,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":4096403,"millis":4.096403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.066 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":505537,"millis":0.505537,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93507,"millis":0.093507,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.071 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":35602,"millis":0.035602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":32702,"millis":0.032702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.071 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1126683,"millis":1.126683,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90607,"millis":0.090607,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.072 [print] Beheer PDOK \n"},{"result":{"nanos":496537,"millis":0.496537,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.073 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n"},{"result":{"nanos":2516486,"millis":2.516486,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":876565,"millis":0.876565,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":643948,"millis":0.643948,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":558.598716,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","startTime":1631163616515,"refId":"[1.128:67]","endTime":1631163617077,"exampleData":{"datasetIdentifierCode":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d"},"exampleIndex":127},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57304,"millis":0.057304,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.563 karate.env system property was: null \n"},{"result":{"nanos":47003,"millis":0.047003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130909,"millis":0.130909,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":127310,"millis":0.12731,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302423,"millis":0.302423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":150111,"millis":0.150111,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419431,"millis":0.419431,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96407,"millis":0.096407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":122209,"millis":0.122209,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42603,"millis":0.042603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29403,"millis":0.029403,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522067815,"millis":522.067815,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2001,"millis":0.002001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":436932,"millis":0.436932,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":430132,"millis":0.430132,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421531,"millis":0.421531,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404430,"millis":0.40443,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":467534,"millis":0.467534,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":469435,"millis":0.469435,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":331524,"millis":0.331524,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344426,"millis":0.344426,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353626,"millis":0.353626,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74005,"millis":0.074005,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":95707,"millis":0.095707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.091 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":595544,"millis":0.595544,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":353826,"millis":0.353826,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.092 [print] OGC:WMS \n"},{"result":{"nanos":388529,"millis":0.388529,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":323624,"millis":0.323624,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.093 [print] #notpresent \n"},{"result":{"nanos":43404,"millis":0.043404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":253119,"millis":0.253119,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.093 [print] OGC:WMS \n"},{"result":{"nanos":464234,"millis":0.464234,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":307123,"millis":0.307123,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.094 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":239517,"millis":0.239517,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.094 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":408230,"millis":0.40823,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":583643,"millis":0.583643,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":466034,"millis":0.466034,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.950845,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","startTime":1631163616563,"refId":"[1.129:67]","endTime":1631163617096,"exampleData":{"datasetIdentifierCode":"f2d2cd9d-7410-485a-95e0-c1b885243eaf"},"exampleIndex":128},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.872 karate.env system property was: null \n"},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125709,"millis":0.125709,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111208,"millis":0.111208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309023,"millis":0.309023,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117908,"millis":0.117908,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422231,"millis":0.422231,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":113908,"millis":0.113908,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":193114,"millis":0.193114,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":130210,"millis":0.13021,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19802,"millis":0.019802,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511395326,"millis":511.395326,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":558741,"millis":0.558741,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":482436,"millis":0.482436,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":428432,"millis":0.428432,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":434932,"millis":0.434932,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":531239,"millis":0.531239,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":531740,"millis":0.53174,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38402,"millis":0.038402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":372828,"millis":0.372828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":360426,"millis":0.360426,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347626,"millis":0.347626,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83006,"millis":0.083006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":136510,"millis":0.13651,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.390 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n"},{"result":{"nanos":360326,"millis":0.360326,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148111,"millis":0.148111,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.391 [print] #notpresent \n"},{"result":{"nanos":579043,"millis":0.579043,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131409,"millis":0.131409,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.392 [print] OGC:WMS \n"},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72605,"millis":0.072605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.392 [print] #notpresent \n"},{"result":{"nanos":494137,"millis":0.494137,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119408,"millis":0.119408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.392 [print] Informatiehuis Water \n"},{"result":{"nanos":87906,"millis":0.087906,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.393 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":486936,"millis":0.486936,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":585744,"millis":0.585744,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":391028,"millis":0.391028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.938926,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"539ec652-482d-4806-a830-0458cf8be477","startTime":1631163616872,"refId":"[1.130:67]","endTime":1631163617394,"exampleData":{"datasetIdentifierCode":"539ec652-482d-4806-a830-0458cf8be477"},"exampleIndex":129},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16002,"millis":0.016002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.995 karate.env system property was: null \n"},{"result":{"nanos":55004,"millis":0.055004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47803,"millis":0.047803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48103,"millis":0.048103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227017,"millis":0.227017,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40703,"millis":0.040703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":380828,"millis":0.380828,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34402,"millis":0.034402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":177113,"millis":0.177113,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17102,"millis":0.017102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19802,"millis":0.019802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24102,"millis":0.024102,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47703,"millis":0.047703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522855474,"millis":522.855474,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":598345,"millis":0.598345,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":555641,"millis":0.555641,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":488936,"millis":0.488936,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":469735,"millis":0.469735,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":585543,"millis":0.585543,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":576543,"millis":0.576543,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396129,"millis":0.396129,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415031,"millis":0.415031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402130,"millis":0.40213,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":713952,"millis":0.713952,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":692852,"millis":0.692852,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.526 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":428131,"millis":0.428131,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":454634,"millis":0.454634,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.527 [print] OGC:WMS \n"},{"result":{"nanos":429132,"millis":0.429132,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":480735,"millis":0.480735,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.527 [print] #notpresent \n"},{"result":{"nanos":51604,"millis":0.051604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":409030,"millis":0.40903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.528 [print] OGC:WMS \n"},{"result":{"nanos":524939,"millis":0.524939,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":438732,"millis":0.438732,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.529 [print] Beheer PDOK \n"},{"result":{"nanos":760456,"millis":0.760456,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.530 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n"},{"result":{"nanos":513538,"millis":0.513538,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":643848,"millis":0.643848,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":431032,"millis":0.431032,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.496608,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d293204f-6581-4b0a-811b-1dcce97adedd","startTime":1631163616995,"refId":"[1.131:67]","endTime":1631163617531,"exampleData":{"datasetIdentifierCode":"d293204f-6581-4b0a-811b-1dcce97adedd"},"exampleIndex":130},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.079 karate.env system property was: null \n"},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271320,"millis":0.27132,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48904,"millis":0.048904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447633,"millis":0.447633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":455534,"millis":0.455534,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21902,"millis":0.021902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60505,"millis":0.060505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511650345,"millis":511.650345,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":764956,"millis":0.764956,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":853263,"millis":0.853263,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":822961,"millis":0.822961,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":846863,"millis":0.846863,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1119583,"millis":1.119583,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":906167,"millis":0.906167,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45204,"millis":0.045204,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":704552,"millis":0.704552,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":680450,"millis":0.68045,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":669349,"millis":0.669349,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107108,"millis":0.107108,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":439432,"millis":0.439432,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.601 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":639747,"millis":0.639747,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":472835,"millis":0.472835,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.602 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":461934,"millis":0.461934,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":418131,"millis":0.418131,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.603 [print] #notpresent \n"},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":362127,"millis":0.362127,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.604 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":545240,"millis":0.54524,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":415231,"millis":0.415231,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.605 [print] Beheer PDOK \n"},{"result":{"nanos":648348,"millis":0.648348,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.605 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":520839,"millis":0.520839,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573042,"millis":0.573042,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381728,"millis":0.381728,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.650755,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"db1e010a-96f8-453e-b63c-9c27d6273157","startTime":1631163617079,"refId":"[1.132:67]","endTime":1631163617607,"exampleData":{"datasetIdentifierCode":"db1e010a-96f8-453e-b63c-9c27d6273157"},"exampleIndex":131},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.098 karate.env system property was: null \n"},{"result":{"nanos":25602,"millis":0.025602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222217,"millis":0.222217,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63104,"millis":0.063104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1625820,"millis":1.62582,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":261120,"millis":0.26112,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19702,"millis":0.019702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20902,"millis":0.020902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69805,"millis":0.069805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537993494,"millis":537.993494,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438232,"millis":0.438232,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":504638,"millis":0.504638,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":449833,"millis":0.449833,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":492336,"millis":0.492336,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":534839,"millis":0.534839,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":521639,"millis":0.521639,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363627,"millis":0.363627,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":372827,"millis":0.372827,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370028,"millis":0.370028,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74705,"millis":0.074705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88906,"millis":0.088906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.643 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n"},{"result":{"nanos":396329,"millis":0.396329,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125209,"millis":0.125209,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.644 [print] OGC:WFS \n"},{"result":{"nanos":356127,"millis":0.356127,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106907,"millis":0.106907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.644 [print] #notpresent \n"},{"result":{"nanos":34103,"millis":0.034103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56105,"millis":0.056105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.644 [print] OGC:WFS \n"},{"result":{"nanos":431232,"millis":0.431232,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90907,"millis":0.090907,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.645 [print] Beheer PDOK \n"},{"result":{"nanos":136510,"millis":0.13651,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.645 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":395529,"millis":0.395529,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":644648,"millis":0.644648,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":399729,"millis":0.399729,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.887627,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","startTime":1631163617098,"refId":"[1.133:67]","endTime":1631163617646,"exampleData":{"datasetIdentifierCode":"008d85d1-460d-46f6-9af4-98afdedbc4dc"},"exampleIndex":132},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.396 karate.env system property was: null \n"},{"result":{"nanos":33002,"millis":0.033002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254819,"millis":0.254819,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426631,"millis":0.426631,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36702,"millis":0.036702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60904,"millis":0.060904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19701,"millis":0.019701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63405,"millis":0.063405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521959507,"millis":521.959507,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2901,"millis":0.002901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":623847,"millis":0.623847,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":587644,"millis":0.587644,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":473235,"millis":0.473235,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449633,"millis":0.449633,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":522339,"millis":0.522339,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484335,"millis":0.484335,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":379428,"millis":0.379428,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":414931,"millis":0.414931,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":433532,"millis":0.433532,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80306,"millis":0.080306,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":377927,"millis":0.377927,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.925 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n"},{"result":{"nanos":439432,"millis":0.439432,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201415,"millis":0.201415,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.925 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":386028,"millis":0.386028,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222417,"millis":0.222417,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.926 [print] #notpresent \n"},{"result":{"nanos":39603,"millis":0.039603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137710,"millis":0.13771,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.926 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":489736,"millis":0.489736,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":207915,"millis":0.207915,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.927 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":157412,"millis":0.157412,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.927 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":543340,"millis":0.54334,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4047399,"millis":4.047399,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":454333,"millis":0.454333,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.253986,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","startTime":1631163617396,"refId":"[1.134:67]","endTime":1631163617932,"exampleData":{"datasetIdentifierCode":"c99b1291-c51f-49c8-902d-5bd4148cbbde"},"exampleIndex":133},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18602,"millis":0.018602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.534 karate.env system property was: null \n"},{"result":{"nanos":35303,"millis":0.035303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52003,"millis":0.052003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56404,"millis":0.056404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250818,"millis":0.250818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458733,"millis":0.458733,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42203,"millis":0.042203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75306,"millis":0.075306,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":331725,"millis":0.331725,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21202,"millis":0.021202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3701,"millis":0.003701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":608111980,"millis":608.11198,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":802559,"millis":0.802559,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":863064,"millis":0.863064,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":753156,"millis":0.753156,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":729754,"millis":0.729754,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884166,"millis":0.884166,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":807160,"millis":0.80716,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":579843,"millis":0.579843,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":560341,"millis":0.560341,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":550341,"millis":0.550341,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154111,"millis":0.154111,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":701252,"millis":0.701252,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.152 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":349826,"millis":0.349826,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83506,"millis":0.083506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.152 [print] #notpresent \n"},{"result":{"nanos":685050,"millis":0.68505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80806,"millis":0.080806,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.153 [print] OGC:WMS \n"},{"result":{"nanos":302222,"millis":0.302222,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64004,"millis":0.064004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.153 [print] #notpresent \n"},{"result":{"nanos":669450,"millis":0.66945,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99908,"millis":0.099908,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.154 [print] RIVM \n"},{"result":{"nanos":333025,"millis":0.333025,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.154 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":992573,"millis":0.992573,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":654549,"millis":0.654549,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":404330,"millis":0.40433,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":621.725487,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","startTime":1631163617533,"refId":"[1.135:67]","endTime":1631163618156,"exampleData":{"datasetIdentifierCode":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf"},"exampleIndex":134},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.609 karate.env system property was: null \n"},{"result":{"nanos":33002,"millis":0.033002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50803,"millis":0.050803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237717,"millis":0.237717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47704,"millis":0.047704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444733,"millis":0.444733,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35103,"millis":0.035103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364327,"millis":0.364327,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44003,"millis":0.044003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3901,"millis":0.003901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":588015393,"millis":588.015393,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":493437,"millis":0.493437,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":482835,"millis":0.482835,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":434632,"millis":0.434632,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":401330,"millis":0.40133,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":494837,"millis":0.494837,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":451833,"millis":0.451833,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35202,"millis":0.035202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":328824,"millis":0.328824,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325325,"millis":0.325325,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":320523,"millis":0.320523,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103408,"millis":0.103408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.203 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":814560,"millis":0.81456,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":94107,"millis":0.094107,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.204 [print] INSPIRE Atom \n"},{"result":{"nanos":664649,"millis":0.664649,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81306,"millis":0.081306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.205 [print] #notpresent \n"},{"result":{"nanos":32503,"millis":0.032503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":358027,"millis":0.358027,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.205 [print] INSPIRE Atom \n"},{"result":{"nanos":717353,"millis":0.717353,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85706,"millis":0.085706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.206 [print] Beheer PDOK \n"},{"result":{"nanos":35003,"millis":0.035003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.206 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":486836,"millis":0.486836,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":604244,"millis":0.604244,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":379928,"millis":0.379928,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":597.694208,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","startTime":1631163617609,"refId":"[1.136:67]","endTime":1631163618208,"exampleData":{"datasetIdentifierCode":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb"},"exampleIndex":135},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16401,"millis":0.016401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.649 karate.env system property was: null \n"},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48803,"millis":0.048803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50803,"millis":0.050803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232417,"millis":0.232417,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43603,"millis":0.043603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420931,"millis":0.420931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36802,"millis":0.036802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96907,"millis":0.096907,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21002,"millis":0.021002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50703,"millis":0.050703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":589917534,"millis":589.917534,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":728954,"millis":0.728954,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":734854,"millis":0.734854,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":467434,"millis":0.467434,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":374628,"millis":0.374628,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436132,"millis":0.436132,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":404730,"millis":0.40473,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356626,"millis":0.356626,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":319124,"millis":0.319124,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":331224,"millis":0.331224,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71405,"millis":0.071405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":94507,"millis":0.094507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.244 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":330524,"millis":0.330524,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78806,"millis":0.078806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.245 [print] OGC:WMS \n"},{"result":{"nanos":371828,"millis":0.371828,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69105,"millis":0.069105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.245 [print] #notpresent \n"},{"result":{"nanos":32002,"millis":0.032002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.245 [print] OGC:WMS \n"},{"result":{"nanos":422131,"millis":0.422131,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83906,"millis":0.083906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.246 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.246 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":419431,"millis":0.419431,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":579743,"millis":0.579743,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386828,"millis":0.386828,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":598.198737,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","startTime":1631163617648,"refId":"[1.137:67]","endTime":1631163618247,"exampleData":{"datasetIdentifierCode":"97b49056-8ace-426c-ae3e-bf7efe4c000f"},"exampleIndex":136},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.934 karate.env system property was: null \n"},{"result":{"nanos":33303,"millis":0.033303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55004,"millis":0.055004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237818,"millis":0.237818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45103,"millis":0.045103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435532,"millis":0.435532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37202,"millis":0.037202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99707,"millis":0.099707,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":346426,"millis":0.346426,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":505446186,"millis":505.446186,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":547941,"millis":0.547941,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":470535,"millis":0.470535,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":433332,"millis":0.433332,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":458234,"millis":0.458234,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":493836,"millis":0.493836,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":452234,"millis":0.452234,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329324,"millis":0.329324,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":323924,"millis":0.323924,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332724,"millis":0.332724,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105208,"millis":0.105208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147411,"millis":0.147411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.446 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":1017176,"millis":1.017176,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":94307,"millis":0.094307,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.447 [print] #notpresent \n"},{"result":{"nanos":687951,"millis":0.687951,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85306,"millis":0.085306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.448 [print] INSPIRE Atom \n"},{"result":{"nanos":333925,"millis":0.333925,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64605,"millis":0.064605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.448 [print] #notpresent \n"},{"result":{"nanos":741655,"millis":0.741655,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93007,"millis":0.093007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.449 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.449 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":25413980,"millis":25.41398,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":706752,"millis":0.706752,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":404030,"millis":0.40403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.715094,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c47e4ef8-951e-4765-8d01-29150c12a22d","startTime":1631163617934,"refId":"[1.138:67]","endTime":1631163618476,"exampleData":{"datasetIdentifierCode":"c47e4ef8-951e-4765-8d01-29150c12a22d"},"exampleIndex":137},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.159 karate.env system property was: null \n"},{"result":{"nanos":32703,"millis":0.032703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238718,"millis":0.238718,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47504,"millis":0.047504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479736,"millis":0.479736,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34602,"millis":0.034602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75805,"millis":0.075805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":335625,"millis":0.335625,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15101,"millis":0.015101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63204,"millis":0.063204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534136709,"millis":534.136709,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1440706,"millis":1.440706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":987573,"millis":0.987573,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1010874,"millis":1.010874,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":565742,"millis":0.565742,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":734055,"millis":0.734055,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":644747,"millis":0.644747,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92707,"millis":0.092707,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":470735,"millis":0.470735,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":470835,"millis":0.470835,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":485636,"millis":0.485636,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":144310,"millis":0.14431,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174613,"millis":0.174613,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.702 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1020675,"millis":1.020675,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197415,"millis":0.197415,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.703 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":823361,"millis":0.823361,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":153211,"millis":0.153211,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.704 [print] #notpresent \n"},{"result":{"nanos":369327,"millis":0.369327,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133610,"millis":0.13361,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.705 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":808859,"millis":0.808859,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150011,"millis":0.150011,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.706 [print] Beheer PDOK \n"},{"result":{"nanos":389029,"millis":0.389029,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.706 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":1039877,"millis":1.039877,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2277468,"millis":2.277468,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":468735,"millis":0.468735,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.666329,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"97a7d966-7261-49d4-bc08-c4900981f092","startTime":1631163618158,"refId":"[1.139:67]","endTime":1631163618710,"exampleData":{"datasetIdentifierCode":"97a7d966-7261-49d4-bc08-c4900981f092"},"exampleIndex":138},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.210 karate.env system property was: null \n"},{"result":{"nanos":51504,"millis":0.051504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63005,"millis":0.063005,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263020,"millis":0.26302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47303,"millis":0.047303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435032,"millis":0.435032,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36702,"millis":0.036702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20601,"millis":0.020601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56304,"millis":0.056304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527141691,"millis":527.141691,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":606845,"millis":0.606845,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":447733,"millis":0.447733,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":387429,"millis":0.387429,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":312823,"millis":0.312823,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483536,"millis":0.483536,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462634,"millis":0.462634,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":424631,"millis":0.424631,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409830,"millis":0.40983,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394330,"millis":0.39433,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130410,"millis":0.13041,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":457433,"millis":0.457433,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.745 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":403329,"millis":0.403329,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143511,"millis":0.143511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.746 [print] OGC:WMS \n"},{"result":{"nanos":392429,"millis":0.392429,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130909,"millis":0.130909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.747 [print] #notpresent \n"},{"result":{"nanos":91607,"millis":0.091607,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108408,"millis":0.108408,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.747 [print] OGC:WMS \n"},{"result":{"nanos":646748,"millis":0.646748,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":138110,"millis":0.13811,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.748 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":511738,"millis":0.511738,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.748 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":1197089,"millis":1.197089,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509538,"millis":0.509538,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":702152,"millis":0.702152,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.865583,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a12ae6ca-b755-4707-884f-95c0d66f431a","startTime":1631163618210,"refId":"[1.140:67]","endTime":1631163618751,"exampleData":{"datasetIdentifierCode":"a12ae6ca-b755-4707-884f-95c0d66f431a"},"exampleIndex":139},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.250 karate.env system property was: null \n"},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66605,"millis":0.066605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244118,"millis":0.244118,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432832,"millis":0.432832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36902,"millis":0.036902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62305,"millis":0.062305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51003,"millis":0.051003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553927972,"millis":553.927972,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2801,"millis":0.002801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1916442,"millis":1.916442,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":2738303,"millis":2.738303,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2070253,"millis":2.070253,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2011249,"millis":2.011249,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2175361,"millis":2.175361,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2096155,"millis":2.096155,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96007,"millis":0.096007,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2073353,"millis":2.073353,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1435006,"millis":1.435006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1563515,"millis":1.563515,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":341425,"millis":0.341425,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":406130,"millis":0.40613,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.824 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1498711,"millis":1.498711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":402130,"millis":0.40213,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.826 [print] #notpresent \n"},{"result":{"nanos":1422205,"millis":1.422205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":219216,"millis":0.219216,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.828 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":188814,"millis":0.188814,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132810,"millis":0.13281,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.828 [print] #notpresent \n"},{"result":{"nanos":5111878,"millis":5.111878,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":591243,"millis":0.591243,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.834 [print] Beheer PDOK \n"},{"result":{"nanos":769057,"millis":0.769057,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.835 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2151659,"millis":2.151659,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":534639,"millis":0.534639,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392429,"millis":0.392429,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":587.36664,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","startTime":1631163618249,"refId":"[1.141:67]","endTime":1631163618838,"exampleData":{"datasetIdentifierCode":"82541a1f-2e4e-459f-ab2f-e97cac3ad040"},"exampleIndex":140},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57904,"millis":0.057904,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.479 karate.env system property was: null \n"},{"result":{"nanos":46003,"millis":0.046003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126209,"millis":0.126209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138310,"millis":0.13831,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":395029,"millis":0.395029,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129810,"millis":0.12981,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451233,"millis":0.451233,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":99007,"millis":0.099007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":255219,"millis":0.255219,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56105,"millis":0.056105,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529363256,"millis":529.363256,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":707552,"millis":0.707552,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":607745,"millis":0.607745,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":500737,"millis":0.500737,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":726154,"millis":0.726154,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":584943,"millis":0.584943,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96807,"millis":0.096807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":426032,"millis":0.426032,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":432132,"millis":0.432132,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":475835,"millis":0.475835,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":153811,"millis":0.153811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1302896,"millis":1.302896,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.017 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":484836,"millis":0.484836,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201615,"millis":0.201615,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.018 [print] #notpresent \n"},{"result":{"nanos":821661,"millis":0.821661,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":190714,"millis":0.190714,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.019 [print] #notpresent \n"},{"result":{"nanos":449833,"millis":0.449833,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":498237,"millis":0.498237,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.020 [print] #notpresent \n"},{"result":{"nanos":481635,"millis":0.481635,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":593944,"millis":0.593944,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.021 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":717853,"millis":0.717853,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.022 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":509038,"millis":0.509038,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":501237,"millis":0.501237,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387329,"millis":0.387329,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.568006,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a149d97f-0d55-462e-9956-5b47bea00a8d","startTime":1631163618478,"refId":"[1.142:67]","endTime":1631163619023,"exampleData":{"datasetIdentifierCode":"a149d97f-0d55-462e-9956-5b47bea00a8d"},"exampleIndex":141},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.713 karate.env system property was: null \n"},{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130009,"millis":0.130009,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125209,"millis":0.125209,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":359027,"millis":0.359027,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":178613,"millis":0.178613,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448033,"millis":0.448033,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":101907,"millis":0.101907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127009,"millis":0.127009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":364527,"millis":0.364527,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523476920,"millis":523.47692,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1388902,"millis":1.388902,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":1711126,"millis":1.711126,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1672623,"millis":1.672623,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1655622,"millis":1.655622,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1400904,"millis":1.400904,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1345299,"millis":1.345299,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":848963,"millis":0.848963,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":811760,"millis":0.81176,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":795159,"millis":0.795159,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121709,"millis":0.121709,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131710,"millis":0.13171,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.251 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1257893,"millis":1.257893,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104407,"millis":0.104407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.253 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2080454,"millis":2.080454,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78906,"millis":0.078906,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.255 [print] #notpresent \n"},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":678350,"millis":0.67835,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.256 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1518612,"millis":1.518612,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":260320,"millis":0.26032,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.257 [print] Beheer PDOK \n"},{"result":{"nanos":185114,"millis":0.185114,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.258 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n"},{"result":{"nanos":1611519,"millis":1.611519,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":729953,"millis":0.729953,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":534739,"millis":0.534739,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.55062,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","startTime":1631163618712,"refId":"[1.143:67]","endTime":1631163619261,"exampleData":{"datasetIdentifierCode":"94f241c2-43a2-42c3-8e9e-71976605aa0e"},"exampleIndex":142},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55404,"millis":0.055404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.754 karate.env system property was: null \n"},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125510,"millis":0.12551,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112009,"millis":0.112009,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311723,"millis":0.311723,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117009,"millis":0.117009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":480035,"millis":0.480035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98807,"millis":0.098807,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":142511,"millis":0.142511,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44204,"millis":0.044204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32803,"millis":0.032803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15202,"millis":0.015202,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517060045,"millis":517.060045,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":633547,"millis":0.633547,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":586644,"millis":0.586644,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":461034,"millis":0.461034,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":470534,"millis":0.470534,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":516939,"millis":0.516939,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":536539,"millis":0.536539,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":655449,"millis":0.655449,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":398029,"millis":0.398029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":383429,"millis":0.383429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":257019,"millis":0.257019,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":299423,"millis":0.299423,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.279 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":393429,"millis":0.393429,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":214916,"millis":0.214916,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.279 [print] #notpresent \n"},{"result":{"nanos":408831,"millis":0.408831,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":189614,"millis":0.189614,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.280 [print] OGC:WMS \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116008,"millis":0.116008,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.280 [print] #notpresent \n"},{"result":{"nanos":492837,"millis":0.492837,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":189614,"millis":0.189614,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.281 [print] Beheer PDOK \n"},{"result":{"nanos":194514,"millis":0.194514,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.281 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":483436,"millis":0.483436,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":550640,"millis":0.55064,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":6917412,"millis":6.917412,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.112411,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f76bdce5-344e-415f-8f2c-972755e80b65","startTime":1631163618753,"refId":"[1.144:67]","endTime":1631163619289,"exampleData":{"datasetIdentifierCode":"f76bdce5-344e-415f-8f2c-972755e80b65"},"exampleIndex":143},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54804,"millis":0.054804,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.841 karate.env system property was: null \n"},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130209,"millis":0.130209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109308,"millis":0.109308,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":313123,"millis":0.313123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":318323,"millis":0.318323,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419331,"millis":0.419331,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":120009,"millis":0.120009,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":199615,"millis":0.199615,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":203015,"millis":0.203015,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533163937,"millis":533.163937,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":533639,"millis":0.533639,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":595845,"millis":0.595845,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":531839,"millis":0.531839,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":467334,"millis":0.467334,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":586743,"millis":0.586743,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":575843,"millis":0.575843,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26802,"millis":0.026802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":364227,"millis":0.364227,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":393129,"millis":0.393129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":453933,"millis":0.453933,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112208,"millis":0.112208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":240418,"millis":0.240418,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.381 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1044477,"millis":1.044477,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102308,"millis":0.102308,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.382 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":689551,"millis":0.689551,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90907,"millis":0.090907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.383 [print] #notpresent \n"},{"result":{"nanos":341725,"millis":0.341725,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79806,"millis":0.079806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.384 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":858764,"millis":0.858764,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88906,"millis":0.088906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.385 [print] Beheer PDOK \n"},{"result":{"nanos":764857,"millis":0.764857,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.385 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":577242,"millis":0.577242,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":595644,"millis":0.595644,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":459734,"millis":0.459734,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.759466,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","startTime":1631163618840,"refId":"[1.145:67]","endTime":1631163619387,"exampleData":{"datasetIdentifierCode":"30f65c89-2246-49f8-8b50-0f1140d6f2aa"},"exampleIndex":144},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16901,"millis":0.016901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.025 karate.env system property was: null \n"},{"result":{"nanos":32703,"millis":0.032703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70506,"millis":0.070506,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57304,"millis":0.057304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236917,"millis":0.236917,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44604,"millis":0.044604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411931,"millis":0.411931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35403,"millis":0.035403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125210,"millis":0.12521,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44403,"millis":0.044403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":557043703,"millis":557.043703,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3401,"millis":0.003401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":732454,"millis":0.732454,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":704352,"millis":0.704352,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":635047,"millis":0.635047,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":624247,"millis":0.624247,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":929969,"millis":0.929969,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":739355,"millis":0.739355,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57705,"millis":0.057705,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":542640,"millis":0.54264,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":517738,"millis":0.517738,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2470483,"millis":2.470483,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":218017,"millis":0.218017,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1716727,"millis":1.716727,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.594 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":614745,"millis":0.614745,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132710,"millis":0.13271,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.595 [print] OGC:WMS \n"},{"result":{"nanos":1061878,"millis":1.061878,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128409,"millis":0.128409,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.596 [print] #notpresent \n"},{"result":{"nanos":68705,"millis":0.068705,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":608745,"millis":0.608745,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.597 [print] OGC:WMS \n"},{"result":{"nanos":2963219,"millis":2.963219,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90707,"millis":0.090707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.600 [print] Beheer PDOK \n"},{"result":{"nanos":1207990,"millis":1.20799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.602 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":404530,"millis":0.40453,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":749755,"millis":0.749755,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":519039,"millis":0.519039,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":576.614555,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f917ffa9-1531-48ea-867e-0d413d85b05a","startTime":1631163619025,"refId":"[1.146:67]","endTime":1631163619603,"exampleData":{"datasetIdentifierCode":"f917ffa9-1531-48ea-867e-0d413d85b05a"},"exampleIndex":145},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.263 karate.env system property was: null \n"},{"result":{"nanos":35503,"millis":0.035503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55104,"millis":0.055104,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55304,"millis":0.055304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":288722,"millis":0.288722,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50503,"millis":0.050503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":461334,"millis":0.461334,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":208015,"millis":0.208015,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55004,"millis":0.055004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523456419,"millis":523.456419,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":597944,"millis":0.597944,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":523239,"millis":0.523239,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":480235,"millis":0.480235,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":455234,"millis":0.455234,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":520738,"millis":0.520738,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":492837,"millis":0.492837,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":391029,"millis":0.391029,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":370828,"millis":0.370828,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":400329,"millis":0.400329,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83706,"millis":0.083706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":865964,"millis":0.865964,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.793 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":419431,"millis":0.419431,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":141611,"millis":0.141611,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.794 [print] OGC:WMS \n"},{"result":{"nanos":352827,"millis":0.352827,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73406,"millis":0.073406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.794 [print] #notpresent \n"},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71705,"millis":0.071705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.795 [print] OGC:WMS \n"},{"result":{"nanos":554141,"millis":0.554141,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118508,"millis":0.118508,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.795 [print] Beheer PDOK \n"},{"result":{"nanos":56804,"millis":0.056804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.795 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n"},{"result":{"nanos":534440,"millis":0.53444,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558842,"millis":0.558842,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":371927,"millis":0.371927,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.284645,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","startTime":1631163619262,"refId":"[1.147:67]","endTime":1631163619797,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a"},"exampleIndex":146},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.291 karate.env system property was: null \n"},{"result":{"nanos":32103,"millis":0.032103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253619,"millis":0.253619,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44904,"millis":0.044904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":525939,"millis":0.525939,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":196214,"millis":0.196214,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22502,"millis":0.022502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57904,"millis":0.057904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530655751,"millis":530.655751,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2001,"millis":0.002001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":430231,"millis":0.430231,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":449134,"millis":0.449134,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422431,"millis":0.422431,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407830,"millis":0.40783,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":464134,"millis":0.464134,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":453334,"millis":0.453334,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":345725,"millis":0.345725,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":342326,"millis":0.342326,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":373427,"millis":0.373427,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74706,"millis":0.074706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133710,"millis":0.13371,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.828 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":365627,"millis":0.365627,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119708,"millis":0.119708,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.828 [print] INSPIRE Atom \n"},{"result":{"nanos":368728,"millis":0.368728,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127909,"millis":0.127909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.829 [print] #notpresent \n"},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74606,"millis":0.074606,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.829 [print] INSPIRE Atom \n"},{"result":{"nanos":453833,"millis":0.453833,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85006,"millis":0.085006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.830 [print] Beheer PDOK \n"},{"result":{"nanos":78406,"millis":0.078406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.830 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":450433,"millis":0.450433,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":489536,"millis":0.489536,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":394629,"millis":0.394629,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.989769,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","startTime":1631163619291,"refId":"[1.148:67]","endTime":1631163619831,"exampleData":{"datasetIdentifierCode":"cb13a608-3d78-4f79-ba60-be63ccd6e268"},"exampleIndex":147},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17401,"millis":0.017401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.389 karate.env system property was: null \n"},{"result":{"nanos":34102,"millis":0.034102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53404,"millis":0.053404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52803,"millis":0.052803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238218,"millis":0.238218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45404,"millis":0.045404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399330,"millis":0.39933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26502,"millis":0.026502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47004,"millis":0.047004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":294622,"millis":0.294622,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518043618,"millis":518.043618,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":718754,"millis":0.718754,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":721254,"millis":0.721254,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":682151,"millis":0.682151,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":657148,"millis":0.657148,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":739055,"millis":0.739055,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":628747,"millis":0.628747,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":335225,"millis":0.335225,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":336225,"millis":0.336225,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":329325,"millis":0.329325,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73406,"millis":0.073406,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93107,"millis":0.093107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.915 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":471835,"millis":0.471835,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117108,"millis":0.117108,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.915 [print] INSPIRE Atom \n"},{"result":{"nanos":442933,"millis":0.442933,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111708,"millis":0.111708,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.916 [print] #notpresent \n"},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74605,"millis":0.074605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.916 [print] INSPIRE Atom \n"},{"result":{"nanos":393829,"millis":0.393829,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146011,"millis":0.146011,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.917 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":53804,"millis":0.053804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.917 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":637147,"millis":0.637147,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":562642,"millis":0.562642,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443032,"millis":0.443032,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.204272,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"77971fa3-f869-4726-969a-482e0b1a8c5d","startTime":1631163619389,"refId":"[1.149:67]","endTime":1631163619918,"exampleData":{"datasetIdentifierCode":"77971fa3-f869-4726-969a-482e0b1a8c5d"},"exampleIndex":148},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16302,"millis":0.016302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.606 karate.env system property was: null \n"},{"result":{"nanos":31103,"millis":0.031103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276920,"millis":0.27692,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412931,"millis":0.412931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88606,"millis":0.088606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20302,"millis":0.020302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69905,"millis":0.069905,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512142582,"millis":512.142582,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":727754,"millis":0.727754,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":646347,"millis":0.646347,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":727254,"millis":0.727254,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":609145,"millis":0.609145,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":646247,"millis":0.646247,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":682150,"millis":0.68215,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90407,"millis":0.090407,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":483636,"millis":0.483636,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":399029,"millis":0.399029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":404230,"millis":0.40423,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101007,"millis":0.101007,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122709,"millis":0.122709,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.125 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":416731,"millis":0.416731,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103608,"millis":0.103608,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.126 [print] INSPIRE Atom \n"},{"result":{"nanos":386429,"millis":0.386429,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68305,"millis":0.068305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.126 [print] #notpresent \n"},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.126 [print] INSPIRE Atom \n"},{"result":{"nanos":11336438,"millis":11.336438,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120009,"millis":0.120009,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.138 [print] Beheer PDOK \n"},{"result":{"nanos":33102,"millis":0.033102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.138 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":490136,"millis":0.490136,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634446,"millis":0.634446,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":429231,"millis":0.429231,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.001123,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","startTime":1631163619605,"refId":"[1.150:67]","endTime":1631163620139,"exampleData":{"datasetIdentifierCode":"555f668f-63b4-47ef-a666-f12d71c2cc4a"},"exampleIndex":149},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15501,"millis":0.015501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.799 karate.env system property was: null \n"},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46004,"millis":0.046004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45404,"millis":0.045404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":284821,"millis":0.284821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422031,"millis":0.422031,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37202,"millis":0.037202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61504,"millis":0.061504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4001,"millis":0.004001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528862118,"millis":528.862118,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":550141,"millis":0.550141,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":496637,"millis":0.496637,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432832,"millis":0.432832,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":393429,"millis":0.393429,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":473735,"millis":0.473735,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":475535,"millis":0.475535,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30703,"millis":0.030703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":324924,"millis":0.324924,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":326724,"millis":0.326724,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":25891215,"millis":25.891215,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":213116,"millis":0.213116,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":210616,"millis":0.210616,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.359 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":494037,"millis":0.494037,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160812,"millis":0.160812,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.360 [print] INSPIRE Atom \n"},{"result":{"nanos":428132,"millis":0.428132,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":157811,"millis":0.157811,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.360 [print] #notpresent \n"},{"result":{"nanos":87507,"millis":0.087507,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1058879,"millis":1.058879,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.362 [print] INSPIRE Atom \n"},{"result":{"nanos":2497784,"millis":2.497784,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1068580,"millis":1.06858,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.365 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":2416579,"millis":2.416579,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.368 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":447733,"millis":0.447733,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":635847,"millis":0.635847,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428232,"millis":0.428232,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":569.658939,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","startTime":1631163619799,"refId":"[1.151:67]","endTime":1631163620369,"exampleData":{"datasetIdentifierCode":"13e4dff0-1e80-11e2-81c1-0800200c9a66"},"exampleIndex":150},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.833 karate.env system property was: null \n"},{"result":{"nanos":39102,"millis":0.039102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60904,"millis":0.060904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218916,"millis":0.218916,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53004,"millis":0.053004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439933,"millis":0.439933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37703,"millis":0.037703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57604,"millis":0.057604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47204,"millis":0.047204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523136195,"millis":523.136195,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2001,"millis":0.002001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":596745,"millis":0.596745,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":6546685,"millis":6.546685,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":906167,"millis":0.906167,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":490736,"millis":0.490736,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":635847,"millis":0.635847,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":627147,"millis":0.627147,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93807,"millis":0.093807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":477636,"millis":0.477636,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":467634,"millis":0.467634,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411030,"millis":0.41103,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162912,"millis":0.162912,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":301922,"millis":0.301922,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.370 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms? \n"},{"result":{"nanos":480236,"millis":0.480236,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":254419,"millis":0.254419,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.370 [print] #notpresent \n"},{"result":{"nanos":511038,"millis":0.511038,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222817,"millis":0.222817,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.371 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":93207,"millis":0.093207,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":174213,"millis":0.174213,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.371 [print] #notpresent \n"},{"result":{"nanos":550641,"millis":0.550641,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":218416,"millis":0.218416,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.372 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":212116,"millis":0.212116,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.372 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":450833,"millis":0.450833,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":378428,"millis":0.378428,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":382528,"millis":0.382528,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.849833,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"49ff0584-a173-4098-824c-119edf8447f7","startTime":1631163619833,"refId":"[1.152:67]","endTime":1631163620374,"exampleData":{"datasetIdentifierCode":"49ff0584-a173-4098-824c-119edf8447f7"},"exampleIndex":151},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16902,"millis":0.016902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.921 karate.env system property was: null \n"},{"result":{"nanos":32403,"millis":0.032403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50004,"millis":0.050004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50703,"millis":0.050703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248818,"millis":0.248818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43403,"millis":0.043403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407730,"millis":0.40773,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35502,"millis":0.035502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60704,"millis":0.060704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":608845,"millis":0.608845,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35903,"millis":0.035903,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9301,"millis":0.009301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56105,"millis":0.056105,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534376626,"millis":534.376626,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":640248,"millis":0.640248,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":454234,"millis":0.454234,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":392730,"millis":0.39273,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378328,"millis":0.378328,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":655449,"millis":0.655449,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":545540,"millis":0.54554,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":100108,"millis":0.100108,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":436933,"millis":0.436933,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":427631,"millis":0.427631,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":330924,"millis":0.330924,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":159612,"millis":0.159612,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":388629,"millis":0.388629,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.462 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":539140,"millis":0.53914,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":169512,"millis":0.169512,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.463 [print] OGC:WFS \n"},{"result":{"nanos":457834,"millis":0.457834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150111,"millis":0.150111,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.464 [print] #notpresent \n"},{"result":{"nanos":190814,"millis":0.190814,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110509,"millis":0.110509,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.464 [print] OGC:WFS \n"},{"result":{"nanos":487236,"millis":0.487236,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":163912,"millis":0.163912,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.465 [print] Beheer PDOK \n"},{"result":{"nanos":246618,"millis":0.246618,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.465 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":529739,"millis":0.529739,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":508638,"millis":0.508638,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385028,"millis":0.385028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.907707,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"feabca04-e3fd-4802-96f2-583d328e30ad","startTime":1631163619920,"refId":"[1.153:67]","endTime":1631163620466,"exampleData":{"datasetIdentifierCode":"feabca04-e3fd-4802-96f2-583d328e30ad"},"exampleIndex":152},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.146 karate.env system property was: null \n"},{"result":{"nanos":37203,"millis":0.037203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54404,"millis":0.054404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261019,"millis":0.261019,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448733,"millis":0.448733,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39303,"millis":0.039303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66605,"millis":0.066605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21202,"millis":0.021202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":82406,"millis":0.082406,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514311442,"millis":514.311442,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933169,"millis":0.933169,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":892866,"millis":0.892866,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":773557,"millis":0.773557,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":758956,"millis":0.758956,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":669950,"millis":0.66995,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":520539,"millis":0.520539,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85306,"millis":0.085306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":371427,"millis":0.371427,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":428732,"millis":0.428732,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":326424,"millis":0.326424,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139910,"millis":0.13991,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":956871,"millis":0.956871,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.669 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":482336,"millis":0.482336,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":174513,"millis":0.174513,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.670 [print] OGC:WFS \n"},{"result":{"nanos":818061,"millis":0.818061,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":160512,"millis":0.160512,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.671 [print] #notpresent \n"},{"result":{"nanos":429532,"millis":0.429532,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144610,"millis":0.14461,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.672 [print] OGC:WFS \n"},{"result":{"nanos":826962,"millis":0.826962,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":156312,"millis":0.156312,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.673 [print] Beheer PDOK \n"},{"result":{"nanos":441032,"millis":0.441032,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.673 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":1027176,"millis":1.027176,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":500037,"millis":0.500037,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":408430,"millis":0.40843,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.906748,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6b608d4e-5628-4d59-97fc-0322c57357b2","startTime":1631163620145,"refId":"[1.154:67]","endTime":1631163620675,"exampleData":{"datasetIdentifierCode":"6b608d4e-5628-4d59-97fc-0322c57357b2"},"exampleIndex":153},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73906,"millis":0.073906,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.384 karate.env system property was: null \n"},{"result":{"nanos":42404,"millis":0.042404,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":178813,"millis":0.178813,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132410,"millis":0.13241,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402830,"millis":0.40283,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162812,"millis":0.162812,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423831,"millis":0.423831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":123109,"millis":0.123109,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":812760,"millis":0.81276,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65605,"millis":0.065605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":560383050,"millis":560.38305,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496237,"millis":0.496237,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":755956,"millis":0.755956,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454933,"millis":0.454933,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":451234,"millis":0.451234,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":665449,"millis":0.665449,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":581643,"millis":0.581643,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99307,"millis":0.099307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":416931,"millis":0.416931,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":443733,"millis":0.443733,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398129,"millis":0.398129,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":207415,"millis":0.207415,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157512,"millis":0.157512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.960 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n"},{"result":{"nanos":399629,"millis":0.399629,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":158912,"millis":0.158912,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.961 [print] OGC:CSW \n"},{"result":{"nanos":399429,"millis":0.399429,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140411,"millis":0.140411,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.961 [print] #notpresent \n"},{"result":{"nanos":36903,"millis":0.036903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87806,"millis":0.087806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.961 [print] OGC:CSW \n"},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131210,"millis":0.13121,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.962 [print] Beheer PDOK \n"},{"result":{"nanos":64004,"millis":0.064004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.962 [print] #notpresent \n"},{"result":{"nanos":421931,"millis":0.421931,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":502237,"millis":0.502237,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357926,"millis":0.357926,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":571.169247,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","startTime":1631163620383,"refId":"[1.155:67]","endTime":1631163620963,"exampleData":{"datasetIdentifierCode":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8"},"exampleIndex":154},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58405,"millis":0.058405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.379 karate.env system property was: null \n"},{"result":{"nanos":47004,"millis":0.047004,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128110,"millis":0.12811,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116408,"millis":0.116408,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":541640,"millis":0.54164,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":132710,"millis":0.13271,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":512138,"millis":0.512138,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":108408,"millis":0.108408,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":245518,"millis":0.245518,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57804,"millis":0.057804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33203,"millis":0.033203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20602,"millis":0.020602,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522216627,"millis":522.216627,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2901,"millis":0.002901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933569,"millis":0.933569,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":859464,"millis":0.859464,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":788858,"millis":0.788858,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":775658,"millis":0.775658,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1326599,"millis":1.326599,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1057979,"millis":1.057979,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54704,"millis":0.054704,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":680951,"millis":0.680951,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":619946,"millis":0.619946,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":720354,"millis":0.720354,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":307923,"millis":0.307923,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":240518,"millis":0.240518,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.912 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n"},{"result":{"nanos":647648,"millis":0.647648,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":269820,"millis":0.26982,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.913 [print] OGC:WFS \n"},{"result":{"nanos":652948,"millis":0.652948,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":236017,"millis":0.236017,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.914 [print] #notpresent \n"},{"result":{"nanos":61604,"millis":0.061604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":153411,"millis":0.153411,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.914 [print] OGC:WFS \n"},{"result":{"nanos":875765,"millis":0.875765,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":242618,"millis":0.242618,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.915 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":206315,"millis":0.206315,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.915 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":827361,"millis":0.827361,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":932269,"millis":0.932269,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":710753,"millis":0.710753,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.460734,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"00e8746f-5031-413e-8343-9203c8ea82ee","startTime":1631163620378,"refId":"[1.156:67]","endTime":1631163620918,"exampleData":{"datasetIdentifierCode":"00e8746f-5031-413e-8343-9203c8ea82ee"},"exampleIndex":155},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56904,"millis":0.056904,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.469 karate.env system property was: null \n"},{"result":{"nanos":43603,"millis":0.043603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":132810,"millis":0.13281,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104808,"millis":0.104808,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":297922,"millis":0.297922,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111409,"millis":0.111409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422532,"millis":0.422532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95507,"millis":0.095507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":163012,"millis":0.163012,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46203,"millis":0.046203,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":139110,"millis":0.13911,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23101,"millis":0.023101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14601,"millis":0.014601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540974614,"millis":540.974614,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":638947,"millis":0.638947,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":581943,"millis":0.581943,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":595344,"millis":0.595344,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":485136,"millis":0.485136,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":631746,"millis":0.631746,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":572943,"millis":0.572943,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":399630,"millis":0.39963,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":404730,"millis":0.40473,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":443633,"millis":0.443633,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":253318,"millis":0.253318,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":187114,"millis":0.187114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.018 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":435132,"millis":0.435132,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203415,"millis":0.203415,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.019 [print] #notpresent \n"},{"result":{"nanos":422231,"millis":0.422231,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":170913,"millis":0.170913,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.020 [print] OGC:WFS \n"},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92507,"millis":0.092507,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.020 [print] #notpresent \n"},{"result":{"nanos":523538,"millis":0.523538,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146611,"millis":0.146611,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.020 [print] Beheer PDOK \n"},{"result":{"nanos":90907,"millis":0.090907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.021 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":661349,"millis":0.661349,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":635948,"millis":0.635948,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428731,"millis":0.428731,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.751711,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e08079df-6c19-486e-916e-5c9948cfafea","startTime":1631163620468,"refId":"[1.157:67]","endTime":1631163621022,"exampleData":{"datasetIdentifierCode":"e08079df-6c19-486e-916e-5c9948cfafea"},"exampleIndex":156},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.679 karate.env system property was: null \n"},{"result":{"nanos":72805,"millis":0.072805,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142310,"millis":0.14231,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120609,"millis":0.120609,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330124,"millis":0.330124,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128910,"millis":0.12891,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455933,"millis":0.455933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103408,"millis":0.103408,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1396903,"millis":1.396903,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":402630,"millis":0.40263,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20301,"millis":0.020301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531263196,"millis":531.263196,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2501,"millis":0.002501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":502838,"millis":0.502838,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":960471,"millis":0.960471,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":460434,"millis":0.460434,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":396530,"millis":0.39653,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":482235,"millis":0.482235,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462734,"millis":0.462734,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39503,"millis":0.039503,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":349326,"millis":0.349326,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":343526,"millis":0.343526,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343125,"millis":0.343125,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107408,"millis":0.107408,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":845862,"millis":0.845862,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.220 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":706252,"millis":0.706252,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":285421,"millis":0.285421,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.221 [print] INSPIRE Atom \n"},{"result":{"nanos":547940,"millis":0.54794,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":156511,"millis":0.156511,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.221 [print] #notpresent \n"},{"result":{"nanos":54905,"millis":0.054905,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86107,"millis":0.086107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.222 [print] INSPIRE Atom \n"},{"result":{"nanos":698352,"millis":0.698352,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151311,"millis":0.151311,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.222 [print] Beheer PDOK \n"},{"result":{"nanos":77306,"millis":0.077306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.223 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":721653,"millis":0.721653,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1252392,"millis":1.252392,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":517538,"millis":0.517538,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.153222,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","startTime":1631163620678,"refId":"[1.158:67]","endTime":1631163621225,"exampleData":{"datasetIdentifierCode":"68a7e4c1-0073-4a1a-a6df-084d2badf45a"},"exampleIndex":157},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17602,"millis":0.017602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.921 karate.env system property was: null \n"},{"result":{"nanos":33103,"millis":0.033103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241018,"millis":0.241018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496837,"millis":0.496837,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37703,"millis":0.037703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120809,"millis":0.120809,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16702,"millis":0.016702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20802,"millis":0.020802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50103,"millis":0.050103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522622757,"millis":522.622757,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":956571,"millis":0.956571,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":835662,"millis":0.835662,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":489636,"millis":0.489636,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":476935,"millis":0.476935,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":860064,"millis":0.860064,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":714953,"millis":0.714953,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32402,"millis":0.032402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":444933,"millis":0.444933,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421631,"millis":0.421631,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":367127,"millis":0.367127,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69505,"millis":0.069505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152811,"millis":0.152811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.451 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n"},{"result":{"nanos":662049,"millis":0.662049,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105207,"millis":0.105207,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.452 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":429532,"millis":0.429532,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82806,"millis":0.082806,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.452 [print] #notpresent \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.452 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":538140,"millis":0.53814,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81106,"millis":0.081106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.453 [print] Beheer PDOK \n"},{"result":{"nanos":32902,"millis":0.032902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.453 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":532539,"millis":0.532539,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":618446,"millis":0.618446,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348226,"millis":0.348226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.148535,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","startTime":1631163620920,"refId":"[1.159:67]","endTime":1631163621455,"exampleData":{"datasetIdentifierCode":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c"},"exampleIndex":158},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.967 karate.env system property was: null \n"},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52103,"millis":0.052103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":210215,"millis":0.210215,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398829,"millis":0.398829,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34902,"millis":0.034902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":137810,"millis":0.13781,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23102,"millis":0.023102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7701,"millis":0.007701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527898147,"millis":527.898147,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":732954,"millis":0.732954,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":508038,"millis":0.508038,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":348226,"millis":0.348226,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381128,"millis":0.381128,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435432,"millis":0.435432,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":933469,"millis":0.933469,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":446133,"millis":0.446133,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":395029,"millis":0.395029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":380629,"millis":0.380629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83007,"millis":0.083007,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106408,"millis":0.106408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.502 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":383828,"millis":0.383828,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83006,"millis":0.083006,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.502 [print] OGC:WMS \n"},{"result":{"nanos":363627,"millis":0.363627,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69505,"millis":0.069505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.503 [print] #notpresent \n"},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":30303,"millis":0.030303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.503 [print] OGC:WMS \n"},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67705,"millis":0.067705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.503 [print] Beheer PDOK \n"},{"result":{"nanos":28403,"millis":0.028403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.503 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":470735,"millis":0.470735,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":559041,"millis":0.559041,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436232,"millis":0.436232,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.712796,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","startTime":1631163620965,"refId":"[1.160:67]","endTime":1631163621505,"exampleData":{"datasetIdentifierCode":"7b8f44b5-6eae-4113-a835-84b8678c3dd5"},"exampleIndex":159},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.024 karate.env system property was: null \n"},{"result":{"nanos":32202,"millis":0.032202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50204,"millis":0.050204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236618,"millis":0.236618,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444332,"millis":0.444332,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36403,"millis":0.036403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126310,"millis":0.12631,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16702,"millis":0.016702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22102,"millis":0.022102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51104,"millis":0.051104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506409657,"millis":506.409657,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3101,"millis":0.003101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":494936,"millis":0.494936,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":561341,"millis":0.561341,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":518439,"millis":0.518439,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":547340,"millis":0.54734,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":638147,"millis":0.638147,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":589344,"millis":0.589344,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36003,"millis":0.036003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":429631,"millis":0.429631,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":414330,"millis":0.41433,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85806,"millis":0.085806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86806,"millis":0.086806,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.537 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":438432,"millis":0.438432,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":91007,"millis":0.091007,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.538 [print] INSPIRE Atom \n"},{"result":{"nanos":386829,"millis":0.386829,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57605,"millis":0.057605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.538 [print] #notpresent \n"},{"result":{"nanos":26202,"millis":0.026202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":24002,"millis":0.024002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.538 [print] INSPIRE Atom \n"},{"result":{"nanos":374927,"millis":0.374927,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67705,"millis":0.067705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.539 [print] Beheer PDOK \n"},{"result":{"nanos":35502,"millis":0.035502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.539 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":369827,"millis":0.369827,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":429232,"millis":0.429232,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393629,"millis":0.393629,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":515.077997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","startTime":1631163621024,"refId":"[1.161:67]","endTime":1631163621540,"exampleData":{"datasetIdentifierCode":"0080a9ce-b836-45bc-8fdf-07dcbe97101d"},"exampleIndex":160},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33603,"millis":0.033603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.227 karate.env system property was: null \n"},{"result":{"nanos":61304,"millis":0.061304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":90006,"millis":0.090006,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90107,"millis":0.090107,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337925,"millis":0.337925,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488536,"millis":0.488536,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58405,"millis":0.058405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8201,"millis":0.008201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73805,"millis":0.073805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517803600,"millis":517.8036,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516338,"millis":0.516338,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":520739,"millis":0.520739,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448634,"millis":0.448634,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":372528,"millis":0.372528,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427831,"millis":0.427831,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382929,"millis":0.382929,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23102,"millis":0.023102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287821,"millis":0.287821,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322324,"millis":0.322324,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353426,"millis":0.353426,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81206,"millis":0.081206,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":99207,"millis":0.099207,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.754 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":673750,"millis":0.67375,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89706,"millis":0.089706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.755 [print] OGC:WFS \n"},{"result":{"nanos":531940,"millis":0.53194,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135110,"millis":0.13511,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.756 [print] #notpresent \n"},{"result":{"nanos":128110,"millis":0.12811,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47904,"millis":0.047904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.756 [print] OGC:WFS \n"},{"result":{"nanos":473635,"millis":0.473635,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134210,"millis":0.13421,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.757 [print] Beheer PDOK \n"},{"result":{"nanos":148011,"millis":0.148011,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.757 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":595445,"millis":0.595445,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":607645,"millis":0.607645,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417031,"millis":0.417031,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.029086,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3","startTime":1631163621227,"refId":"[1.162:67]","endTime":1631163621759,"exampleData":{"datasetIdentifierCode":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3"},"exampleIndex":161},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.457 karate.env system property was: null \n"},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60205,"millis":0.060205,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51004,"millis":0.051004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275020,"millis":0.27502,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457434,"millis":0.457434,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53604,"millis":0.053604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20302,"millis":0.020302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51104,"millis":0.051104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515909460,"millis":515.90946,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":600844,"millis":0.600844,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":560542,"millis":0.560542,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":492736,"millis":0.492736,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":437332,"millis":0.437332,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":497237,"millis":0.497237,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":509438,"millis":0.509438,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26402,"millis":0.026402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396629,"millis":0.396629,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":389529,"millis":0.389529,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":446033,"millis":0.446033,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80006,"millis":0.080006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100408,"millis":0.100408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.979 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":614945,"millis":0.614945,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88106,"millis":0.088106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.980 [print] OGC:WFS \n"},{"result":{"nanos":441333,"millis":0.441333,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69405,"millis":0.069405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.980 [print] #notpresent \n"},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.980 [print] OGC:WFS \n"},{"result":{"nanos":595944,"millis":0.595944,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78306,"millis":0.078306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.981 [print] Beheer PDOK \n"},{"result":{"nanos":31403,"millis":0.031403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.981 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":835162,"millis":0.835162,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1061279,"millis":1.061279,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423931,"millis":0.423931,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.889499,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"180b6682-5d6f-429d-abb7-32f7d6253787","startTime":1631163621456,"refId":"[1.163:67]","endTime":1631163621983,"exampleData":{"datasetIdentifierCode":"180b6682-5d6f-429d-abb7-32f7d6253787"},"exampleIndex":162},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.507 karate.env system property was: null \n"},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46003,"millis":0.046003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72905,"millis":0.072905,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243318,"millis":0.243318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45504,"millis":0.045504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427432,"millis":0.427432,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34003,"millis":0.034003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70306,"millis":0.070306,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539387697,"millis":539.387697,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":678351,"millis":0.678351,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":744455,"millis":0.744455,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":727854,"millis":0.727854,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":730854,"millis":0.730854,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":868564,"millis":0.868564,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833262,"millis":0.833262,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46204,"millis":0.046204,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":562942,"millis":0.562942,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":562842,"millis":0.562842,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96207,"millis":0.096207,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125910,"millis":0.12591,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.055 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":510638,"millis":0.510638,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84307,"millis":0.084307,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.055 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":452533,"millis":0.452533,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95307,"millis":0.095307,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.056 [print] #notpresent \n"},{"result":{"nanos":118208,"millis":0.118208,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.056 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":531539,"millis":0.531539,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77606,"millis":0.077606,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.057 [print] Beheer PDOK \n"},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.057 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":663449,"millis":0.663449,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554741,"millis":0.554741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414831,"millis":0.414831,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.543228,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","startTime":1631163621507,"refId":"[1.164:67]","endTime":1631163622058,"exampleData":{"datasetIdentifierCode":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db"},"exampleIndex":163},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.542 karate.env system property was: null \n"},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43204,"millis":0.043204,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71606,"millis":0.071606,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219116,"millis":0.219116,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":606945,"millis":0.606945,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48804,"millis":0.048804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517730795,"millis":517.730795,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":27374625,"millis":27.374625,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":542240,"millis":0.54224,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":373628,"millis":0.373628,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":332525,"millis":0.332525,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":422831,"millis":0.422831,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":394929,"millis":0.394929,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69005,"millis":0.069005,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":358227,"millis":0.358227,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":362327,"millis":0.362327,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":489836,"millis":0.489836,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145311,"millis":0.145311,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1219691,"millis":1.219691,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.094 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":434932,"millis":0.434932,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160912,"millis":0.160912,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.095 [print] #notpresent \n"},{"result":{"nanos":713953,"millis":0.713953,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":167613,"millis":0.167613,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.096 [print] OGC:WFS \n"},{"result":{"nanos":331924,"millis":0.331924,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147611,"millis":0.147611,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.096 [print] #notpresent \n"},{"result":{"nanos":392229,"millis":0.392229,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145811,"millis":0.145811,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.097 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":384928,"millis":0.384928,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.097 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":355626,"millis":0.355626,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":398529,"millis":0.398529,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354726,"millis":0.354726,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":555.026756,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"73286af2-d0f4-4a62-9455-86ffa45ef279","startTime":1631163621542,"refId":"[1.165:67]","endTime":1631163622099,"exampleData":{"datasetIdentifierCode":"73286af2-d0f4-4a62-9455-86ffa45ef279"},"exampleIndex":164},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.761 karate.env system property was: null \n"},{"result":{"nanos":28202,"millis":0.028202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41803,"millis":0.041803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215616,"millis":0.215616,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424031,"millis":0.424031,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42604,"millis":0.042604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19202,"millis":0.019202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8101,"millis":0.008101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48704,"millis":0.048704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514819959,"millis":514.819959,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":705852,"millis":0.705852,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":444232,"millis":0.444232,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385129,"millis":0.385129,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":399729,"millis":0.399729,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":572242,"millis":0.572242,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":578643,"millis":0.578643,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91707,"millis":0.091707,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":391529,"millis":0.391529,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":383029,"millis":0.383029,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394629,"millis":0.394629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":212315,"millis":0.212315,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":209416,"millis":0.209416,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.282 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n"},{"result":{"nanos":428631,"millis":0.428631,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191114,"millis":0.191114,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.282 [print] #notpresent \n"},{"result":{"nanos":403730,"millis":0.40373,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183413,"millis":0.183413,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.283 [print] INSPIRE Atom \n"},{"result":{"nanos":87707,"millis":0.087707,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128510,"millis":0.12851,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.283 [print] #notpresent \n"},{"result":{"nanos":477936,"millis":0.477936,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":190315,"millis":0.190315,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.284 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":151411,"millis":0.151411,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.284 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":416931,"millis":0.416931,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498037,"millis":0.498037,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438632,"millis":0.438632,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.183554,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","startTime":1631163621760,"refId":"[1.166:67]","endTime":1631163622285,"exampleData":{"datasetIdentifierCode":"243c6401-9ed1-4cdd-b9a7-caff08813ce4"},"exampleIndex":165},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.985 karate.env system property was: null \n"},{"result":{"nanos":35302,"millis":0.035302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225017,"millis":0.225017,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2228865,"millis":2.228865,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447133,"millis":0.447133,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35203,"millis":0.035203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51203,"millis":0.051203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":90407,"millis":0.090407,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58704,"millis":0.058704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3601,"millis":0.003601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547477030,"millis":547.47703,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":973572,"millis":0.973572,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":599445,"millis":0.599445,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":535439,"millis":0.535439,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":488836,"millis":0.488836,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":920368,"millis":0.920368,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":4438527,"millis":4.438527,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":105107,"millis":0.105107,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":451133,"millis":0.451133,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":453033,"millis":0.453033,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":440433,"millis":0.440433,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151211,"millis":0.151211,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":237718,"millis":0.237718,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.547 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":413831,"millis":0.413831,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189914,"millis":0.189914,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.547 [print] #notpresent \n"},{"result":{"nanos":478436,"millis":0.478436,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":151111,"millis":0.151111,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.548 [print] OGC:WMS \n"},{"result":{"nanos":86706,"millis":0.086706,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147711,"millis":0.147711,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.548 [print] #notpresent \n"},{"result":{"nanos":473135,"millis":0.473135,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":291522,"millis":0.291522,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.549 [print]  \n"},{"result":{"nanos":174013,"millis":0.174013,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.549 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524038,"millis":0.524038,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":538440,"millis":0.53844,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":564.492687,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"42da491e-d8b9-47ba-af65-acb15ea8a055","startTime":1631163621985,"refId":"[1.167:67]","endTime":1631163622551,"exampleData":{"datasetIdentifierCode":"42da491e-d8b9-47ba-af65-acb15ea8a055"},"exampleIndex":166},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59305,"millis":0.059305,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.085 karate.env system property was: null \n"},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116208,"millis":0.116208,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320824,"millis":0.320824,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129910,"millis":0.12991,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379928,"millis":0.379928,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92407,"millis":0.092407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98307,"millis":0.098307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36703,"millis":0.036703,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29502,"millis":0.029502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532199785,"millis":532.199785,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":727954,"millis":0.727954,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":733154,"millis":0.733154,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":768357,"millis":0.768357,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":680550,"millis":0.68055,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":969071,"millis":0.969071,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":564042,"millis":0.564042,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95407,"millis":0.095407,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":405830,"millis":0.40583,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":396729,"millis":0.396729,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":369327,"millis":0.369327,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":622146,"millis":0.622146,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":736754,"millis":0.736754,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.627 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":362627,"millis":0.362627,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":538840,"millis":0.53884,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.628 [print] #notpresent \n"},{"result":{"nanos":435132,"millis":0.435132,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":484136,"millis":0.484136,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.629 [print] INSPIRE Atom \n"},{"result":{"nanos":96907,"millis":0.096907,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":462935,"millis":0.462935,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.629 [print] #notpresent \n"},{"result":{"nanos":449533,"millis":0.449533,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":496936,"millis":0.496936,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.630 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":763756,"millis":0.763756,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.631 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":438633,"millis":0.438633,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":530039,"millis":0.530039,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423531,"millis":0.423531,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.224821,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","startTime":1631163622085,"refId":"[1.168:67]","endTime":1631163622632,"exampleData":{"datasetIdentifierCode":"1d3c777a-3527-4aa1-8573-d6aeeff115e5"},"exampleIndex":167},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43903,"millis":0.043903,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.101 karate.env system property was: null \n"},{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":89706,"millis":0.089706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86306,"millis":0.086306,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225916,"millis":0.225916,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104308,"millis":0.104308,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":320724,"millis":0.320724,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77005,"millis":0.077005,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81606,"millis":0.081606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49603,"millis":0.049603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":110108,"millis":0.110108,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536883428,"millis":536.883428,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":451433,"millis":0.451433,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":505737,"millis":0.505737,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":506937,"millis":0.506937,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":516738,"millis":0.516738,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":570743,"millis":0.570743,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":537439,"millis":0.537439,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28202,"millis":0.028202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388929,"millis":0.388929,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":428031,"millis":0.428031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":413330,"millis":0.41333,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72405,"millis":0.072405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96607,"millis":0.096607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.644 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":864464,"millis":0.864464,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86506,"millis":0.086506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.645 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":709652,"millis":0.709652,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.646 [print] #notpresent \n"},{"result":{"nanos":33302,"millis":0.033302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131910,"millis":0.13191,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.646 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":546240,"millis":0.54624,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82106,"millis":0.082106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.647 [print] Beheer PDOK \n"},{"result":{"nanos":100808,"millis":0.100808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.647 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n"},{"result":{"nanos":557442,"millis":0.557442,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485435,"millis":0.485435,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368727,"millis":0.368727,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.76125,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","startTime":1631163622101,"refId":"[1.169:67]","endTime":1631163622649,"exampleData":{"datasetIdentifierCode":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8"},"exampleIndex":168},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50104,"millis":0.050104,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.288 karate.env system property was: null \n"},{"result":{"nanos":38202,"millis":0.038202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128209,"millis":0.128209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107808,"millis":0.107808,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289521,"millis":0.289521,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114308,"millis":0.114308,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456034,"millis":0.456034,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95407,"millis":0.095407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":161912,"millis":0.161912,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47803,"millis":0.047803,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30802,"millis":0.030802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528554703,"millis":528.554703,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":632747,"millis":0.632747,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":501337,"millis":0.501337,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":453133,"millis":0.453133,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":550941,"millis":0.550941,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":493036,"millis":0.493036,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27302,"millis":0.027302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396629,"millis":0.396629,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":385129,"millis":0.385129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362927,"millis":0.362927,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85807,"millis":0.085807,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":99008,"millis":0.099008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.823 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":2216164,"millis":2.216164,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":158912,"millis":0.158912,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.826 [print] OGC:WMS \n"},{"result":{"nanos":693551,"millis":0.693551,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121509,"millis":0.121509,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.826 [print] #notpresent \n"},{"result":{"nanos":50603,"millis":0.050603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":143611,"millis":0.143611,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.827 [print] OGC:WMS \n"},{"result":{"nanos":806060,"millis":0.80606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68305,"millis":0.068305,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.828 [print] Beheer PDOK \n"},{"result":{"nanos":77906,"millis":0.077906,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.828 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n"},{"result":{"nanos":437732,"millis":0.437732,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":552741,"millis":0.552741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406730,"millis":0.40673,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.319772,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1bd24d1e-aa13-4395-809e-893570f7c651","startTime":1631163622288,"refId":"[1.170:67]","endTime":1631163622829,"exampleData":{"datasetIdentifierCode":"1bd24d1e-aa13-4395-809e-893570f7c651"},"exampleIndex":169},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52503,"millis":0.052503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.554 karate.env system property was: null \n"},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114708,"millis":0.114708,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125409,"millis":0.125409,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302022,"millis":0.302022,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117608,"millis":0.117608,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":421731,"millis":0.421731,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92607,"millis":0.092607,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151712,"millis":0.151712,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48204,"millis":0.048204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31003,"millis":0.031003,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":451033,"millis":0.451033,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57004,"millis":0.057004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522273240,"millis":522.27324,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":737354,"millis":0.737354,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":796859,"millis":0.796859,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":713052,"millis":0.713052,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":665449,"millis":0.665449,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":801759,"millis":0.801759,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":627647,"millis":0.627647,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348426,"millis":0.348426,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344425,"millis":0.344425,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":361026,"millis":0.361026,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":867664,"millis":0.867664,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":631747,"millis":0.631747,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.085 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n"},{"result":{"nanos":398529,"millis":0.398529,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":478335,"millis":0.478335,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.086 [print] #notpresent \n"},{"result":{"nanos":364427,"millis":0.364427,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":419231,"millis":0.419231,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.087 [print] INSPIRE Atom \n"},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":410630,"millis":0.41063,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.088 [print] #notpresent \n"},{"result":{"nanos":453933,"millis":0.453933,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":514838,"millis":0.514838,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.089 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":1355800,"millis":1.3558,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.090 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":450633,"millis":0.450633,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":694152,"millis":0.694152,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":578842,"millis":0.578842,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.414753,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ef2a7962-8bb4-483f-ac78-851b619f357f","startTime":1631163622553,"refId":"[1.171:67]","endTime":1631163623092,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ac78-851b619f357f"},"exampleIndex":170},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.635 karate.env system property was: null \n"},{"result":{"nanos":27902,"millis":0.027902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80106,"millis":0.080106,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232817,"millis":0.232817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393929,"millis":0.393929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50303,"millis":0.050303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36203,"millis":0.036203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8101,"millis":0.008101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":365227,"millis":0.365227,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":583022023,"millis":583.022023,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":848663,"millis":0.848663,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":891366,"millis":0.891366,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":850362,"millis":0.850362,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":856063,"millis":0.856063,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":956370,"millis":0.95637,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":657748,"millis":0.657748,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28402,"millis":0.028402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":389029,"millis":0.389029,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":398729,"millis":0.398729,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":419031,"millis":0.419031,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85407,"millis":0.085407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131110,"millis":0.13111,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.226 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n"},{"result":{"nanos":433532,"millis":0.433532,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1350000,"millis":1.35,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.228 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":560741,"millis":0.560741,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":258919,"millis":0.258919,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.229 [print] #notpresent \n"},{"result":{"nanos":50803,"millis":0.050803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121609,"millis":0.121609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.229 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":698352,"millis":0.698352,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178713,"millis":0.178713,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.230 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":118308,"millis":0.118308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.230 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":670350,"millis":0.67035,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1024476,"millis":1.024476,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":809060,"millis":0.80906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":597.167265,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","startTime":1631163622634,"refId":"[1.172:67]","endTime":1631163623233,"exampleData":{"datasetIdentifierCode":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e"},"exampleIndex":171},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16502,"millis":0.016502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.651 karate.env system property was: null \n"},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48103,"millis":0.048103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218216,"millis":0.218216,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429532,"millis":0.429532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36703,"millis":0.036703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53003,"millis":0.053003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22802,"millis":0.022802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64805,"millis":0.064805,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":624598290,"millis":624.59829,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":473035,"millis":0.473035,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":445733,"millis":0.445733,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":416730,"millis":0.41673,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":405030,"millis":0.40503,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":450833,"millis":0.450833,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446633,"millis":0.446633,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24502,"millis":0.024502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":368227,"millis":0.368227,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321023,"millis":0.321023,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":310023,"millis":0.310023,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":634247,"millis":0.634247,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":692351,"millis":0.692351,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.282 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":425331,"millis":0.425331,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":447033,"millis":0.447033,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.283 [print] #notpresent \n"},{"result":{"nanos":377428,"millis":0.377428,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":481236,"millis":0.481236,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.284 [print] #notpresent \n"},{"result":{"nanos":42704,"millis":0.042704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":403230,"millis":0.40323,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.284 [print] #notpresent \n"},{"result":{"nanos":472235,"millis":0.472235,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":411131,"millis":0.411131,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.285 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":567542,"millis":0.567542,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.286 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":448533,"millis":0.448533,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":560741,"millis":0.560741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428132,"millis":0.428132,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":635.700511,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"92826f1e-040d-4099-b9e1-cab6bfc520af","startTime":1631163622650,"refId":"[1.173:67]","endTime":1631163623287,"exampleData":{"datasetIdentifierCode":"92826f1e-040d-4099-b9e1-cab6bfc520af"},"exampleIndex":172},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15501,"millis":0.015501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.831 karate.env system property was: null \n"},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60105,"millis":0.060105,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49004,"millis":0.049004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254519,"millis":0.254519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416230,"millis":0.41623,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34202,"millis":0.034202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56004,"millis":0.056004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49204,"millis":0.049204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515216219,"millis":515.216219,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":669850,"millis":0.66985,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":651248,"millis":0.651248,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":603945,"millis":0.603945,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":701852,"millis":0.701852,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":749056,"millis":0.749056,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":694051,"millis":0.694051,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44204,"millis":0.044204,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":479335,"millis":0.479335,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":481136,"millis":0.481136,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":595344,"millis":0.595344,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101308,"millis":0.101308,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1050977,"millis":1.050977,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.355 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":541740,"millis":0.54174,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":639148,"millis":0.639148,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.356 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":536940,"millis":0.53694,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":486636,"millis":0.486636,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.357 [print] #notpresent \n"},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":407930,"millis":0.40793,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.357 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":457234,"millis":0.457234,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":419030,"millis":0.41903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.358 [print] Beheer PDOK \n"},{"result":{"nanos":756556,"millis":0.756556,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.359 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n"},{"result":{"nanos":419431,"millis":0.419431,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561641,"millis":0.561641,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":467035,"millis":0.467035,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.832025,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","startTime":1631163622831,"refId":"[1.174:67]","endTime":1631163623360,"exampleData":{"datasetIdentifierCode":"108fec55-e467-4d04-ab35-fd0d7060e3e2"},"exampleIndex":173},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.094 karate.env system property was: null \n"},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49003,"millis":0.049003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69205,"millis":0.069205,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250718,"millis":0.250718,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433632,"millis":0.433632,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34503,"millis":0.034503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54504,"millis":0.054504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21202,"millis":0.021202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":93607,"millis":0.093607,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":361527,"millis":0.361527,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516298098,"millis":516.298098,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":648848,"millis":0.648848,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":613545,"millis":0.613545,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":556841,"millis":0.556841,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":564942,"millis":0.564942,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":631847,"millis":0.631847,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":611845,"millis":0.611845,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5810929,"millis":5.810929,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":444932,"millis":0.444932,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":427231,"millis":0.427231,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85906,"millis":0.085906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":838962,"millis":0.838962,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.624 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n"},{"result":{"nanos":437832,"millis":0.437832,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":541840,"millis":0.54184,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.625 [print] OGC:WMS \n"},{"result":{"nanos":459734,"millis":0.459734,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":467535,"millis":0.467535,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.626 [print] OGC:WMS \n"},{"result":{"nanos":45303,"millis":0.045303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":407731,"millis":0.407731,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.626 [print] OGC:WMS \n"},{"result":{"nanos":559841,"millis":0.559841,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":455533,"millis":0.455533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.627 [print] Beheer PDOK \n"},{"result":{"nanos":977372,"millis":0.977372,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.628 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n"},{"result":{"nanos":2154459,"millis":2.154459,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662149,"millis":0.662149,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":515438,"millis":0.515438,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.743906,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"598c4109-21d2-4a6c-b083-9975a6736853","startTime":1631163623094,"refId":"[1.175:67]","endTime":1631163623632,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736853"},"exampleIndex":174},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.235 karate.env system property was: null \n"},{"result":{"nanos":30802,"millis":0.030802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50103,"millis":0.050103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276720,"millis":0.27672,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42803,"millis":0.042803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410330,"millis":0.41033,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":119809,"millis":0.119809,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":110408,"millis":0.110408,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20802,"millis":0.020802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520133781,"millis":520.133781,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":807259,"millis":0.807259,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":824061,"millis":0.824061,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":817960,"millis":0.81796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":806559,"millis":0.806559,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":878065,"millis":0.878065,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":817661,"millis":0.817661,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45404,"millis":0.045404,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381128,"millis":0.381128,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":538740,"millis":0.53874,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":436432,"millis":0.436432,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88107,"millis":0.088107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132710,"millis":0.13271,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.764 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":918768,"millis":0.918768,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":420731,"millis":0.420731,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.765 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":358326,"millis":0.358326,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118208,"millis":0.118208,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.766 [print] #notpresent \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98607,"millis":0.098607,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.766 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":419631,"millis":0.419631,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":381428,"millis":0.381428,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.767 [print] Beheer PDOK \n"},{"result":{"nanos":112208,"millis":0.112208,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.767 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":469435,"millis":0.469435,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":598144,"millis":0.598144,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386028,"millis":0.386028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.267072,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","startTime":1631163623235,"refId":"[1.176:67]","endTime":1631163623769,"exampleData":{"datasetIdentifierCode":"101a2cc7-bb53-4a16-98f9-bab1f4745b01"},"exampleIndex":175},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.289 karate.env system property was: null \n"},{"result":{"nanos":30702,"millis":0.030702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48603,"millis":0.048603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226016,"millis":0.226016,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402329,"millis":0.402329,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364227,"millis":0.364227,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18801,"millis":0.018801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44504,"millis":0.044504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519407728,"millis":519.407728,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":431931,"millis":0.431931,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":388529,"millis":0.388529,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":373628,"millis":0.373628,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":377528,"millis":0.377528,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":462734,"millis":0.462734,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":468235,"millis":0.468235,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":326424,"millis":0.326424,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322223,"millis":0.322223,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":412731,"millis":0.412731,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72605,"millis":0.072605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":635446,"millis":0.635446,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.815 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":448233,"millis":0.448233,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84407,"millis":0.084407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.815 [print] OGC:WFS \n"},{"result":{"nanos":762656,"millis":0.762656,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":394129,"millis":0.394129,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.816 [print] INSPIRE Atom \n"},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":325224,"millis":0.325224,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.817 [print] OGC:WFS \n"},{"result":{"nanos":404330,"millis":0.40433,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":388629,"millis":0.388629,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.818 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":623646,"millis":0.623646,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.818 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":420531,"millis":0.420531,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":494436,"millis":0.494436,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.814591,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"01572637-b851-4cc3-b06a-56c1ae1115cc","startTime":1631163623289,"refId":"[1.177:67]","endTime":1631163623820,"exampleData":{"datasetIdentifierCode":"01572637-b851-4cc3-b06a-56c1ae1115cc"},"exampleIndex":176},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.363 karate.env system property was: null \n"},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39902,"millis":0.039902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":201915,"millis":0.201915,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33102,"millis":0.033102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349326,"millis":0.349326,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30602,"millis":0.030602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146911,"millis":0.146911,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19502,"millis":0.019502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45303,"millis":0.045303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518556065,"millis":518.556065,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":983573,"millis":0.983573,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":773957,"millis":0.773957,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":510737,"millis":0.510737,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":482636,"millis":0.482636,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":666449,"millis":0.666449,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":622646,"millis":0.622646,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":100607,"millis":0.100607,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":449333,"millis":0.449333,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":461034,"millis":0.461034,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":441333,"millis":0.441333,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":582043,"millis":0.582043,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":671549,"millis":0.671549,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.889 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":475435,"millis":0.475435,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":506237,"millis":0.506237,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.890 [print] OGC:WMS \n"},{"result":{"nanos":468634,"millis":0.468634,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":521738,"millis":0.521738,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.891 [print] #notpresent \n"},{"result":{"nanos":95407,"millis":0.095407,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":492036,"millis":0.492036,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.892 [print] OGC:WMS \n"},{"result":{"nanos":542440,"millis":0.54244,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":550341,"millis":0.550341,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.893 [print] Beheer PDOK \n"},{"result":{"nanos":965671,"millis":0.965671,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.894 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":542140,"millis":0.54214,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3012723,"millis":3.012723,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406730,"millis":0.40673,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.885367,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","startTime":1631163623362,"refId":"[1.178:67]","endTime":1631163623898,"exampleData":{"datasetIdentifierCode":"5be14ec9-9bb3-4395-a061-e7e78d04a527"},"exampleIndex":177},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.634 karate.env system property was: null \n"},{"result":{"nanos":34203,"millis":0.034203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51204,"millis":0.051204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":260819,"millis":0.260819,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41403,"millis":0.041403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405730,"millis":0.40573,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30602,"millis":0.030602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":382628,"millis":0.382628,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509199375,"millis":509.199375,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3101,"millis":0.003101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":643647,"millis":0.643647,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":526539,"millis":0.526539,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":439933,"millis":0.439933,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":455633,"millis":0.455633,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":700352,"millis":0.700352,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":583643,"millis":0.583643,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94307,"millis":0.094307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":422131,"millis":0.422131,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":427532,"millis":0.427532,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":428431,"millis":0.428431,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162312,"millis":0.162312,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":484736,"millis":0.484736,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.150 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n"},{"result":{"nanos":569842,"millis":0.569842,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":192514,"millis":0.192514,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.151 [print] #notpresent \n"},{"result":{"nanos":564642,"millis":0.564642,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":149211,"millis":0.149211,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.152 [print] OGC:WMS \n"},{"result":{"nanos":190514,"millis":0.190514,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146911,"millis":0.146911,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.152 [print] #notpresent \n"},{"result":{"nanos":574143,"millis":0.574143,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148711,"millis":0.148711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.153 [print] Informatiehuis Water \n"},{"result":{"nanos":284021,"millis":0.284021,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.153 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":462934,"millis":0.462934,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":578343,"millis":0.578343,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.241191,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","startTime":1631163623633,"refId":"[1.179:67]","endTime":1631163624155,"exampleData":{"datasetIdentifierCode":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d"},"exampleIndex":178},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18102,"millis":0.018102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.771 karate.env system property was: null \n"},{"result":{"nanos":33303,"millis":0.033303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46004,"millis":0.046004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278720,"millis":0.27872,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486736,"millis":0.486736,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":112008,"millis":0.112008,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":453433,"millis":0.453433,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23102,"millis":0.023102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22902,"millis":0.022902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533377359,"millis":533.377359,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":803859,"millis":0.803859,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":638347,"millis":0.638347,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":474135,"millis":0.474135,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":401130,"millis":0.40113,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":655548,"millis":0.655548,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586343,"millis":0.586343,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95608,"millis":0.095608,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":422432,"millis":0.422432,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":460734,"millis":0.460734,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":409630,"millis":0.40963,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146011,"millis":0.146011,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1001574,"millis":1.001574,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.313 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":1877839,"millis":1.877839,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":288722,"millis":0.288722,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.316 [print] #notpresent \n"},{"result":{"nanos":848662,"millis":0.848662,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":226516,"millis":0.226516,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.317 [print] OGC:WMS \n"},{"result":{"nanos":315223,"millis":0.315223,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":295922,"millis":0.295922,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.317 [print] #notpresent \n"},{"result":{"nanos":715653,"millis":0.715653,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":260420,"millis":0.26042,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.318 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":197014,"millis":0.197014,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.319 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":503937,"millis":0.503937,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":537640,"millis":0.53764,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":460634,"millis":0.460634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.653118,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"664862cb-d426-4ee4-97ac-14c12b903b54","startTime":1631163623771,"refId":"[1.180:67]","endTime":1631163624320,"exampleData":{"datasetIdentifierCode":"664862cb-d426-4ee4-97ac-14c12b903b54"},"exampleIndex":179},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.822 karate.env system property was: null \n"},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49203,"millis":0.049203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":234918,"millis":0.234918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449533,"millis":0.449533,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35203,"millis":0.035203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":462034,"millis":0.462034,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21702,"millis":0.021702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":113709,"millis":0.113709,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537332451,"millis":537.332451,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":416131,"millis":0.416131,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":723554,"millis":0.723554,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":690051,"millis":0.690051,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2848610,"millis":2.84861,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":662749,"millis":0.662749,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":896366,"millis":0.896366,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":769257,"millis":0.769257,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95707,"millis":0.095707,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":549140,"millis":0.54914,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":553440,"millis":0.55344,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":554340,"millis":0.55434,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":306323,"millis":0.306323,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":517338,"millis":0.517338,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.371 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n"},{"result":{"nanos":608345,"millis":0.608345,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":363827,"millis":0.363827,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.372 [print] #notpresent \n"},{"result":{"nanos":572142,"millis":0.572142,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":334225,"millis":0.334225,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.373 [print] INSPIRE Atom \n"},{"result":{"nanos":99907,"millis":0.099907,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":283320,"millis":0.28332,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.373 [print] #notpresent \n"},{"result":{"nanos":1207289,"millis":1.207289,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":242918,"millis":0.242918,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.375 [print] Beheer PDOK \n"},{"result":{"nanos":534139,"millis":0.534139,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.375 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n"},{"result":{"nanos":680951,"millis":0.680951,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":841662,"millis":0.841662,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":705052,"millis":0.705052,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.94075,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","startTime":1631163623822,"refId":"[1.181:67]","endTime":1631163624378,"exampleData":{"datasetIdentifierCode":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4"},"exampleIndex":180},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55504,"millis":0.055504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.902 karate.env system property was: null \n"},{"result":{"nanos":43303,"millis":0.043303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115809,"millis":0.115809,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105707,"millis":0.105707,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":290222,"millis":0.290222,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114209,"millis":0.114209,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442033,"millis":0.442033,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91907,"millis":0.091907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":551841,"millis":0.551841,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58904,"millis":0.058904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518932393,"millis":518.932393,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478635,"millis":0.478635,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":446833,"millis":0.446833,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405630,"millis":0.40563,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":464934,"millis":0.464934,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":454034,"millis":0.454034,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":407230,"millis":0.40723,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34502,"millis":0.034502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":317224,"millis":0.317224,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":319523,"millis":0.319523,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":334925,"millis":0.334925,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1614619,"millis":1.614619,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":233717,"millis":0.233717,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.429 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":389928,"millis":0.389928,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":225917,"millis":0.225917,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.429 [print] #notpresent \n"},{"result":{"nanos":359326,"millis":0.359326,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":230017,"millis":0.230017,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.430 [print] INSPIRE Atom \n"},{"result":{"nanos":41903,"millis":0.041903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":124609,"millis":0.124609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.430 [print] #notpresent \n"},{"result":{"nanos":433532,"millis":0.433532,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":256419,"millis":0.256419,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.431 [print] Beheer PDOK \n"},{"result":{"nanos":140611,"millis":0.140611,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.431 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":426731,"millis":0.426731,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1366801,"millis":1.366801,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":418231,"millis":0.418231,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.828571,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0898d4a9-8fe6-46e9-8855-1242d8028970","startTime":1631163623901,"refId":"[1.182:67]","endTime":1631163624433,"exampleData":{"datasetIdentifierCode":"0898d4a9-8fe6-46e9-8855-1242d8028970"},"exampleIndex":181},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.162 karate.env system property was: null \n"},{"result":{"nanos":43903,"millis":0.043903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126710,"millis":0.12671,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114909,"millis":0.114909,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":352026,"millis":0.352026,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127609,"millis":0.127609,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450933,"millis":0.450933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":139910,"millis":0.13991,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":182713,"millis":0.182713,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47403,"millis":0.047403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36903,"millis":0.036903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15002,"millis":0.015002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525106949,"millis":525.106949,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":514538,"millis":0.514538,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":440332,"millis":0.440332,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":379128,"millis":0.379128,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400730,"millis":0.40073,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435832,"millis":0.435832,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424031,"millis":0.424031,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307223,"millis":0.307223,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327224,"millis":0.327224,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":330225,"millis":0.330225,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":292522,"millis":0.292522,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":316823,"millis":0.316823,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.694 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":375228,"millis":0.375228,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173413,"millis":0.173413,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.695 [print] OGC:WFS \n"},{"result":{"nanos":344125,"millis":0.344125,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":182913,"millis":0.182913,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.695 [print] #notpresent \n"},{"result":{"nanos":35003,"millis":0.035003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112208,"millis":0.112208,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.696 [print] OGC:WFS \n"},{"result":{"nanos":1699326,"millis":1.699326,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1910540,"millis":1.91054,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.699 [print] Beheer PDOK \n"},{"result":{"nanos":853563,"millis":0.853563,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.700 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":443032,"millis":0.443032,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653148,"millis":0.653148,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":421932,"millis":0.421932,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.274821,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","startTime":1631163624162,"refId":"[1.183:67]","endTime":1631163624702,"exampleData":{"datasetIdentifierCode":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774"},"exampleIndex":182},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58905,"millis":0.058905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.323 karate.env system property was: null \n"},{"result":{"nanos":44103,"millis":0.044103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126510,"millis":0.12651,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":232117,"millis":0.232117,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334424,"millis":0.334424,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126510,"millis":0.12651,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":575443,"millis":0.575443,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":194614,"millis":0.194614,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":242518,"millis":0.242518,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69505,"millis":0.069505,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31002,"millis":0.031002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515752158,"millis":515.752158,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":775157,"millis":0.775157,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":743955,"millis":0.743955,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":660949,"millis":0.660949,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":707952,"millis":0.707952,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":723353,"millis":0.723353,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":711753,"millis":0.711753,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":502737,"millis":0.502737,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":498537,"millis":0.498537,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":499637,"millis":0.499637,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":106708,"millis":0.106708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":159512,"millis":0.159512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.847 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":984773,"millis":0.984773,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136910,"millis":0.13691,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.849 [print] OGC:WMS \n"},{"result":{"nanos":586044,"millis":0.586044,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113408,"millis":0.113408,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.849 [print] #notpresent \n"},{"result":{"nanos":35302,"millis":0.035302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":388728,"millis":0.388728,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.849 [print] OGC:WMS \n"},{"result":{"nanos":565742,"millis":0.565742,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127209,"millis":0.127209,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.851 [print] Beheer PDOK \n"},{"result":{"nanos":92007,"millis":0.092007,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.851 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":505837,"millis":0.505837,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":630846,"millis":0.630846,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389529,"millis":0.389529,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.540202,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","startTime":1631163624322,"refId":"[1.184:67]","endTime":1631163624852,"exampleData":{"datasetIdentifierCode":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a"},"exampleIndex":183},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58404,"millis":0.058404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.381 karate.env system property was: null \n"},{"result":{"nanos":45204,"millis":0.045204,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127010,"millis":0.12701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":115309,"millis":0.115309,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":318223,"millis":0.318223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128009,"millis":0.128009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":487136,"millis":0.487136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":99307,"millis":0.099307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":312223,"millis":0.312223,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57004,"millis":0.057004,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32402,"millis":0.032402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14501,"millis":0.014501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543040372,"millis":543.040372,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":780557,"millis":0.780557,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":842663,"millis":0.842663,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":666649,"millis":0.666649,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":453034,"millis":0.453034,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":514838,"millis":0.514838,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":482635,"millis":0.482635,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":366427,"millis":0.366427,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":395329,"millis":0.395329,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370927,"millis":0.370927,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143811,"millis":0.143811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131610,"millis":0.13161,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.931 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n"},{"result":{"nanos":452133,"millis":0.452133,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129910,"millis":0.12991,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.932 [print] #notpresent \n"},{"result":{"nanos":430031,"millis":0.430031,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113909,"millis":0.113909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.933 [print] INSPIRE Atom \n"},{"result":{"nanos":34403,"millis":0.034403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.933 [print] #notpresent \n"},{"result":{"nanos":545640,"millis":0.54564,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110708,"millis":0.110708,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.933 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":131810,"millis":0.13181,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.934 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n"},{"result":{"nanos":493736,"millis":0.493736,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":751456,"millis":0.751456,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":577742,"millis":0.577742,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.899273,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","startTime":1631163624380,"refId":"[1.185:67]","endTime":1631163624935,"exampleData":{"datasetIdentifierCode":"b5ee6914-04bd-4c7e-a180-242371ae40d9"},"exampleIndex":184},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.436 karate.env system property was: null \n"},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48803,"millis":0.048803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236817,"millis":0.236817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43403,"millis":0.043403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":5215685,"millis":5.215685,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50803,"millis":0.050803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1819534,"millis":1.819534,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64004,"millis":0.064004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520172984,"millis":520.172984,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":380828,"millis":0.380828,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":393329,"millis":0.393329,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370527,"millis":0.370527,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":383428,"millis":0.383428,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":425732,"millis":0.425732,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":401029,"millis":0.401029,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327224,"millis":0.327224,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295822,"millis":0.295822,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295422,"millis":0.295422,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":207215,"millis":0.207215,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":364527,"millis":0.364527,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.968 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":336925,"millis":0.336925,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":243418,"millis":0.243418,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.968 [print] #notpresent \n"},{"result":{"nanos":321423,"millis":0.321423,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168012,"millis":0.168012,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.969 [print] INSPIRE Atom \n"},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1277495,"millis":1.277495,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.970 [print] #notpresent \n"},{"result":{"nanos":408330,"millis":0.40833,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80705,"millis":0.080705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.971 [print] Beheer PDOK \n"},{"result":{"nanos":237518,"millis":0.237518,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.971 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":461034,"millis":0.461034,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":553941,"millis":0.553941,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":388929,"millis":0.388929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.237363,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"66805d91-a5f6-4265-bd36-ef13a429c97e","startTime":1631163624435,"refId":"[1.186:67]","endTime":1631163624973,"exampleData":{"datasetIdentifierCode":"66805d91-a5f6-4265-bd36-ef13a429c97e"},"exampleIndex":185},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.704 karate.env system property was: null \n"},{"result":{"nanos":33102,"millis":0.033102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52104,"millis":0.052104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248018,"millis":0.248018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43303,"millis":0.043303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":537139,"millis":0.537139,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92907,"millis":0.092907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":751455,"millis":0.751455,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29203,"millis":0.029203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8001,"millis":0.008001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80006,"millis":0.080006,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":8401,"millis":0.008401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521035848,"millis":521.035848,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":769856,"millis":0.769856,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":754356,"millis":0.754356,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":692051,"millis":0.692051,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":661549,"millis":0.661549,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":758456,"millis":0.758456,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":762356,"millis":0.762356,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45303,"millis":0.045303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":442432,"millis":0.442432,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":319624,"millis":0.319624,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319024,"millis":0.319024,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":159312,"millis":0.159312,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":255419,"millis":0.255419,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.234 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":380528,"millis":0.380528,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130909,"millis":0.130909,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.234 [print] INSPIRE Atom \n"},{"result":{"nanos":316423,"millis":0.316423,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":151311,"millis":0.151311,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.235 [print] #notpresent \n"},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.235 [print] INSPIRE Atom \n"},{"result":{"nanos":401630,"millis":0.40163,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":167912,"millis":0.167912,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.235 [print] Beheer PDOK \n"},{"result":{"nanos":73905,"millis":0.073905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.236 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":448233,"millis":0.448233,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":611745,"millis":0.611745,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401730,"millis":0.40173,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.151564,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","startTime":1631163624703,"refId":"[1.187:67]","endTime":1631163625237,"exampleData":{"datasetIdentifierCode":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f"},"exampleIndex":186},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18002,"millis":0.018002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.854 karate.env system property was: null \n"},{"result":{"nanos":32303,"millis":0.032303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49404,"millis":0.049404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50804,"millis":0.050804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248518,"millis":0.248518,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":528939,"millis":0.528939,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62604,"millis":0.062604,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53004,"millis":0.053004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525483876,"millis":525.483876,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":891165,"millis":0.891165,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":927069,"millis":0.927069,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783158,"millis":0.783158,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":478035,"millis":0.478035,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":594644,"millis":0.594644,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":545740,"millis":0.54574,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27902,"millis":0.027902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":376028,"millis":0.376028,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":366627,"millis":0.366627,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":436632,"millis":0.436632,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76105,"millis":0.076105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109808,"millis":0.109808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.387 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":548240,"millis":0.54824,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173613,"millis":0.173613,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.388 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81406,"millis":0.081406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.388 [print] #notpresent \n"},{"result":{"nanos":89807,"millis":0.089807,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":77006,"millis":0.077006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.388 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":780557,"millis":0.780557,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86406,"millis":0.086406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.389 [print] Beheer PDOK \n"},{"result":{"nanos":89907,"millis":0.089907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.389 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":556741,"millis":0.556741,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526239,"millis":0.526239,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378528,"millis":0.378528,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.118063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"35359958-c40a-486f-9cf5-567a94de905e","startTime":1631163624854,"refId":"[1.188:67]","endTime":1631163625391,"exampleData":{"datasetIdentifierCode":"35359958-c40a-486f-9cf5-567a94de905e"},"exampleIndex":187},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.937 karate.env system property was: null \n"},{"result":{"nanos":31003,"millis":0.031003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47604,"millis":0.047604,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49404,"millis":0.049404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231817,"millis":0.231817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40102,"millis":0.040102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389929,"millis":0.389929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31303,"millis":0.031303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88107,"millis":0.088107,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46803,"millis":0.046803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522065024,"millis":522.065024,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":558941,"millis":0.558941,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":657849,"millis":0.657849,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":526039,"millis":0.526039,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":461234,"millis":0.461234,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":581343,"millis":0.581343,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":575343,"millis":0.575343,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":415931,"millis":0.415931,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":433832,"millis":0.433832,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92107,"millis":0.092107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110609,"millis":0.110609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.466 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":438233,"millis":0.438233,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118909,"millis":0.118909,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.466 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":426032,"millis":0.426032,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106308,"millis":0.106308,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.467 [print] #notpresent \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":46103,"millis":0.046103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.467 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":539640,"millis":0.53964,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95807,"millis":0.095807,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.468 [print] Beheer PDOK \n"},{"result":{"nanos":38803,"millis":0.038803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.468 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":523339,"millis":0.523339,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":547740,"millis":0.54774,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368628,"millis":0.368628,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.219405,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","startTime":1631163624937,"refId":"[1.189:67]","endTime":1631163625469,"exampleData":{"datasetIdentifierCode":"c6fa88ab-e440-414b-a773-793c4ce6d8df"},"exampleIndex":188},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.975 karate.env system property was: null \n"},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47003,"millis":0.047003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50403,"millis":0.050403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230917,"millis":0.230917,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448733,"millis":0.448733,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34403,"millis":0.034403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117409,"millis":0.117409,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":113509,"millis":0.113509,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49903,"millis":0.049903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":611970459,"millis":611.970459,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2101,"millis":0.002101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4158907,"millis":4.158907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":5380597,"millis":5.380597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5170782,"millis":5.170782,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4980867,"millis":4.980867,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6038946,"millis":6.038946,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5461403,"millis":5.461403,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91207,"millis":0.091207,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2759603,"millis":2.759603,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3375449,"millis":3.375449,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3524061,"millis":3.524061,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":618946,"millis":0.618946,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":251618,"millis":0.251618,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.630 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":4245013,"millis":4.245013,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":260819,"millis":0.260819,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.635 [print] #notpresent \n"},{"result":{"nanos":3473156,"millis":3.473156,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":234518,"millis":0.234518,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.638 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":91606,"millis":0.091606,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160512,"millis":0.160512,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.639 [print] #notpresent \n"},{"result":{"nanos":6840704,"millis":6.840704,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":200115,"millis":0.200115,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.646 [print] Beheer PDOK \n"},{"result":{"nanos":600044,"millis":0.600044,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.646 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":5799628,"millis":5.799628,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476635,"millis":0.476635,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368727,"millis":0.368727,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":677.75101,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","startTime":1631163624974,"refId":"[1.190:67]","endTime":1631163625653,"exampleData":{"datasetIdentifierCode":"e69bb2e9-eff4-4fb3-86a6-057cf628e761"},"exampleIndex":189},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.239 karate.env system property was: null \n"},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40403,"millis":0.040403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243418,"millis":0.243418,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34902,"millis":0.034902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":320023,"millis":0.320023,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48104,"millis":0.048104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":9501,"millis":0.009501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":67105,"millis":0.067105,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24302,"millis":0.024302,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515288324,"millis":515.288324,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":694152,"millis":0.694152,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":538740,"millis":0.53874,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":470935,"millis":0.470935,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":536639,"millis":0.536639,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2113356,"millis":2.113356,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":625546,"millis":0.625546,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97907,"millis":0.097907,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":466835,"millis":0.466835,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":444332,"millis":0.444332,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":451833,"millis":0.451833,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155811,"millis":0.155811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":327124,"millis":0.327124,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.763 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":450834,"millis":0.450834,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":229816,"millis":0.229816,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.763 [print] #notpresent \n"},{"result":{"nanos":473535,"millis":0.473535,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140011,"millis":0.140011,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.764 [print] OGC:WFS \n"},{"result":{"nanos":93007,"millis":0.093007,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":193914,"millis":0.193914,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.764 [print] #notpresent \n"},{"result":{"nanos":458534,"millis":0.458534,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":199314,"millis":0.199314,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.765 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":219416,"millis":0.219416,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.765 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":455534,"millis":0.455534,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516038,"millis":0.516038,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424331,"millis":0.424331,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.028189,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dd414384-0bcb-4188-86e2-2843e12a579e","startTime":1631163625239,"refId":"[1.191:67]","endTime":1631163625767,"exampleData":{"datasetIdentifierCode":"dd414384-0bcb-4188-86e2-2843e12a579e"},"exampleIndex":190},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.393 karate.env system property was: null \n"},{"result":{"nanos":30802,"millis":0.030802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43703,"millis":0.043703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50003,"millis":0.050003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":304222,"millis":0.304222,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42003,"millis":0.042003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427431,"millis":0.427431,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98707,"millis":0.098707,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15501,"millis":0.015501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60604,"millis":0.060604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565312015,"millis":565.312015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2501,"millis":0.002501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":734454,"millis":0.734454,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":613146,"millis":0.613146,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769956,"millis":0.769956,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":554141,"millis":0.554141,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":678750,"millis":0.67875,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":582643,"millis":0.582643,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85007,"millis":0.085007,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":398030,"millis":0.39803,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":437932,"millis":0.437932,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":537740,"millis":0.53774,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164812,"millis":0.164812,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":888066,"millis":0.888066,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.966 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":498337,"millis":0.498337,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":802259,"millis":0.802259,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.968 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":509438,"millis":0.509438,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":533239,"millis":0.533239,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.969 [print] #notpresent \n"},{"result":{"nanos":95607,"millis":0.095607,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":465834,"millis":0.465834,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.969 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":535940,"millis":0.53594,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":490237,"millis":0.490237,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.970 [print] Beheer PDOK \n"},{"result":{"nanos":2059852,"millis":2.059852,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.972 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n"},{"result":{"nanos":548340,"millis":0.54834,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3376849,"millis":3.376849,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4491532,"millis":4.491532,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":587.332539,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"74620aa8-4fa2-414d-8350-50d93e500da8","startTime":1631163625393,"refId":"[1.192:67]","endTime":1631163625981,"exampleData":{"datasetIdentifierCode":"74620aa8-4fa2-414d-8350-50d93e500da8"},"exampleIndex":191},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.472 karate.env system property was: null \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45604,"millis":0.045604,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48604,"millis":0.048604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":251719,"millis":0.251719,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393729,"millis":0.393729,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32902,"millis":0.032902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48904,"millis":0.048904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":633154222,"millis":633.154222,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2201,"millis":0.002201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4454828,"millis":4.454828,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":6752098,"millis":6.752098,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":6041345,"millis":6.041345,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6112251,"millis":6.112251,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6589987,"millis":6.589987,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6074848,"millis":6.074848,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92707,"millis":0.092707,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3700173,"millis":3.700173,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3768578,"millis":3.768578,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3810981,"millis":3.810981,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":577943,"millis":0.577943,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180813,"millis":0.180813,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.154 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":3995695,"millis":3.995695,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":179613,"millis":0.179613,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.159 [print] #notpresent \n"},{"result":{"nanos":3620667,"millis":3.620667,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":203315,"millis":0.203315,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.162 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":83406,"millis":0.083406,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":303522,"millis":0.303522,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.163 [print] #notpresent \n"},{"result":{"nanos":6384371,"millis":6.384371,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149111,"millis":0.149111,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.169 [print] Beheer PDOK \n"},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.170 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":6001743,"millis":6.001743,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":626447,"millis":0.626447,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":427031,"millis":0.427031,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":704.723102,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"76854ff3-a853-4405-b9fd-acef66460376","startTime":1631163625471,"refId":"[1.193:67]","endTime":1631163626177,"exampleData":{"datasetIdentifierCode":"76854ff3-a853-4405-b9fd-acef66460376"},"exampleIndex":192},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62004,"millis":0.062004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.656 karate.env system property was: null \n"},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127509,"millis":0.127509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116408,"millis":0.116408,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":413431,"millis":0.413431,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126509,"millis":0.126509,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462034,"millis":0.462034,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95307,"millis":0.095307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":155912,"millis":0.155912,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49903,"millis":0.049903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523140704,"millis":523.140704,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":429932,"millis":0.429932,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":504537,"millis":0.504537,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":427831,"millis":0.427831,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":403030,"millis":0.40303,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":442332,"millis":0.442332,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400730,"millis":0.40073,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313823,"millis":0.313823,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":379328,"millis":0.379328,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":320524,"millis":0.320524,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112108,"millis":0.112108,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":249718,"millis":0.249718,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.186 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":508938,"millis":0.508938,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":2147158,"millis":2.147158,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.188 [print] #notpresent \n"},{"result":{"nanos":414631,"millis":0.414631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114509,"millis":0.114509,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.189 [print] #notpresent \n"},{"result":{"nanos":39603,"millis":0.039603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70505,"millis":0.070505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.189 [print] #notpresent \n"},{"result":{"nanos":462035,"millis":0.462035,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":243018,"millis":0.243018,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.190 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.190 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":570842,"millis":0.570842,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":398529,"millis":0.398529,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344825,"millis":0.344825,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.292423,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"914a6e0c-2aae-42f8-8425-2a047c245dab","startTime":1631163625655,"refId":"[1.194:67]","endTime":1631163626192,"exampleData":{"datasetIdentifierCode":"914a6e0c-2aae-42f8-8425-2a047c245dab"},"exampleIndex":193},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.769 karate.env system property was: null \n"},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122510,"millis":0.12251,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110008,"millis":0.110008,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337925,"millis":0.337925,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124409,"millis":0.124409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91507,"millis":0.091507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121009,"millis":0.121009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39503,"millis":0.039503,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41003,"millis":0.041003,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":45903,"millis":0.045903,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14101,"millis":0.014101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529259655,"millis":529.259655,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":710452,"millis":0.710452,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":691751,"millis":0.691751,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":626746,"millis":0.626746,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":719153,"millis":0.719153,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":720953,"millis":0.720953,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":670050,"millis":0.67005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55304,"millis":0.055304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":493536,"millis":0.493536,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":501737,"millis":0.501737,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":506937,"millis":0.506937,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":282621,"millis":0.282621,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":738255,"millis":0.738255,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.308 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":380928,"millis":0.380928,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":441732,"millis":0.441732,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.309 [print] OGC:WFS \n"},{"result":{"nanos":378128,"millis":0.378128,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":411031,"millis":0.411031,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.310 [print] #notpresent \n"},{"result":{"nanos":39302,"millis":0.039302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":363527,"millis":0.363527,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.311 [print] OGC:WFS \n"},{"result":{"nanos":408430,"millis":0.40843,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":393529,"millis":0.393529,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.311 [print] Beheer PDOK \n"},{"result":{"nanos":629446,"millis":0.629446,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.312 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":401530,"millis":0.40153,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":566642,"millis":0.566642,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":369328,"millis":0.369328,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.384123,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"027e3f15-3b58-4570-97bb-779ce3ca947e","startTime":1631163625769,"refId":"[1.195:67]","endTime":1631163626313,"exampleData":{"datasetIdentifierCode":"027e3f15-3b58-4570-97bb-779ce3ca947e"},"exampleIndex":194},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56004,"millis":0.056004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.990 karate.env system property was: null \n"},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118608,"millis":0.118608,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108208,"millis":0.108208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363327,"millis":0.363327,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125810,"millis":0.12581,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435933,"millis":0.435933,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98108,"millis":0.098108,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":6181356,"millis":6.181356,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79405,"millis":0.079405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37503,"millis":0.037503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":18801,"millis":0.018801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520536911,"millis":520.536911,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":555041,"millis":0.555041,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":389529,"millis":0.389529,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":390429,"millis":0.390429,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":442932,"millis":0.442932,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":388529,"millis":0.388529,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":288421,"millis":0.288421,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327824,"millis":0.327824,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":317123,"millis":0.317123,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98107,"millis":0.098107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":94507,"millis":0.094507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.522 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1261493,"millis":1.261493,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111708,"millis":0.111708,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.524 [print] OGC:WMS \n"},{"result":{"nanos":649948,"millis":0.649948,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73405,"millis":0.073405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.524 [print] #notpresent \n"},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":320223,"millis":0.320223,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.525 [print] OGC:WMS \n"},{"result":{"nanos":659849,"millis":0.659849,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76505,"millis":0.076505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.525 [print] Beheer PDOK \n"},{"result":{"nanos":769056,"millis":0.769056,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.526 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n"},{"result":{"nanos":451734,"millis":0.451734,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":574742,"millis":0.574742,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":474535,"millis":0.474535,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.440955,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","startTime":1631163625989,"refId":"[1.196:67]","endTime":1631163626528,"exampleData":{"datasetIdentifierCode":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0"},"exampleIndex":195},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60605,"millis":0.060605,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.180 karate.env system property was: null \n"},{"result":{"nanos":46404,"millis":0.046404,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130010,"millis":0.13001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125509,"millis":0.125509,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":344825,"millis":0.344825,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131510,"millis":0.13151,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438633,"millis":0.438633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97907,"millis":0.097907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3424053,"millis":3.424053,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61004,"millis":0.061004,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34602,"millis":0.034602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":15602,"millis":0.015602,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":60304,"millis":0.060304,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516237494,"millis":516.237494,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":595844,"millis":0.595844,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":517838,"millis":0.517838,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":455234,"millis":0.455234,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":431832,"millis":0.431832,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":463234,"millis":0.463234,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":483735,"millis":0.483735,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":376728,"millis":0.376728,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346625,"millis":0.346625,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":364427,"millis":0.364427,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91507,"millis":0.091507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139310,"millis":0.13931,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.713 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":876465,"millis":0.876465,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92107,"millis":0.092107,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.714 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":649848,"millis":0.649848,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87907,"millis":0.087907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.715 [print] #notpresent \n"},{"result":{"nanos":339225,"millis":0.339225,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63605,"millis":0.063605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.715 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":835662,"millis":0.835662,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79406,"millis":0.079406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.716 [print] Beheer PDOK \n"},{"result":{"nanos":761856,"millis":0.761856,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.717 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":463534,"millis":0.463534,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532540,"millis":0.53254,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353226,"millis":0.353226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.677262,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","startTime":1631163626179,"refId":"[1.197:67]","endTime":1631163626718,"exampleData":{"datasetIdentifierCode":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef"},"exampleIndex":196},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17702,"millis":0.017702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.195 karate.env system property was: null \n"},{"result":{"nanos":33703,"millis":0.033703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45904,"millis":0.045904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254119,"millis":0.254119,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40703,"millis":0.040703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474235,"millis":0.474235,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35202,"millis":0.035202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129109,"millis":0.129109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":182813,"millis":0.182813,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10001,"millis":0.010001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49604,"millis":0.049604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":548160550,"millis":548.16055,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":482136,"millis":0.482136,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":25827405,"millis":25.827405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":606744,"millis":0.606744,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":483736,"millis":0.483736,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":737255,"millis":0.737255,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":549740,"millis":0.54974,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82306,"millis":0.082306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383428,"millis":0.383428,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":396729,"millis":0.396729,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":426332,"millis":0.426332,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158211,"millis":0.158211,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":185014,"millis":0.185014,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.775 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":538839,"millis":0.538839,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":573343,"millis":0.573343,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.777 [print] OGC:WFS \n"},{"result":{"nanos":466834,"millis":0.466834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135710,"millis":0.13571,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.778 [print] #notpresent \n"},{"result":{"nanos":79906,"millis":0.079906,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":169513,"millis":0.169513,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.778 [print] OGC:WFS \n"},{"result":{"nanos":427131,"millis":0.427131,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123209,"millis":0.123209,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.779 [print] Beheer PDOK \n"},{"result":{"nanos":220316,"millis":0.220316,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.779 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":506437,"millis":0.506437,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":530439,"millis":0.530439,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344626,"millis":0.344626,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":583.952391,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b023459a-9f0e-4d53-8059-a794119abbed","startTime":1631163626195,"refId":"[1.198:67]","endTime":1631163626780,"exampleData":{"datasetIdentifierCode":"b023459a-9f0e-4d53-8059-a794119abbed"},"exampleIndex":197},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.315 karate.env system property was: null \n"},{"result":{"nanos":28702,"millis":0.028702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60704,"millis":0.060704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236018,"millis":0.236018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40503,"millis":0.040503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402630,"millis":0.40263,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32602,"millis":0.032602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54104,"millis":0.054104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52004,"millis":0.052004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551827520,"millis":551.82752,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":678750,"millis":0.67875,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":511237,"millis":0.511237,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451733,"millis":0.451733,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":454133,"millis":0.454133,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":675550,"millis":0.67555,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":561842,"millis":0.561842,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94106,"millis":0.094106,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":431432,"millis":0.431432,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":441133,"millis":0.441133,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":428632,"millis":0.428632,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151512,"millis":0.151512,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143410,"millis":0.14341,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.874 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":416431,"millis":0.416431,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203615,"millis":0.203615,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.875 [print] #notpresent \n"},{"result":{"nanos":448433,"millis":0.448433,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":185113,"millis":0.185113,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.876 [print] #notpresent \n"},{"result":{"nanos":89407,"millis":0.089407,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":134310,"millis":0.13431,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.876 [print] #notpresent \n"},{"result":{"nanos":455734,"millis":0.455734,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144311,"millis":0.144311,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.877 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":864564,"millis":0.864564,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.877 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":508337,"millis":0.508337,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":503537,"millis":0.503537,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376228,"millis":0.376228,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":562.213987,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"257b960c-ece6-4e0f-b893-77b219c6133f","startTime":1631163626315,"refId":"[1.199:67]","endTime":1631163626879,"exampleData":{"datasetIdentifierCode":"257b960c-ece6-4e0f-b893-77b219c6133f"},"exampleIndex":198},{"sectionIndex":0,"stepResults":[{"result":{"nanos":308123,"millis":0.308123,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.530 karate.env system property was: null \n"},{"result":{"nanos":35202,"millis":0.035202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50304,"millis":0.050304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56504,"millis":0.056504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240218,"millis":0.240218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40002,"millis":0.040002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392829,"millis":0.392829,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57004,"millis":0.057004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29102,"millis":0.029102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21101,"millis":0.021101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":301323,"millis":0.301323,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526653963,"millis":526.653963,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":754256,"millis":0.754256,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":762257,"millis":0.762257,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":466434,"millis":0.466434,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":447833,"millis":0.447833,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":706352,"millis":0.706352,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":591043,"millis":0.591043,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97207,"millis":0.097207,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390129,"millis":0.390129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":548240,"millis":0.54824,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":186914,"millis":0.186914,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":3792580,"millis":3.79258,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.068 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":499337,"millis":0.499337,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":213016,"millis":0.213016,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.069 [print] #notpresent \n"},{"result":{"nanos":485235,"millis":0.485235,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":152512,"millis":0.152512,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.069 [print] OGC:WMS \n"},{"result":{"nanos":89707,"millis":0.089707,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146811,"millis":0.146811,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.070 [print] #notpresent \n"},{"result":{"nanos":459634,"millis":0.459634,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":631847,"millis":0.631847,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.071 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":165712,"millis":0.165712,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.071 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":877265,"millis":0.877265,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":491436,"millis":0.491436,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386129,"millis":0.386129,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.011497,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","startTime":1631163626530,"refId":"[1.200:67]","endTime":1631163627073,"exampleData":{"datasetIdentifierCode":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6"},"exampleIndex":199},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.720 karate.env system property was: null \n"},{"result":{"nanos":35303,"millis":0.035303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50004,"millis":0.050004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56004,"millis":0.056004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250419,"millis":0.250419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43703,"millis":0.043703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417831,"millis":0.417831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34503,"millis":0.034503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55704,"millis":0.055704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56604,"millis":0.056604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535736033,"millis":535.736033,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":592044,"millis":0.592044,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":451334,"millis":0.451334,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":380628,"millis":0.380628,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381528,"millis":0.381528,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":558741,"millis":0.558741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":726853,"millis":0.726853,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":138010,"millis":0.13801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":465135,"millis":0.465135,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":479935,"millis":0.479935,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402229,"millis":0.402229,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154412,"millis":0.154412,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141811,"millis":0.141811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.263 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":598044,"millis":0.598044,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221816,"millis":0.221816,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.264 [print] OGC:WMS \n"},{"result":{"nanos":399730,"millis":0.39973,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":161912,"millis":0.161912,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.264 [print] #notpresent \n"},{"result":{"nanos":85406,"millis":0.085406,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":182813,"millis":0.182813,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.265 [print] OGC:WMS \n"},{"result":{"nanos":409930,"millis":0.40993,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":257419,"millis":0.257419,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.265 [print] Beheer PDOK \n"},{"result":{"nanos":229417,"millis":0.229417,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.266 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":425331,"millis":0.425331,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":448733,"millis":0.448733,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354326,"millis":0.354326,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.459051,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","startTime":1631163626720,"refId":"[1.201:67]","endTime":1631163627267,"exampleData":{"datasetIdentifierCode":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d"},"exampleIndex":200},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55505,"millis":0.055505,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.783 karate.env system property was: null \n"},{"result":{"nanos":42604,"millis":0.042604,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121009,"millis":0.121009,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150711,"millis":0.150711,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311423,"millis":0.311423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127509,"millis":0.127509,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410030,"millis":0.41003,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85306,"millis":0.085306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":234718,"millis":0.234718,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526912882,"millis":526.912882,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":729954,"millis":0.729954,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":487336,"millis":0.487336,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":361227,"millis":0.361227,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":362426,"millis":0.362426,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":467135,"millis":0.467135,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400929,"millis":0.400929,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26402,"millis":0.026402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":300322,"millis":0.300322,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":320223,"millis":0.320223,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323523,"millis":0.323523,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":623246,"millis":0.623246,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":533139,"millis":0.533139,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.317 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":366327,"millis":0.366327,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":424032,"millis":0.424032,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.318 [print] OGC:WFS \n"},{"result":{"nanos":363126,"millis":0.363126,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":2770905,"millis":2.770905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.321 [print] #notpresent \n"},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99507,"millis":0.099507,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.321 [print] OGC:WFS \n"},{"result":{"nanos":424032,"millis":0.424032,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117409,"millis":0.117409,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.322 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":51004,"millis":0.051004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.322 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":371427,"millis":0.371427,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":563442,"millis":0.563442,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":492936,"millis":0.492936,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.640221,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"91041d33-54f8-40f1-8965-a867ba00cab8","startTime":1631163626782,"refId":"[1.202:67]","endTime":1631163627323,"exampleData":{"datasetIdentifierCode":"91041d33-54f8-40f1-8965-a867ba00cab8"},"exampleIndex":201},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58505,"millis":0.058505,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.881 karate.env system property was: null \n"},{"result":{"nanos":45104,"millis":0.045104,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126610,"millis":0.12661,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119209,"millis":0.119209,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368827,"millis":0.368827,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129110,"millis":0.12911,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":472835,"millis":0.472835,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":108108,"millis":0.108108,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115608,"millis":0.115608,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521332670,"millis":521.33267,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":548641,"millis":0.548641,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":489136,"millis":0.489136,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":449133,"millis":0.449133,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":423531,"millis":0.423531,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":576643,"millis":0.576643,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":517438,"millis":0.517438,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36202,"millis":0.036202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":358727,"millis":0.358727,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":361326,"millis":0.361326,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379528,"millis":0.379528,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81906,"millis":0.081906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119009,"millis":0.119009,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.410 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":990573,"millis":0.990573,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":520738,"millis":0.520738,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.411 [print] OGC:WFS \n"},{"result":{"nanos":447634,"millis":0.447634,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77006,"millis":0.077006,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.412 [print] INSPIRE Atom \n"},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":391129,"millis":0.391129,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.412 [print] OGC:WFS \n"},{"result":{"nanos":751656,"millis":0.751656,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96307,"millis":0.096307,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.413 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":67705,"millis":0.067705,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.414 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":1058279,"millis":1.058279,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":562541,"millis":0.562541,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.768417,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","startTime":1631163626881,"refId":"[1.203:67]","endTime":1631163627416,"exampleData":{"datasetIdentifierCode":"fbe544b6-6e6f-43a0-80b9-ced1df78c434"},"exampleIndex":202},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58105,"millis":0.058105,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.075 karate.env system property was: null \n"},{"result":{"nanos":45204,"millis":0.045204,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127710,"millis":0.12771,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119509,"millis":0.119509,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":326724,"millis":0.326724,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124809,"millis":0.124809,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3579464,"millis":3.579464,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":111808,"millis":0.111808,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":506537,"millis":0.506537,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":60705,"millis":0.060705,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33503,"millis":0.033503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14402,"millis":0.014402,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512881646,"millis":512.881646,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1101182,"millis":1.101182,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":982372,"millis":0.982372,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":880465,"millis":0.880465,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":513837,"millis":0.513837,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":527339,"millis":0.527339,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":497637,"millis":0.497637,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27302,"millis":0.027302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369127,"millis":0.369127,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":360326,"millis":0.360326,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381629,"millis":0.381629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73006,"millis":0.073006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":145611,"millis":0.145611,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.600 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":407531,"millis":0.407531,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97408,"millis":0.097408,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.601 [print] OGC:WFS \n"},{"result":{"nanos":667250,"millis":0.66725,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72506,"millis":0.072506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.602 [print] #notpresent \n"},{"result":{"nanos":340725,"millis":0.340725,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59204,"millis":0.059204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.602 [print] OGC:WFS \n"},{"result":{"nanos":778858,"millis":0.778858,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75406,"millis":0.075406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.603 [print] Beheer PDOK \n"},{"result":{"nanos":340325,"millis":0.340325,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.603 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":912367,"millis":0.912367,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561441,"millis":0.561441,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396030,"millis":0.39603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.613213,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","startTime":1631163627075,"refId":"[1.204:67]","endTime":1631163627605,"exampleData":{"datasetIdentifierCode":"aaf53e6f-fe99-4a86-a61c-50b128412d80"},"exampleIndex":203},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57004,"millis":0.057004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.269 karate.env system property was: null \n"},{"result":{"nanos":44403,"millis":0.044403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125709,"millis":0.125709,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123809,"millis":0.123809,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366528,"millis":0.366528,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117209,"millis":0.117209,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436732,"millis":0.436732,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92707,"millis":0.092707,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":184714,"millis":0.184714,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":102607,"millis":0.102607,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13401,"millis":0.013401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539884939,"millis":539.884939,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":766656,"millis":0.766656,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":821061,"millis":0.821061,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":762657,"millis":0.762657,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":734254,"millis":0.734254,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":874764,"millis":0.874764,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":819361,"millis":0.819361,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57104,"millis":0.057104,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":564041,"millis":0.564041,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":572542,"millis":0.572542,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":771957,"millis":0.771957,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128909,"millis":0.128909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120409,"millis":0.120409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.819 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wfs?service=wfs&request=GetCapabilities \n"},{"result":{"nanos":655148,"millis":0.655148,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110408,"millis":0.110408,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.820 [print] #notpresent \n"},{"result":{"nanos":492337,"millis":0.492337,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61305,"millis":0.061305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.820 [print] OGC:WFS \n"},{"result":{"nanos":34703,"millis":0.034703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.821 [print] #notpresent \n"},{"result":{"nanos":493637,"millis":0.493637,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64204,"millis":0.064204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.821 [print] Beheer PDOK \n"},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.821 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/eng\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":465534,"millis":0.465534,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":604444,"millis":0.604444,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401530,"millis":0.40153,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.086438,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","startTime":1631163627269,"refId":"[1.205:67]","endTime":1631163627823,"exampleData":{"datasetIdentifierCode":"a8ad0d7d-ea9e-4261-bc92-772e99a41387"},"exampleIndex":204},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.326 karate.env system property was: null \n"},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48804,"millis":0.048804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":224617,"millis":0.224617,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39403,"millis":0.039403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369627,"millis":0.369627,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80906,"millis":0.080906,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19002,"millis":0.019002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50003,"millis":0.050003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528262082,"millis":528.262082,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":579442,"millis":0.579442,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":609545,"millis":0.609545,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":593444,"millis":0.593444,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":571342,"millis":0.571342,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":622846,"millis":0.622846,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":898766,"millis":0.898766,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41403,"millis":0.041403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":524238,"millis":0.524238,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":460534,"millis":0.460534,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":455934,"millis":0.455934,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":707552,"millis":0.707552,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":662449,"millis":0.662449,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.862 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n"},{"result":{"nanos":413131,"millis":0.413131,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":466134,"millis":0.466134,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.863 [print] OGC:WMS \n"},{"result":{"nanos":399230,"millis":0.39923,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":470135,"millis":0.470135,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.864 [print] #notpresent \n"},{"result":{"nanos":44503,"millis":0.044503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":391229,"millis":0.391229,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.864 [print] OGC:WMS \n"},{"result":{"nanos":452933,"millis":0.452933,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92807,"millis":0.092807,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.865 [print] Beheer PDOK \n"},{"result":{"nanos":1034877,"millis":1.034877,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.865 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":480635,"millis":0.480635,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513838,"millis":0.513838,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":367827,"millis":0.367827,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.099029,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","startTime":1631163627325,"refId":"[1.206:67]","endTime":1631163627867,"exampleData":{"datasetIdentifierCode":"684ff4f6-1652-45a8-93f0-8e16d37b2a66"},"exampleIndex":205},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.418 karate.env system property was: null \n"},{"result":{"nanos":29102,"millis":0.029102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47403,"millis":0.047403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70105,"millis":0.070105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247419,"millis":0.247419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392029,"millis":0.392029,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29202,"millis":0.029202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20602,"millis":0.020602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":368927,"millis":0.368927,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517382778,"millis":517.382778,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":423031,"millis":0.423031,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":498937,"millis":0.498937,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":437832,"millis":0.437832,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":423531,"millis":0.423531,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":484936,"millis":0.484936,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":426631,"millis":0.426631,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27802,"millis":0.027802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":350526,"millis":0.350526,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337625,"millis":0.337625,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363627,"millis":0.363627,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74805,"millis":0.074805,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100107,"millis":0.100107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.941 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":405830,"millis":0.40583,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68205,"millis":0.068205,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.942 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":342525,"millis":0.342525,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58704,"millis":0.058704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.942 [print] #notpresent \n"},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":23702,"millis":0.023702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.942 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":435132,"millis":0.435132,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61805,"millis":0.061805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.943 [print] Beheer PDOK \n"},{"result":{"nanos":22401,"millis":0.022401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.943 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":412430,"millis":0.41243,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":556441,"millis":0.556441,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389228,"millis":0.389228,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.540076,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","startTime":1631163627418,"refId":"[1.207:67]","endTime":1631163627944,"exampleData":{"datasetIdentifierCode":"67bcc21d-beda-449d-975c-00a4fa80f2b7"},"exampleIndex":206},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.607 karate.env system property was: null \n"},{"result":{"nanos":28202,"millis":0.028202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222316,"millis":0.222316,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":353526,"millis":0.353526,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28902,"millis":0.028902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48104,"millis":0.048104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511868472,"millis":511.868472,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":527639,"millis":0.527639,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":484836,"millis":0.484836,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402630,"millis":0.40263,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":394529,"millis":0.394529,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":504337,"millis":0.504337,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":439032,"millis":0.439032,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29802,"millis":0.029802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329025,"millis":0.329025,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322024,"millis":0.322024,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":334324,"millis":0.334324,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89807,"millis":0.089807,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.125 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":348326,"millis":0.348326,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84506,"millis":0.084506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.126 [print] OGC:WMS \n"},{"result":{"nanos":414631,"millis":0.414631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118909,"millis":0.118909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.126 [print] #notpresent \n"},{"result":{"nanos":36903,"millis":0.036903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.126 [print] OGC:WMS \n"},{"result":{"nanos":431331,"millis":0.431331,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73106,"millis":0.073106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.127 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.127 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":415531,"millis":0.415531,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":614045,"millis":0.614045,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368627,"millis":0.368627,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.717351,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e29b19de-d191-47f2-b944-5056a7674cce","startTime":1631163627607,"refId":"[1.208:67]","endTime":1631163628128,"exampleData":{"datasetIdentifierCode":"e29b19de-d191-47f2-b944-5056a7674cce"},"exampleIndex":207},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34102,"millis":0.034102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.825 karate.env system property was: null \n"},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51504,"millis":0.051504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243518,"millis":0.243518,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59404,"millis":0.059404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":485436,"millis":0.485436,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54804,"millis":0.054804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20102,"millis":0.020102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47803,"millis":0.047803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520778930,"millis":520.77893,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":965071,"millis":0.965071,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":865564,"millis":0.865564,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":755855,"millis":0.755855,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":622546,"millis":0.622546,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":624246,"millis":0.624246,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":519638,"millis":0.519638,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":82606,"millis":0.082606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":412330,"millis":0.41233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":424031,"millis":0.424031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":442132,"millis":0.442132,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145611,"millis":0.145611,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":205016,"millis":0.205016,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.353 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1161285,"millis":1.161285,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":155912,"millis":0.155912,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.355 [print] OGC:WMS \n"},{"result":{"nanos":779557,"millis":0.779557,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145711,"millis":0.145711,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.356 [print] #notpresent \n"},{"result":{"nanos":368027,"millis":0.368027,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128309,"millis":0.128309,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.356 [print] OGC:WMS \n"},{"result":{"nanos":830061,"millis":0.830061,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154812,"millis":0.154812,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.357 [print] Beheer PDOK \n"},{"result":{"nanos":419631,"millis":0.419631,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.358 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":1086180,"millis":1.08618,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":440633,"millis":0.440633,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387929,"millis":0.387929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.051406,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","startTime":1631163627825,"refId":"[1.209:67]","endTime":1631163628360,"exampleData":{"datasetIdentifierCode":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b"},"exampleIndex":208},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.869 karate.env system property was: null \n"},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111608,"millis":0.111608,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57904,"millis":0.057904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245818,"millis":0.245818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60205,"millis":0.060205,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":440833,"millis":0.440833,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34402,"millis":0.034402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45603,"millis":0.045603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":580279720,"millis":580.27972,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":575343,"millis":0.575343,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":445033,"millis":0.445033,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381928,"millis":0.381928,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":348525,"millis":0.348525,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":548540,"millis":0.54854,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1018476,"millis":1.018476,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":161011,"millis":0.161011,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":760556,"millis":0.760556,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":719953,"millis":0.719953,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":712053,"millis":0.712053,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":218216,"millis":0.218216,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1387103,"millis":1.387103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.459 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n"},{"result":{"nanos":865064,"millis":0.865064,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":223716,"millis":0.223716,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.460 [print] OGC:WMTS \n"},{"result":{"nanos":709653,"millis":0.709653,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193614,"millis":0.193614,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.461 [print] #notpresent \n"},{"result":{"nanos":120909,"millis":0.120909,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129909,"millis":0.129909,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.462 [print] OGC:WMTS \n"},{"result":{"nanos":591943,"millis":0.591943,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":744355,"millis":0.744355,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.463 [print] Beheer PDOK \n"},{"result":{"nanos":121009,"millis":0.121009,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.463 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n"},{"result":{"nanos":1010674,"millis":1.010674,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":428332,"millis":0.428332,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336325,"millis":0.336325,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":594.185942,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"54d2021b-e778-4834-a3c6-75c89d36b942","startTime":1631163627869,"refId":"[1.210:67]","endTime":1631163628465,"exampleData":{"datasetIdentifierCode":"54d2021b-e778-4834-a3c6-75c89d36b942"},"exampleIndex":209},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16702,"millis":0.016702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.946 karate.env system property was: null \n"},{"result":{"nanos":29203,"millis":0.029203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228517,"millis":0.228517,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39403,"millis":0.039403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426532,"millis":0.426532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68105,"millis":0.068105,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76106,"millis":0.076106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49904,"millis":0.049904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":579699177,"millis":579.699177,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":551741,"millis":0.551741,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":468735,"millis":0.468735,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":467934,"millis":0.467934,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":623346,"millis":0.623346,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":539140,"millis":0.53914,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79406,"millis":0.079406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":373828,"millis":0.373828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":370427,"millis":0.370427,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":459034,"millis":0.459034,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":293821,"millis":0.293821,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184014,"millis":0.184014,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.532 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n"},{"result":{"nanos":637847,"millis":0.637847,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148511,"millis":0.148511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.533 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":522238,"millis":0.522238,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":174613,"millis":0.174613,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.534 [print] #notpresent \n"},{"result":{"nanos":179513,"millis":0.179513,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110608,"millis":0.110608,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.534 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":609245,"millis":0.609245,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127109,"millis":0.127109,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.535 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":88306,"millis":0.088306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.535 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":415630,"millis":0.41563,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":638547,"millis":0.638547,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352326,"millis":0.352326,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":589.619109,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","startTime":1631163627946,"refId":"[1.211:67]","endTime":1631163628537,"exampleData":{"datasetIdentifierCode":"ebd6ea46-ee7b-432f-83c4-058c889a790d"},"exampleIndex":210},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.130 karate.env system property was: null \n"},{"result":{"nanos":33302,"millis":0.033302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242018,"millis":0.242018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56904,"millis":0.056904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":480035,"millis":0.480035,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20602,"millis":0.020602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526661463,"millis":526.661463,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593844,"millis":0.593844,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":513438,"millis":0.513438,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417931,"millis":0.417931,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400729,"millis":0.400729,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":588043,"millis":0.588043,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":573242,"millis":0.573242,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96708,"millis":0.096708,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":483436,"millis":0.483436,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":476135,"millis":0.476135,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":437033,"millis":0.437033,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172312,"millis":0.172312,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":259519,"millis":0.259519,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.664 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":427632,"millis":0.427632,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1210790,"millis":1.21079,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.665 [print] #notpresent \n"},{"result":{"nanos":481536,"millis":0.481536,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222417,"millis":0.222417,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.666 [print] #notpresent \n"},{"result":{"nanos":100807,"millis":0.100807,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":256619,"millis":0.256619,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.667 [print] #notpresent \n"},{"result":{"nanos":593544,"millis":0.593544,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":156412,"millis":0.156412,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.667 [print] KNMI \n"},{"result":{"nanos":364726,"millis":0.364726,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.668 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":463034,"millis":0.463034,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485935,"millis":0.485935,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349126,"millis":0.349126,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.918897,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","startTime":1631163628130,"refId":"[1.212:67]","endTime":1631163628669,"exampleData":{"datasetIdentifierCode":"1e01d173-96f4-40b1-8236-c6a9cfdac252"},"exampleIndex":211},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.362 karate.env system property was: null \n"},{"result":{"nanos":58104,"millis":0.058104,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120709,"millis":0.120709,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114708,"millis":0.114708,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276720,"millis":0.27672,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104908,"millis":0.104908,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379228,"millis":0.379228,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83306,"millis":0.083306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111608,"millis":0.111608,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":338024,"millis":0.338024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33403,"millis":0.033403,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509374488,"millis":509.374488,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2301,"millis":0.002301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":745855,"millis":0.745855,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":766757,"millis":0.766757,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716453,"millis":0.716453,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":697751,"millis":0.697751,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":766256,"millis":0.766256,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":639947,"millis":0.639947,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":324424,"millis":0.324424,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335525,"millis":0.335525,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":298122,"millis":0.298122,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172013,"millis":0.172013,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109308,"millis":0.109308,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.880 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":512437,"millis":0.512437,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100408,"millis":0.100408,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.880 [print] #notpresent \n"},{"result":{"nanos":481436,"millis":0.481436,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99508,"millis":0.099508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.881 [print] OGC:WFS \n"},{"result":{"nanos":34302,"millis":0.034302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":156111,"millis":0.156111,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.881 [print] #notpresent \n"},{"result":{"nanos":578843,"millis":0.578843,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80206,"millis":0.080206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.882 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":24802,"millis":0.024802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.882 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1741829,"millis":1.741829,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":708652,"millis":0.708652,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":508138,"millis":0.508138,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.784604,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","startTime":1631163628361,"refId":"[1.213:67]","endTime":1631163628885,"exampleData":{"datasetIdentifierCode":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e"},"exampleIndex":212},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.467 karate.env system property was: null \n"},{"result":{"nanos":35902,"millis":0.035902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":132410,"millis":0.13241,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112009,"millis":0.112009,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289222,"millis":0.289222,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112508,"millis":0.112508,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397030,"millis":0.39703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87107,"millis":0.087107,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126909,"millis":0.126909,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41003,"millis":0.041003,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30403,"millis":0.030403,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510071239,"millis":510.071239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":742055,"millis":0.742055,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":425131,"millis":0.425131,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":340825,"millis":0.340825,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":350226,"millis":0.350226,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433632,"millis":0.433632,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":402530,"millis":0.40253,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":301722,"millis":0.301722,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":276121,"millis":0.276121,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":276820,"millis":0.27682,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74805,"millis":0.074805,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":77105,"millis":0.077105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.983 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":305223,"millis":0.305223,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.984 [print] OGC:WFS \n"},{"result":{"nanos":326924,"millis":0.326924,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91507,"millis":0.091507,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.984 [print] #notpresent \n"},{"result":{"nanos":30503,"millis":0.030503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.984 [print] OGC:WFS \n"},{"result":{"nanos":402529,"millis":0.402529,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89007,"millis":0.089007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.985 [print] Beheer PDOK \n"},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.985 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":431832,"millis":0.431832,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":529739,"millis":0.529739,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406830,"millis":0.40683,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.111734,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"93a9571d-1754-47ee-a8f9-92633abfab3a","startTime":1631163628467,"refId":"[1.214:67]","endTime":1631163628986,"exampleData":{"datasetIdentifierCode":"93a9571d-1754-47ee-a8f9-92633abfab3a"},"exampleIndex":213},{"sectionIndex":0,"stepResults":[{"result":{"nanos":84006,"millis":0.084006,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.539 karate.env system property was: null \n"},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":150711,"millis":0.150711,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":129710,"millis":0.12971,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295322,"millis":0.295322,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115409,"millis":0.115409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402529,"millis":0.402529,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91507,"millis":0.091507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126610,"millis":0.12661,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":115909,"millis":0.115909,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19302,"millis":0.019302,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516820337,"millis":516.820337,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":732154,"millis":0.732154,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":689051,"millis":0.689051,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":672650,"millis":0.67265,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":377027,"millis":0.377027,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447233,"millis":0.447233,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424632,"millis":0.424632,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35902,"millis":0.035902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":311723,"millis":0.311723,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321924,"millis":0.321924,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332425,"millis":0.332425,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79905,"millis":0.079905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":356226,"millis":0.356226,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.063 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":462635,"millis":0.462635,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":278321,"millis":0.278321,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.064 [print] OGC:WFS \n"},{"result":{"nanos":361827,"millis":0.361827,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72905,"millis":0.072905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.064 [print] #notpresent \n"},{"result":{"nanos":32202,"millis":0.032202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":294721,"millis":0.294721,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.064 [print] OGC:WFS \n"},{"result":{"nanos":413031,"millis":0.413031,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75106,"millis":0.075106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.065 [print] Beheer PDOK \n"},{"result":{"nanos":290422,"millis":0.290422,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.065 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":413131,"millis":0.413131,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565742,"millis":0.565742,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":383728,"millis":0.383728,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.915885,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","startTime":1631163628538,"refId":"[1.215:67]","endTime":1631163629067,"exampleData":{"datasetIdentifierCode":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506"},"exampleIndex":214},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64105,"millis":0.064105,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.672 karate.env system property was: null \n"},{"result":{"nanos":44003,"millis":0.044003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153512,"millis":0.153512,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114408,"millis":0.114408,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333224,"millis":0.333224,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122309,"millis":0.122309,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431532,"millis":0.431532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98208,"millis":0.098208,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120309,"millis":0.120309,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42003,"millis":0.042003,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31302,"millis":0.031302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23702,"millis":0.023702,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519716951,"millis":519.716951,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":627847,"millis":0.627847,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":671950,"millis":0.67195,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":574542,"millis":0.574542,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":593644,"millis":0.593644,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":630946,"millis":0.630946,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586043,"millis":0.586043,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1032476,"millis":1.032476,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":369227,"millis":0.369227,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":437733,"millis":0.437733,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82606,"millis":0.082606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119609,"millis":0.119609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.199 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":567341,"millis":0.567341,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125510,"millis":0.12551,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.200 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":494837,"millis":0.494837,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112608,"millis":0.112608,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.201 [print] #notpresent \n"},{"result":{"nanos":34602,"millis":0.034602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54704,"millis":0.054704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.201 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":633846,"millis":0.633846,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104508,"millis":0.104508,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.202 [print] Beheer PDOK \n"},{"result":{"nanos":59505,"millis":0.059505,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.202 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":554540,"millis":0.55454,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504437,"millis":0.504437,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301623,"millis":0.301623,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.655758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"58353cdf-b3a1-454e-9284-932a7e815e57","startTime":1631163628671,"refId":"[1.216:67]","endTime":1631163629203,"exampleData":{"datasetIdentifierCode":"58353cdf-b3a1-454e-9284-932a7e815e57"},"exampleIndex":215},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23602,"millis":0.023602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.888 karate.env system property was: null \n"},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63305,"millis":0.063305,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136810,"millis":0.13681,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257519,"millis":0.257519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41704,"millis":0.041704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":328724,"millis":0.328724,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43704,"millis":0.043704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":8801,"millis":0.008801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18401,"millis":0.018401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47604,"millis":0.047604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524613112,"millis":524.613112,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":699552,"millis":0.699552,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":527639,"millis":0.527639,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":420931,"millis":0.420931,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":468634,"millis":0.468634,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":477636,"millis":0.477636,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":432431,"millis":0.432431,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28103,"millis":0.028103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":372728,"millis":0.372728,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306422,"millis":0.306422,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300723,"millis":0.300723,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1487310,"millis":1.48731,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":167512,"millis":0.167512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.420 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":360527,"millis":0.360527,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108908,"millis":0.108908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.421 [print] OGC:WMS \n"},{"result":{"nanos":303123,"millis":0.303123,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.421 [print] #notpresent \n"},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45803,"millis":0.045803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.421 [print] OGC:WMS \n"},{"result":{"nanos":368327,"millis":0.368327,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100408,"millis":0.100408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.422 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":44104,"millis":0.044104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.422 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":350726,"millis":0.350726,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":511038,"millis":0.511038,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":335425,"millis":0.335425,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.034712,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","startTime":1631163628887,"refId":"[1.217:67]","endTime":1631163629423,"exampleData":{"datasetIdentifierCode":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8"},"exampleIndex":216},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.988 karate.env system property was: null \n"},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49103,"millis":0.049103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51003,"millis":0.051003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231217,"millis":0.231217,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390829,"millis":0.390829,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50204,"millis":0.050204,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86006,"millis":0.086006,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556663877,"millis":556.663877,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":692151,"millis":0.692151,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":584743,"millis":0.584743,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":442432,"millis":0.442432,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":493637,"millis":0.493637,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":471234,"millis":0.471234,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":542240,"millis":0.54224,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":392329,"millis":0.392329,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":412430,"millis":0.41243,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":403429,"millis":0.403429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74506,"millis":0.074506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90507,"millis":0.090507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.551 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":295222,"millis":0.295222,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111908,"millis":0.111908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.551 [print] OGC:WMS \n"},{"result":{"nanos":382528,"millis":0.382528,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104808,"millis":0.104808,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.552 [print] #notpresent \n"},{"result":{"nanos":31603,"millis":0.031603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":43003,"millis":0.043003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.552 [print] OGC:WMS \n"},{"result":{"nanos":461034,"millis":0.461034,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88206,"millis":0.088206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.553 [print] Beheer PDOK \n"},{"result":{"nanos":42003,"millis":0.042003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.553 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":449234,"millis":0.449234,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584043,"millis":0.584043,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385929,"millis":0.385929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":565.326816,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","startTime":1631163628988,"refId":"[1.218:67]","endTime":1631163629554,"exampleData":{"datasetIdentifierCode":"c78a99eb-9ba3-4307-a21b-2a64ad5da039"},"exampleIndex":217},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.069 karate.env system property was: null \n"},{"result":{"nanos":32702,"millis":0.032702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49103,"millis":0.049103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":168312,"millis":0.168312,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247218,"millis":0.247218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41803,"millis":0.041803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412530,"millis":0.41253,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34602,"millis":0.034602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55804,"millis":0.055804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":167312,"millis":0.167312,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521452879,"millis":521.452879,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1801,"millis":0.001801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":640447,"millis":0.640447,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":726554,"millis":0.726554,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681551,"millis":0.681551,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":661649,"millis":0.661649,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":14978605,"millis":14.978605,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":715253,"millis":0.715253,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117309,"millis":0.117309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414330,"millis":0.41433,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":809859,"millis":0.809859,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":447633,"millis":0.447633,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":252419,"millis":0.252419,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":256119,"millis":0.256119,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.613 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":416231,"millis":0.416231,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":215416,"millis":0.215416,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.614 [print] #notpresent \n"},{"result":{"nanos":446633,"millis":0.446633,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":209816,"millis":0.209816,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.614 [print] OGC:WFS \n"},{"result":{"nanos":92607,"millis":0.092607,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":164912,"millis":0.164912,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.615 [print] #notpresent \n"},{"result":{"nanos":457434,"millis":0.457434,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":207416,"millis":0.207416,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.615 [print] RIVM \n"},{"result":{"nanos":181213,"millis":0.181213,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.615 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":440732,"millis":0.440732,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":417531,"millis":0.417531,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":296022,"millis":0.296022,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.988862,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","startTime":1631163629069,"refId":"[1.219:67]","endTime":1631163629617,"exampleData":{"datasetIdentifierCode":"b4485d59-a945-4940-a2f5-3ce7de6a947b"},"exampleIndex":218},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.205 karate.env system property was: null \n"},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39203,"millis":0.039203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43904,"millis":0.043904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":211416,"millis":0.211416,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34103,"millis":0.034103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":313023,"millis":0.313023,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63705,"millis":0.063705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":9201,"millis":0.009201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19902,"millis":0.019902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":505416896,"millis":505.416896,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":710252,"millis":0.710252,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":593444,"millis":0.593444,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":534540,"millis":0.53454,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":516438,"millis":0.516438,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":594243,"millis":0.594243,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":662949,"millis":0.662949,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92007,"millis":0.092007,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":526539,"millis":0.526539,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":476335,"millis":0.476335,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":518138,"millis":0.518138,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147911,"millis":0.147911,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":179713,"millis":0.179713,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.717 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n"},{"result":{"nanos":577043,"millis":0.577043,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":208216,"millis":0.208216,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.718 [print] #notpresent \n"},{"result":{"nanos":516138,"millis":0.516138,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":314223,"millis":0.314223,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.719 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":95307,"millis":0.095307,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":210816,"millis":0.210816,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.719 [print] #notpresent \n"},{"result":{"nanos":584143,"millis":0.584143,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":271520,"millis":0.27152,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.720 [print] Beheer PDOK \n"},{"result":{"nanos":196414,"millis":0.196414,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.720 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":566142,"millis":0.566142,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":436932,"millis":0.436932,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347326,"millis":0.347326,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":516.172094,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","startTime":1631163629205,"refId":"[1.220:67]","endTime":1631163629722,"exampleData":{"datasetIdentifierCode":"fff9d7cf-9929-4dde-98b8-06ceda7e5610"},"exampleIndex":219},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.425 karate.env system property was: null \n"},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45304,"millis":0.045304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226716,"millis":0.226716,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38303,"millis":0.038303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392529,"millis":0.392529,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":119709,"millis":0.119709,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16002,"millis":0.016002,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530282530,"millis":530.28253,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":724154,"millis":0.724154,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":610445,"millis":0.610445,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":536139,"millis":0.536139,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":508138,"millis":0.508138,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":623746,"millis":0.623746,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":734954,"millis":0.734954,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":106307,"millis":0.106307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":518339,"millis":0.518339,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":518138,"millis":0.518138,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":222716,"millis":0.222716,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1144685,"millis":1.144685,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.964 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":477535,"millis":0.477535,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154611,"millis":0.154611,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.964 [print] #notpresent \n"},{"result":{"nanos":553541,"millis":0.553541,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135210,"millis":0.13521,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.965 [print] #notpresent \n"},{"result":{"nanos":95308,"millis":0.095308,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":238318,"millis":0.238318,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.965 [print] #notpresent \n"},{"result":{"nanos":606944,"millis":0.606944,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":147711,"millis":0.147711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.966 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":252118,"millis":0.252118,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.966 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":597444,"millis":0.597444,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460434,"millis":0.460434,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377628,"millis":0.377628,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.150406,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c1fb5983-5642-4334-962a-a341cef8c8ff","startTime":1631163629425,"refId":"[1.221:67]","endTime":1631163629968,"exampleData":{"datasetIdentifierCode":"c1fb5983-5642-4334-962a-a341cef8c8ff"},"exampleIndex":220},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16901,"millis":0.016901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.557 karate.env system property was: null \n"},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48303,"millis":0.048303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52104,"millis":0.052104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286922,"millis":0.286922,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410630,"millis":0.41063,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30602,"millis":0.030602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50003,"millis":0.050003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18401,"millis":0.018401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43603,"millis":0.043603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515102110,"millis":515.10211,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2201,"millis":0.002201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":645448,"millis":0.645448,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":497137,"millis":0.497137,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376828,"millis":0.376828,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397030,"millis":0.39703,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436732,"millis":0.436732,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":489936,"millis":0.489936,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85406,"millis":0.085406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":347125,"millis":0.347125,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":364027,"millis":0.364027,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":364827,"millis":0.364827,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":135410,"millis":0.13541,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1287095,"millis":1.287095,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.079 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":518138,"millis":0.518138,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157612,"millis":0.157612,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.080 [print] INSPIRE Atom \n"},{"result":{"nanos":723953,"millis":0.723953,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143811,"millis":0.143811,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.081 [print] #notpresent \n"},{"result":{"nanos":404330,"millis":0.40433,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114109,"millis":0.114109,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.081 [print] INSPIRE Atom \n"},{"result":{"nanos":676550,"millis":0.67655,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148011,"millis":0.148011,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.082 [print] Beheer PDOK \n"},{"result":{"nanos":334124,"millis":0.334124,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.082 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":778558,"millis":0.778558,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548640,"millis":0.54864,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353526,"millis":0.353526,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.501751,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"deaf8380-ad45-48d2-8c3e-81164471bafb","startTime":1631163629557,"refId":"[1.222:67]","endTime":1631163630084,"exampleData":{"datasetIdentifierCode":"deaf8380-ad45-48d2-8c3e-81164471bafb"},"exampleIndex":221},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48203,"millis":0.048203,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.619 karate.env system property was: null \n"},{"result":{"nanos":38503,"millis":0.038503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":168213,"millis":0.168213,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114808,"millis":0.114808,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314423,"millis":0.314423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117009,"millis":0.117009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423832,"millis":0.423832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":94207,"millis":0.094207,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":184114,"millis":0.184114,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52104,"millis":0.052104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515374331,"millis":515.374331,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":384328,"millis":0.384328,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":381028,"millis":0.381028,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":338225,"millis":0.338225,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":336124,"millis":0.336124,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":382028,"millis":0.382028,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":399530,"millis":0.39953,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348625,"millis":0.348625,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346026,"millis":0.346026,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314923,"millis":0.314923,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":260219,"millis":0.260219,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":289122,"millis":0.289122,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.140 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":343825,"millis":0.343825,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":214016,"millis":0.214016,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.141 [print] OGC:WMS \n"},{"result":{"nanos":341825,"millis":0.341825,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":221816,"millis":0.221816,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.142 [print] #notpresent \n"},{"result":{"nanos":37203,"millis":0.037203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104508,"millis":0.104508,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.142 [print] OGC:WMS \n"},{"result":{"nanos":389629,"millis":0.389629,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":724354,"millis":0.724354,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.142 [print] Beheer PDOK \n"},{"result":{"nanos":184914,"millis":0.184914,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.143 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":426031,"millis":0.426031,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":462834,"millis":0.462834,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":309423,"millis":0.309423,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.605213,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3ac5737f-55ed-455d-8350-44af11b67fc3","startTime":1631163629619,"refId":"[1.223:67]","endTime":1631163630144,"exampleData":{"datasetIdentifierCode":"3ac5737f-55ed-455d-8350-44af11b67fc3"},"exampleIndex":222},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68005,"millis":0.068005,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.724 karate.env system property was: null \n"},{"result":{"nanos":46003,"millis":0.046003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130110,"millis":0.13011,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120409,"millis":0.120409,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337325,"millis":0.337325,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159512,"millis":0.159512,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393229,"millis":0.393229,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":108808,"millis":0.108808,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":226717,"millis":0.226717,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50703,"millis":0.050703,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29002,"millis":0.029002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518754402,"millis":518.754402,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1801,"millis":0.001801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":492637,"millis":0.492637,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":385229,"millis":0.385229,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":330225,"millis":0.330225,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":409230,"millis":0.40923,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":461935,"millis":0.461935,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":414430,"millis":0.41443,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26202,"millis":0.026202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320724,"millis":0.320724,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":357226,"millis":0.357226,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":289922,"millis":0.289922,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":355727,"millis":0.355727,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":429332,"millis":0.429332,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.250 [print] #notpresent \n"},{"result":{"nanos":376128,"millis":0.376128,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":301322,"millis":0.301322,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.251 [print] #notpresent \n"},{"result":{"nanos":359027,"millis":0.359027,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":318223,"millis":0.318223,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.252 [print] #notpresent \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":217516,"millis":0.217516,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.252 [print] #notpresent \n"},{"result":{"nanos":434632,"millis":0.434632,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":257920,"millis":0.25792,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.253 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":178613,"millis":0.178613,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.253 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":382028,"millis":0.382028,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":541340,"millis":0.54134,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354127,"millis":0.354127,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.523329,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","startTime":1631163629724,"refId":"[1.224:67]","endTime":1631163630254,"exampleData":{"datasetIdentifierCode":"364c5d7a-d6ec-11ea-87d0-0242ac130003"},"exampleIndex":223},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48503,"millis":0.048503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.970 karate.env system property was: null \n"},{"result":{"nanos":39303,"millis":0.039303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126510,"millis":0.12651,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137410,"millis":0.13741,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":299622,"millis":0.299622,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113309,"millis":0.113309,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428932,"millis":0.428932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90906,"millis":0.090906,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150811,"millis":0.150811,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":195214,"millis":0.195214,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531013086,"millis":531.013086,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":770257,"millis":0.770257,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":688051,"millis":0.688051,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":718553,"millis":0.718553,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":625646,"millis":0.625646,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748355,"millis":0.748355,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":703953,"millis":0.703953,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":58405,"millis":0.058405,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":517338,"millis":0.517338,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":490536,"millis":0.490536,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":486336,"millis":0.486336,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118009,"millis":0.118009,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1077980,"millis":1.07798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.510 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":372527,"millis":0.372527,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":479236,"millis":0.479236,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.511 [print] INSPIRE Atom \n"},{"result":{"nanos":330324,"millis":0.330324,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121109,"millis":0.121109,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.512 [print] #notpresent \n"},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57104,"millis":0.057104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.512 [print] INSPIRE Atom \n"},{"result":{"nanos":351926,"millis":0.351926,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69605,"millis":0.069605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.513 [print] Beheer PDOK \n"},{"result":{"nanos":790958,"millis":0.790958,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.514 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":353927,"millis":0.353927,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":517439,"millis":0.517439,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359326,"millis":0.359326,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.589916,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","startTime":1631163629970,"refId":"[1.225:67]","endTime":1631163630515,"exampleData":{"datasetIdentifierCode":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638"},"exampleIndex":224},{"sectionIndex":0,"stepResults":[{"result":{"nanos":251119,"millis":0.251119,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.086 karate.env system property was: null \n"},{"result":{"nanos":1347099,"millis":1.347099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":160112,"millis":0.160112,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":130410,"millis":0.13041,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":310123,"millis":0.310123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119309,"millis":0.119309,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429731,"millis":0.429731,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92007,"millis":0.092007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":288621,"millis":0.288621,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31803,"millis":0.031803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":507736898,"millis":507.736898,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":626047,"millis":0.626047,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":565342,"millis":0.565342,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364927,"millis":0.364927,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":338925,"millis":0.338925,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":407230,"millis":0.40723,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":340425,"millis":0.340425,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24101,"millis":0.024101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":270220,"millis":0.27022,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":278120,"millis":0.27812,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286921,"millis":0.286921,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73305,"millis":0.073305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164512,"millis":0.164512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.603 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":350126,"millis":0.350126,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74406,"millis":0.074406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.604 [print] OGC:WMS \n"},{"result":{"nanos":633647,"millis":0.633647,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70906,"millis":0.070906,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.605 [print] #notpresent \n"},{"result":{"nanos":351826,"millis":0.351826,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59505,"millis":0.059505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.605 [print] OGC:WMS \n"},{"result":{"nanos":700652,"millis":0.700652,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72205,"millis":0.072205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.606 [print] Beheer PDOK \n"},{"result":{"nanos":37303,"millis":0.037303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.606 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":354626,"millis":0.354626,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":578143,"millis":0.578143,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376528,"millis":0.376528,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.418288,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f57bdee7-4027-4aa2-8312-4051b854be3c","startTime":1631163630086,"refId":"[1.226:67]","endTime":1631163630608,"exampleData":{"datasetIdentifierCode":"f57bdee7-4027-4aa2-8312-4051b854be3c"},"exampleIndex":225},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.146 karate.env system property was: null \n"},{"result":{"nanos":30702,"millis":0.030702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44703,"millis":0.044703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227816,"millis":0.227816,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382628,"millis":0.382628,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31302,"millis":0.031302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":202415,"millis":0.202415,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19202,"millis":0.019202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4001,"millis":0.004001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522144683,"millis":522.144683,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":758956,"millis":0.758956,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":810560,"millis":0.81056,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":472035,"millis":0.472035,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":399730,"millis":0.39973,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":478835,"millis":0.478835,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446433,"millis":0.446433,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325324,"millis":0.325324,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":328824,"millis":0.328824,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":330424,"millis":0.330424,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70905,"millis":0.070905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103408,"millis":0.103408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.675 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":886966,"millis":0.886966,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86306,"millis":0.086306,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.676 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":672450,"millis":0.67245,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72305,"millis":0.072305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.676 [print] #notpresent \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":311923,"millis":0.311923,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.677 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":732855,"millis":0.732855,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72805,"millis":0.072805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.678 [print] Beheer PDOK \n"},{"result":{"nanos":29103,"millis":0.029103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.678 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":545241,"millis":0.545241,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554741,"millis":0.554741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":454634,"millis":0.454634,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.265931,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","startTime":1631163630146,"refId":"[1.227:67]","endTime":1631163630680,"exampleData":{"datasetIdentifierCode":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184"},"exampleIndex":226},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42603,"millis":0.042603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.256 karate.env system property was: null \n"},{"result":{"nanos":28202,"millis":0.028202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46704,"millis":0.046704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271720,"millis":0.27172,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38703,"millis":0.038703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352126,"millis":0.352126,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28902,"millis":0.028902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49303,"millis":0.049303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":70905,"millis":0.070905,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":104107,"millis":0.104107,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511324490,"millis":511.32449,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":494636,"millis":0.494636,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":528039,"millis":0.528039,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463035,"millis":0.463035,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":454333,"millis":0.454333,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551741,"millis":0.551741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":509238,"millis":0.509238,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":337425,"millis":0.337425,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":310323,"millis":0.310323,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378928,"millis":0.378928,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81906,"millis":0.081906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86306,"millis":0.086306,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.774 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n"},{"result":{"nanos":355526,"millis":0.355526,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123909,"millis":0.123909,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.774 [print] OGC:WFS \n"},{"result":{"nanos":365927,"millis":0.365927,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.775 [print] #notpresent \n"},{"result":{"nanos":34902,"millis":0.034902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.775 [print] OGC:WFS \n"},{"result":{"nanos":449533,"millis":0.449533,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68805,"millis":0.068805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.775 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":69806,"millis":0.069806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.775 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":495837,"millis":0.495837,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":566042,"millis":0.566042,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":419531,"millis":0.419531,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.805113,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"702060c1-b3fd-44ec-8cc6-d4249d150110","startTime":1631163630256,"refId":"[1.228:67]","endTime":1631163630777,"exampleData":{"datasetIdentifierCode":"702060c1-b3fd-44ec-8cc6-d4249d150110"},"exampleIndex":227},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19202,"millis":0.019202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.519 karate.env system property was: null \n"},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46004,"millis":0.046004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240818,"millis":0.240818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37303,"millis":0.037303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411630,"millis":0.41163,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53904,"millis":0.053904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":344525,"millis":0.344525,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539832102,"millis":539.832102,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":731554,"millis":0.731554,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":659349,"millis":0.659349,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":607745,"millis":0.607745,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":591844,"millis":0.591844,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8012094,"millis":8.012094,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":851463,"millis":0.851463,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99208,"millis":0.099208,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1180187,"millis":1.180187,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":7081825,"millis":7.081825,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":609745,"millis":0.609745,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":736654,"millis":0.736654,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":254119,"millis":0.254119,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.082 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1045578,"millis":1.045578,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":223416,"millis":0.223416,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.083 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":922069,"millis":0.922069,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193014,"millis":0.193014,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.084 [print] #notpresent \n"},{"result":{"nanos":409630,"millis":0.40963,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155612,"millis":0.155612,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.085 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":897066,"millis":0.897066,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177313,"millis":0.177313,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.086 [print] Beheer PDOK \n"},{"result":{"nanos":454233,"millis":0.454233,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.087 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":631847,"millis":0.631847,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":442532,"millis":0.442532,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354227,"millis":0.354227,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.479123,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","startTime":1631163630518,"refId":"[1.229:67]","endTime":1631163631089,"exampleData":{"datasetIdentifierCode":"018a28a5-1019-4747-b031-f66ffc1c6ae7"},"exampleIndex":228},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16402,"millis":0.016402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.610 karate.env system property was: null \n"},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63605,"millis":0.063605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":265420,"millis":0.26542,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43003,"millis":0.043003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":733154,"millis":0.733154,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41603,"millis":0.041603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":110608,"millis":0.110608,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514209304,"millis":514.209304,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":670950,"millis":0.67095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":568942,"millis":0.568942,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421831,"millis":0.421831,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404130,"millis":0.40413,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":580243,"millis":0.580243,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504337,"millis":0.504337,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85207,"millis":0.085207,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":393829,"millis":0.393829,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":417130,"millis":0.41713,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417731,"millis":0.417731,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":687051,"millis":0.687051,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":705053,"millis":0.705053,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.132 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n"},{"result":{"nanos":452533,"millis":0.452533,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":531040,"millis":0.53104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.133 [print] #notpresent \n"},{"result":{"nanos":466734,"millis":0.466734,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":466835,"millis":0.466835,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.134 [print] OGC:SOS \n"},{"result":{"nanos":94807,"millis":0.094807,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":428332,"millis":0.428332,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.135 [print] #notpresent \n"},{"result":{"nanos":489336,"millis":0.489336,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":486236,"millis":0.486236,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.136 [print] RIVM \n"},{"result":{"nanos":2381476,"millis":2.381476,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.138 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n"},{"result":{"nanos":422231,"millis":0.422231,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":535540,"millis":0.53554,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":464635,"millis":0.464635,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.750481,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","startTime":1631163630610,"refId":"[1.230:67]","endTime":1631163631140,"exampleData":{"datasetIdentifierCode":"f39d198a-1e69-43cc-b359-cc60a8c22d28"},"exampleIndex":229},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.682 karate.env system property was: null \n"},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47303,"millis":0.047303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":292122,"millis":0.292122,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42603,"millis":0.042603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390629,"millis":0.390629,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49003,"millis":0.049003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":50804,"millis":0.050804,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18802,"millis":0.018802,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26002,"millis":0.026002,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47603,"millis":0.047603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510903659,"millis":510.903659,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":538339,"millis":0.538339,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":482535,"millis":0.482535,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":424832,"millis":0.424832,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404430,"millis":0.40443,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":758556,"millis":0.758556,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":581144,"millis":0.581144,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91406,"millis":0.091406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":441233,"millis":0.441233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409430,"millis":0.40943,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":436033,"millis":0.436033,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":656748,"millis":0.656748,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":712053,"millis":0.712053,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.201 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":455334,"millis":0.455334,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474135,"millis":0.474135,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.202 [print] #notpresent \n"},{"result":{"nanos":438532,"millis":0.438532,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":514338,"millis":0.514338,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.203 [print] #notpresent \n"},{"result":{"nanos":98608,"millis":0.098608,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":466535,"millis":0.466535,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.204 [print] #notpresent \n"},{"result":{"nanos":480035,"millis":0.480035,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":415831,"millis":0.415831,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.204 [print] KNMI \n"},{"result":{"nanos":559941,"millis":0.559941,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.205 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":401730,"millis":0.40173,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":418131,"millis":0.418131,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322824,"millis":0.322824,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.013654,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c6308500-3439-4840-88cb-7532cabbfcb4","startTime":1631163630682,"refId":"[1.231:67]","endTime":1631163631206,"exampleData":{"datasetIdentifierCode":"c6308500-3439-4840-88cb-7532cabbfcb4"},"exampleIndex":230},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.779 karate.env system property was: null \n"},{"result":{"nanos":36302,"millis":0.036302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45903,"millis":0.045903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":4785455,"millis":4.785455,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":387028,"millis":0.387028,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450934,"millis":0.450934,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54705,"millis":0.054705,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115009,"millis":0.115009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31302,"millis":0.031302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539803900,"millis":539.8039,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":985273,"millis":0.985273,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":764557,"millis":0.764557,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":758156,"millis":0.758156,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":758056,"millis":0.758056,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":966671,"millis":0.966671,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":806260,"millis":0.80626,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85407,"millis":0.085407,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":540240,"millis":0.54024,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":634047,"millis":0.634047,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":639947,"millis":0.639947,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152911,"millis":0.152911,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":158712,"millis":0.158712,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.333 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1204889,"millis":1.204889,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173013,"millis":0.173013,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.334 [print] #notpresent \n"},{"result":{"nanos":1006974,"millis":1.006974,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154012,"millis":0.154012,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.335 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":449834,"millis":0.449834,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":142010,"millis":0.14201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.336 [print] #notpresent \n"},{"result":{"nanos":1105182,"millis":1.105182,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144211,"millis":0.144211,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.337 [print] Beheer PDOK \n"},{"result":{"nanos":372828,"millis":0.372828,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.338 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":1336899,"millis":1.336899,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":471135,"millis":0.471135,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390529,"millis":0.390529,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.070802,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","startTime":1631163630779,"refId":"[1.232:67]","endTime":1631163631340,"exampleData":{"datasetIdentifierCode":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79"},"exampleIndex":231},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55504,"millis":0.055504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.091 karate.env system property was: null \n"},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123209,"millis":0.123209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112508,"millis":0.112508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":305223,"millis":0.305223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121609,"millis":0.121609,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459934,"millis":0.459934,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98407,"millis":0.098407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":543940,"millis":0.54394,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58204,"millis":0.058204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29402,"millis":0.029402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":46603,"millis":0.046603,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516895103,"millis":516.895103,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":726553,"millis":0.726553,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":700252,"millis":0.700252,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":620446,"millis":0.620446,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":612345,"millis":0.612345,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":571542,"millis":0.571542,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":334725,"millis":0.334725,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22402,"millis":0.022402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309823,"millis":0.309823,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":314624,"millis":0.314624,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342325,"millis":0.342325,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79606,"millis":0.079606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86707,"millis":0.086707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.616 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":339125,"millis":0.339125,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118008,"millis":0.118008,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.616 [print] INSPIRE Atom \n"},{"result":{"nanos":333825,"millis":0.333825,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.617 [print] #notpresent \n"},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72305,"millis":0.072305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.617 [print] INSPIRE Atom \n"},{"result":{"nanos":400329,"millis":0.400329,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66205,"millis":0.066205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.617 [print] Beheer PDOK \n"},{"result":{"nanos":66605,"millis":0.066605,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.617 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":380629,"millis":0.380629,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509738,"millis":0.509738,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372028,"millis":0.372028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.421506,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","startTime":1631163631090,"refId":"[1.233:67]","endTime":1631163631619,"exampleData":{"datasetIdentifierCode":"93c8762c-4cbb-42b0-9b02-89ef902e8880"},"exampleIndex":232},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51603,"millis":0.051603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.143 karate.env system property was: null \n"},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116109,"millis":0.116109,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108808,"millis":0.108808,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340125,"millis":0.340125,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113208,"millis":0.113208,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407630,"millis":0.40763,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":86606,"millis":0.086606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":465034,"millis":0.465034,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56704,"millis":0.056704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29103,"millis":0.029103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515808622,"millis":515.808622,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":532940,"millis":0.53294,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":549441,"millis":0.549441,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":529739,"millis":0.529739,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":507238,"millis":0.507238,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":608145,"millis":0.608145,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":559742,"millis":0.559742,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":423932,"millis":0.423932,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":418131,"millis":0.418131,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":358827,"millis":0.358827,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68605,"millis":0.068605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":76206,"millis":0.076206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.666 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":389229,"millis":0.389229,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120309,"millis":0.120309,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.666 [print] #notpresent \n"},{"result":{"nanos":376228,"millis":0.376228,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117209,"millis":0.117209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.667 [print] #notpresent \n"},{"result":{"nanos":33003,"millis":0.033003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47004,"millis":0.047004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.667 [print] #notpresent \n"},{"result":{"nanos":463634,"millis":0.463634,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90306,"millis":0.090306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.667 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.667 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":473935,"millis":0.473935,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475735,"millis":0.475735,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":382628,"millis":0.382628,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.360531,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"35546103-58eb-4f61-a858-a6fbc5a7e814","startTime":1631163631142,"refId":"[1.234:67]","endTime":1631163631669,"exampleData":{"datasetIdentifierCode":"35546103-58eb-4f61-a858-a6fbc5a7e814"},"exampleIndex":233},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50503,"millis":0.050503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.209 karate.env system property was: null \n"},{"result":{"nanos":42903,"millis":0.042903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116808,"millis":0.116808,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107908,"millis":0.107908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":290321,"millis":0.290321,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111008,"millis":0.111008,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401830,"millis":0.40183,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87206,"millis":0.087206,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":468034,"millis":0.468034,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":54104,"millis":0.054104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28702,"millis":0.028702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540092522,"millis":540.092522,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2083454,"millis":2.083454,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":2901715,"millis":2.901715,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1478309,"millis":1.478309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1260194,"millis":1.260194,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1263894,"millis":1.263894,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1565416,"millis":1.565416,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":795659,"millis":0.795659,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1050278,"millis":1.050278,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1142885,"millis":1.142885,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":159012,"millis":0.159012,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128009,"millis":0.128009,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.765 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1102682,"millis":1.102682,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83906,"millis":0.083906,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.766 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1025376,"millis":1.025376,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88206,"millis":0.088206,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.768 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":28702,"millis":0.028702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82506,"millis":0.082506,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.768 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1540114,"millis":1.540114,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.769 [print] Beheer PDOK \n"},{"result":{"nanos":113409,"millis":0.113409,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.769 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":1584117,"millis":1.584117,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":642047,"millis":0.642047,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":397330,"millis":0.39733,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":562.534182,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6c62e0a5-c215-4e47-94b0-a239e264417d","startTime":1631163631208,"refId":"[1.235:67]","endTime":1631163631772,"exampleData":{"datasetIdentifierCode":"6c62e0a5-c215-4e47-94b0-a239e264417d"},"exampleIndex":234},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61504,"millis":0.061504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.343 karate.env system property was: null \n"},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119809,"millis":0.119809,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":4650245,"millis":4.650245,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":335625,"millis":0.335625,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122009,"millis":0.122009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402730,"millis":0.40273,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109108,"millis":0.109108,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":499437,"millis":0.499437,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61205,"millis":0.061205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31603,"millis":0.031603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13101,"millis":0.013101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511695918,"millis":511.695918,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":479836,"millis":0.479836,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":470735,"millis":0.470735,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":361327,"millis":0.361327,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":317323,"millis":0.317323,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":376328,"millis":0.376328,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":435132,"millis":0.435132,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25202,"millis":0.025202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":311023,"millis":0.311023,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":366428,"millis":0.366428,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":504237,"millis":0.504237,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86206,"millis":0.086206,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":85506,"millis":0.085506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.865 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":893167,"millis":0.893167,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90106,"millis":0.090106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.866 [print] #notpresent \n"},{"result":{"nanos":682051,"millis":0.682051,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78706,"millis":0.078706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.867 [print] OGC:WFS \n"},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64805,"millis":0.064805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.868 [print] #notpresent \n"},{"result":{"nanos":694752,"millis":0.694752,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69405,"millis":0.069405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.868 [print] RIVM \n"},{"result":{"nanos":294922,"millis":0.294922,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.869 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":854563,"millis":0.854563,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":537340,"millis":0.53734,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349526,"millis":0.349526,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.045958,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"03c39474-aef9-4169-95da-9890af440b14","startTime":1631163631342,"refId":"[1.236:67]","endTime":1631163631870,"exampleData":{"datasetIdentifierCode":"03c39474-aef9-4169-95da-9890af440b14"},"exampleIndex":235},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16302,"millis":0.016302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.621 karate.env system property was: null \n"},{"result":{"nanos":32503,"millis":0.032503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47404,"millis":0.047404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237418,"millis":0.237418,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40703,"millis":0.040703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416631,"millis":0.416631,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55404,"millis":0.055404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49904,"millis":0.049904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523230572,"millis":523.230572,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2201,"millis":0.002201,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":711453,"millis":0.711453,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":728754,"millis":0.728754,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688551,"millis":0.688551,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":713753,"millis":0.713753,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":764057,"millis":0.764057,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":826961,"millis":0.826961,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49004,"millis":0.049004,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":551741,"millis":0.551741,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":539740,"millis":0.53974,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":528639,"millis":0.528639,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":106208,"millis":0.106208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1059378,"millis":1.059378,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.153 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":445533,"millis":0.445533,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.153 [print] OGC:WMS \n"},{"result":{"nanos":624946,"millis":0.624946,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.154 [print] #notpresent \n"},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":445733,"millis":0.445733,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.154 [print] OGC:WMS \n"},{"result":{"nanos":459734,"millis":0.459734,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71805,"millis":0.071805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.155 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":817261,"millis":0.817261,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.156 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":493436,"millis":0.493436,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":564742,"millis":0.564742,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362627,"millis":0.362627,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.025922,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","startTime":1631163631620,"refId":"[1.237:67]","endTime":1631163632157,"exampleData":{"datasetIdentifierCode":"f61eec5c-cb91-40b6-ad35-9bca967006cc"},"exampleIndex":236},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15902,"millis":0.015902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.671 karate.env system property was: null \n"},{"result":{"nanos":30103,"millis":0.030103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46304,"millis":0.046304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231017,"millis":0.231017,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443233,"millis":0.443233,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36603,"millis":0.036603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93506,"millis":0.093506,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518696336,"millis":518.696336,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":707853,"millis":0.707853,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":605744,"millis":0.605744,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":17442393,"millis":17.442393,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":555941,"millis":0.555941,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":680951,"millis":0.680951,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":649949,"millis":0.649949,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":210115,"millis":0.210115,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":481736,"millis":0.481736,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":496137,"millis":0.496137,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":543240,"millis":0.54324,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156312,"millis":0.156312,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":724754,"millis":0.724754,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.214 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":588644,"millis":0.588644,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":776858,"millis":0.776858,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.216 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":566542,"millis":0.566542,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":226917,"millis":0.226917,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.216 [print] #notpresent \n"},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131110,"millis":0.13111,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.217 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":542840,"millis":0.54284,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150811,"millis":0.150811,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.217 [print] Beheer PDOK \n"},{"result":{"nanos":150411,"millis":0.150411,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.218 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n"},{"result":{"nanos":519138,"millis":0.519138,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485536,"millis":0.485536,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":431432,"millis":0.431432,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.700887,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","startTime":1631163631670,"refId":"[1.238:67]","endTime":1631163632219,"exampleData":{"datasetIdentifierCode":"a301ddc7-c26f-42d8-b367-509ae5ae47d0"},"exampleIndex":237},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.774 karate.env system property was: null \n"},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45403,"millis":0.045403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220316,"millis":0.220316,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348326,"millis":0.348326,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29502,"millis":0.029502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49304,"millis":0.049304,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47903,"millis":0.047903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518721138,"millis":518.721138,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2001,"millis":0.002001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":734455,"millis":0.734455,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":615846,"millis":0.615846,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688651,"millis":0.688651,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":575843,"millis":0.575843,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":759657,"millis":0.759657,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":650848,"millis":0.650848,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83706,"millis":0.083706,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":486836,"millis":0.486836,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466535,"millis":0.466535,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":601444,"millis":0.601444,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155212,"millis":0.155212,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":384628,"millis":0.384628,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.300 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":533240,"millis":0.53324,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":283121,"millis":0.283121,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.301 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":531139,"millis":0.531139,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":269520,"millis":0.26952,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.302 [print] #notpresent \n"},{"result":{"nanos":89606,"millis":0.089606,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":206215,"millis":0.206215,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.302 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":570842,"millis":0.570842,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":253919,"millis":0.253919,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.303 [print] Beheer PDOK \n"},{"result":{"nanos":220316,"millis":0.220316,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.303 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":564242,"millis":0.564242,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":459034,"millis":0.459034,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339325,"millis":0.339325,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.172487,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","startTime":1631163631774,"refId":"[1.239:67]","endTime":1631163632305,"exampleData":{"datasetIdentifierCode":"25a99d92-ea8a-4163-82ab-3521c9b0c96b"},"exampleIndex":238},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.873 karate.env system property was: null \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46004,"millis":0.046004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":272120,"millis":0.27212,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41603,"millis":0.041603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400930,"millis":0.40093,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75705,"millis":0.075705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":3732477,"millis":3.732477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518733039,"millis":518.733039,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":700652,"millis":0.700652,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":632446,"millis":0.632446,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":536240,"millis":0.53624,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":506338,"millis":0.506338,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":762857,"millis":0.762857,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":612645,"millis":0.612645,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":76806,"millis":0.076806,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369127,"millis":0.369127,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":464934,"millis":0.464934,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":513238,"millis":0.513238,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":176813,"millis":0.176813,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":350126,"millis":0.350126,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.402 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":536140,"millis":0.53614,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":439232,"millis":0.439232,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.403 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":442733,"millis":0.442733,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128109,"millis":0.128109,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.404 [print] #notpresent \n"},{"result":{"nanos":219616,"millis":0.219616,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":249018,"millis":0.249018,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.404 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":531539,"millis":0.531539,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145411,"millis":0.145411,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.405 [print] Beheer PDOK \n"},{"result":{"nanos":297622,"millis":0.297622,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.405 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":562041,"millis":0.562041,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":490837,"millis":0.490837,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":351026,"millis":0.351026,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.591139,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7a914681-61bd-4f67-902b-45037a00c469","startTime":1631163631872,"refId":"[1.240:67]","endTime":1631163632407,"exampleData":{"datasetIdentifierCode":"7a914681-61bd-4f67-902b-45037a00c469"},"exampleIndex":239},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.159 karate.env system property was: null \n"},{"result":{"nanos":28902,"millis":0.028902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74405,"millis":0.074405,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51704,"millis":0.051704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":575643,"millis":0.575643,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46203,"millis":0.046203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398329,"millis":0.398329,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32403,"millis":0.032403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517809371,"millis":517.809371,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":651949,"millis":0.651949,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":594944,"millis":0.594944,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":449833,"millis":0.449833,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":430832,"millis":0.430832,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":662549,"millis":0.662549,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":603245,"millis":0.603245,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87706,"millis":0.087706,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432732,"millis":0.432732,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":418031,"millis":0.418031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":444833,"millis":0.444833,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140611,"millis":0.140611,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139111,"millis":0.139111,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.684 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":418631,"millis":0.418631,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":184314,"millis":0.184314,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.685 [print] OGC:WMS \n"},{"result":{"nanos":429332,"millis":0.429332,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131609,"millis":0.131609,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.685 [print] #notpresent \n"},{"result":{"nanos":71506,"millis":0.071506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122309,"millis":0.122309,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.685 [print] OGC:WMS \n"},{"result":{"nanos":516938,"millis":0.516938,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133710,"millis":0.13371,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.686 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":139710,"millis":0.13971,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.686 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":464834,"millis":0.464834,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":409530,"millis":0.40953,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294122,"millis":0.294122,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.566494,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","startTime":1631163632159,"refId":"[1.241:67]","endTime":1631163632687,"exampleData":{"datasetIdentifierCode":"f0eb64f9-8888-42e1-9550-bf91c32da4bc"},"exampleIndex":240},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51403,"millis":0.051403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.222 karate.env system property was: null \n"},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161812,"millis":0.161812,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":129209,"millis":0.129209,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":296722,"millis":0.296722,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140810,"millis":0.14081,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412831,"millis":0.412831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76606,"millis":0.076606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123809,"millis":0.123809,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35603,"millis":0.035603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25402,"millis":0.025402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522013382,"millis":522.013382,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":723754,"millis":0.723754,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":1108582,"millis":1.108582,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":782858,"millis":0.782858,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":730554,"millis":0.730554,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":843162,"millis":0.843162,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":475435,"millis":0.475435,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1814634,"millis":1.814634,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":414131,"millis":0.414131,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381529,"millis":0.381529,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94507,"millis":0.094507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":699852,"millis":0.699852,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.755 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":513238,"millis":0.513238,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.756 [print] OGC:WFS \n"},{"result":{"nanos":393729,"millis":0.393729,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":439533,"millis":0.439533,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.757 [print] INSPIRE Atom \n"},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":385429,"millis":0.385429,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.757 [print] OGC:WFS \n"},{"result":{"nanos":486236,"millis":0.486236,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":466634,"millis":0.466634,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.758 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":646748,"millis":0.646748,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.759 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":451133,"millis":0.451133,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532740,"millis":0.53274,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333325,"millis":0.333325,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.849479,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"46873d16-6835-48c4-b47f-134ab0cb31fa","startTime":1631163632221,"refId":"[1.242:67]","endTime":1631163632760,"exampleData":{"datasetIdentifierCode":"46873d16-6835-48c4-b47f-134ab0cb31fa"},"exampleIndex":241},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49404,"millis":0.049404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.308 karate.env system property was: null \n"},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115809,"millis":0.115809,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":106608,"millis":0.106608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309623,"millis":0.309623,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109408,"millis":0.109408,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400630,"millis":0.40063,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85007,"millis":0.085007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":257920,"millis":0.25792,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50804,"millis":0.050804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12701,"millis":0.012701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513753870,"millis":513.75387,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":785558,"millis":0.785558,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":865264,"millis":0.865264,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814860,"millis":0.81486,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":783058,"millis":0.783058,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":926069,"millis":0.926069,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":851063,"millis":0.851063,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56905,"millis":0.056905,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":611045,"millis":0.611045,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":595644,"millis":0.595644,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":605845,"millis":0.605845,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118609,"millis":0.118609,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":417231,"millis":0.417231,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.831 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":467935,"millis":0.467935,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79206,"millis":0.079206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.832 [print] OGC:WMS \n"},{"result":{"nanos":472135,"millis":0.472135,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71606,"millis":0.071606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.832 [print] #notpresent \n"},{"result":{"nanos":95507,"millis":0.095507,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81006,"millis":0.081006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.833 [print] OGC:WMS \n"},{"result":{"nanos":535839,"millis":0.535839,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88507,"millis":0.088507,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.833 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":136910,"millis":0.13691,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.833 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":549541,"millis":0.549541,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554541,"millis":0.554541,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":369027,"millis":0.369027,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.310103,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a6098c24-4caf-4528-954c-672b9ec6cf78","startTime":1631163632307,"refId":"[1.243:67]","endTime":1631163632835,"exampleData":{"datasetIdentifierCode":"a6098c24-4caf-4528-954c-672b9ec6cf78"},"exampleIndex":242},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.409 karate.env system property was: null \n"},{"result":{"nanos":41903,"millis":0.041903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119909,"millis":0.119909,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107208,"millis":0.107208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330225,"millis":0.330225,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115208,"millis":0.115208,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419131,"millis":0.419131,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84106,"millis":0.084106,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104007,"millis":0.104007,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33903,"millis":0.033903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525380631,"millis":525.380631,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":828762,"millis":0.828762,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":925768,"millis":0.925768,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":858964,"millis":0.858964,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":891766,"millis":0.891766,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":939670,"millis":0.93967,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":928369,"millis":0.928369,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":60504,"millis":0.060504,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":632846,"millis":0.632846,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":628847,"millis":0.628847,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":677950,"millis":0.67795,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110209,"millis":0.110209,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":80506,"millis":0.080506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.944 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":1309297,"millis":1.309297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134410,"millis":0.13441,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.946 [print] OGC:WFS \n"},{"result":{"nanos":438232,"millis":0.438232,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97107,"millis":0.097107,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.946 [print] #notpresent \n"},{"result":{"nanos":34502,"millis":0.034502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.946 [print] OGC:WFS \n"},{"result":{"nanos":521139,"millis":0.521139,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89407,"millis":0.089407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.947 [print] Beheer PDOK \n"},{"result":{"nanos":36203,"millis":0.036203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.947 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":465434,"millis":0.465434,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":937969,"millis":0.937969,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":422531,"millis":0.422531,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.965835,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","startTime":1631163632409,"refId":"[1.244:67]","endTime":1631163632949,"exampleData":{"datasetIdentifierCode":"63f622ef-46b3-411a-a2aa-045cabf1e3ac"},"exampleIndex":243},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.690 karate.env system property was: null \n"},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114208,"millis":0.114208,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99707,"millis":0.099707,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311523,"millis":0.311523,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112308,"millis":0.112308,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435932,"millis":0.435932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85306,"millis":0.085306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104008,"millis":0.104008,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12401,"millis":0.012401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528947896,"millis":528.947896,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":621446,"millis":0.621446,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":617146,"millis":0.617146,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":592644,"millis":0.592644,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":552441,"millis":0.552441,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":655048,"millis":0.655048,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":613045,"millis":0.613045,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37003,"millis":0.037003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":427332,"millis":0.427332,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":433232,"millis":0.433232,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":446534,"millis":0.446534,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77505,"millis":0.077505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":769357,"millis":0.769357,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.226 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":481435,"millis":0.481435,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":560742,"millis":0.560742,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.228 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":485536,"millis":0.485536,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115008,"millis":0.115008,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.228 [print] #notpresent \n"},{"result":{"nanos":298722,"millis":0.298722,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63104,"millis":0.063104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.229 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":782758,"millis":0.782758,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74005,"millis":0.074005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.229 [print] Beheer PDOK \n"},{"result":{"nanos":330024,"millis":0.330024,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.230 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":1260193,"millis":1.260193,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":740154,"millis":0.740154,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":398129,"millis":0.398129,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.872848,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","startTime":1631163632689,"refId":"[1.245:67]","endTime":1631163633232,"exampleData":{"datasetIdentifierCode":"ce4ac3b9-8291-498d-95de-79fe7b6f5259"},"exampleIndex":244},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.762 karate.env system property was: null \n"},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47604,"millis":0.047604,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66005,"millis":0.066005,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240918,"millis":0.240918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39403,"millis":0.039403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427031,"millis":0.427031,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33803,"millis":0.033803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":7307342,"millis":7.307342,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3801,"millis":0.003801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533525435,"millis":533.525435,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":569743,"millis":0.569743,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":556041,"millis":0.556041,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":528739,"millis":0.528739,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":536740,"millis":0.53674,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":552141,"millis":0.552141,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":371128,"millis":0.371128,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21702,"millis":0.021702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":245118,"millis":0.245118,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":257019,"millis":0.257019,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":264720,"millis":0.26472,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59904,"millis":0.059904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":108208,"millis":0.108208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.310 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":360426,"millis":0.360426,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117509,"millis":0.117509,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.310 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":367027,"millis":0.367027,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84306,"millis":0.084306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.311 [print] #notpresent \n"},{"result":{"nanos":32602,"millis":0.032602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94807,"millis":0.094807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.311 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136610,"millis":0.13661,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.311 [print] Beheer PDOK \n"},{"result":{"nanos":239018,"millis":0.239018,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.312 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":2615794,"millis":2.615794,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":652449,"millis":0.652449,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433432,"millis":0.433432,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.467264,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","startTime":1631163632762,"refId":"[1.246:67]","endTime":1631163633316,"exampleData":{"datasetIdentifierCode":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1"},"exampleIndex":245},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.837 karate.env system property was: null \n"},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47804,"millis":0.047804,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54704,"millis":0.054704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":239218,"millis":0.239218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412030,"millis":0.41203,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":82907,"millis":0.082907,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515013764,"millis":515.013764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":806460,"millis":0.80646,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":890165,"millis":0.890165,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":876465,"millis":0.876465,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":836862,"millis":0.836862,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":903267,"millis":0.903267,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":596544,"millis":0.596544,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":360426,"millis":0.360426,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":371828,"millis":0.371828,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":424931,"millis":0.424931,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67705,"millis":0.067705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121809,"millis":0.121809,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.360 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":377728,"millis":0.377728,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107608,"millis":0.107608,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.361 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":18320258,"millis":18.320258,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":253318,"millis":0.253318,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.379 [print] #notpresent \n"},{"result":{"nanos":92207,"millis":0.092207,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96107,"millis":0.096107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.379 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":523638,"millis":0.523638,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140211,"millis":0.140211,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.380 [print] Beheer PDOK \n"},{"result":{"nanos":97007,"millis":0.097007,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.380 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":472235,"millis":0.472235,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":449433,"millis":0.449433,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317724,"millis":0.317724,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.660286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d467c2cc-4026-b80a-d4e1a9d2bf79","startTime":1631163632837,"refId":"[1.247:67]","endTime":1631163633381,"exampleData":{"datasetIdentifierCode":"d467c2cc-4026-b80a-d4e1a9d2bf79"},"exampleIndex":246},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16901,"millis":0.016901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.951 karate.env system property was: null \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49903,"millis":0.049903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217316,"millis":0.217316,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37502,"millis":0.037502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":334525,"millis":0.334525,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28002,"millis":0.028002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79305,"millis":0.079305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523067961,"millis":523.067961,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":887765,"millis":0.887765,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":823261,"millis":0.823261,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":725754,"millis":0.725754,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":712452,"millis":0.712452,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":597545,"millis":0.597545,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":540540,"millis":0.54054,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84906,"millis":0.084906,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":394429,"millis":0.394429,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":433732,"millis":0.433732,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":363127,"millis":0.363127,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":407330,"millis":0.40733,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.484 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":292622,"millis":0.292622,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.485 [print] #notpresent \n"},{"result":{"nanos":395729,"millis":0.395729,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":267920,"millis":0.26792,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.486 [print] #notpresent \n"},{"result":{"nanos":90506,"millis":0.090506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":200415,"millis":0.200415,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.486 [print] #notpresent \n"},{"result":{"nanos":502237,"millis":0.502237,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":249118,"millis":0.249118,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.487 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":222317,"millis":0.222317,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.487 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":488436,"millis":0.488436,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":473935,"millis":0.473935,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":442233,"millis":0.442233,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.479901,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","startTime":1631163632951,"refId":"[1.248:67]","endTime":1631163633489,"exampleData":{"datasetIdentifierCode":"7d641d0e-c04b-4191-833e-c578ac2abe5f"},"exampleIndex":247},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.234 karate.env system property was: null \n"},{"result":{"nanos":32202,"millis":0.032202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48903,"millis":0.048903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53804,"millis":0.053804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":239918,"millis":0.239918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430231,"millis":0.430231,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52804,"millis":0.052804,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22901,"millis":0.022901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51104,"millis":0.051104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508702296,"millis":508.702296,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1004375,"millis":1.004375,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":606645,"millis":0.606645,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":494036,"millis":0.494036,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":435633,"millis":0.435633,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":750356,"millis":0.750356,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":625046,"millis":0.625046,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104208,"millis":0.104208,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":474335,"millis":0.474335,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":505538,"millis":0.505538,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":558441,"millis":0.558441,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138710,"millis":0.13871,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163812,"millis":0.163812,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.751 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":862864,"millis":0.862864,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":162212,"millis":0.162212,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.752 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":507938,"millis":0.507938,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139510,"millis":0.13951,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.752 [print] #notpresent \n"},{"result":{"nanos":182413,"millis":0.182413,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":102507,"millis":0.102507,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.753 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":652449,"millis":0.652449,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136911,"millis":0.136911,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.753 [print] Beheer PDOK \n"},{"result":{"nanos":417331,"millis":0.417331,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.754 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":535440,"millis":0.53544,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":499337,"millis":0.499337,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352526,"millis":0.352526,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.192545,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"918388cf-9d8c-4264-b108-3e375bde0d52","startTime":1631163633234,"refId":"[1.249:67]","endTime":1631163633755,"exampleData":{"datasetIdentifierCode":"918388cf-9d8c-4264-b108-3e375bde0d52"},"exampleIndex":248},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17102,"millis":0.017102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.318 karate.env system property was: null \n"},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48003,"millis":0.048003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54404,"millis":0.054404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242218,"millis":0.242218,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419831,"millis":0.419831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94007,"millis":0.094007,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19702,"millis":0.019702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51504,"millis":0.051504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":588838934,"millis":588.838934,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":705753,"millis":0.705753,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":674950,"millis":0.67495,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":627146,"millis":0.627146,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":607645,"millis":0.607645,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":721654,"millis":0.721654,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":866365,"millis":0.866365,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91907,"millis":0.091907,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":608946,"millis":0.608946,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":576542,"millis":0.576542,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":618045,"millis":0.618045,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154812,"millis":0.154812,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":172912,"millis":0.172912,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.915 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":547841,"millis":0.547841,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":190314,"millis":0.190314,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.915 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":471635,"millis":0.471635,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":170013,"millis":0.170013,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.916 [print] #notpresent \n"},{"result":{"nanos":79606,"millis":0.079606,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133210,"millis":0.13321,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.916 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":863564,"millis":0.863564,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":181513,"millis":0.181513,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.917 [print] Beheer PDOK \n"},{"result":{"nanos":160812,"millis":0.160812,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.917 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":643347,"millis":0.643347,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523039,"millis":0.523039,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":416431,"millis":0.416431,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":600.741219,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ceda1b88-32ac-40b2-a841-71eb041c9427","startTime":1631163633317,"refId":"[1.250:67]","endTime":1631163633919,"exampleData":{"datasetIdentifierCode":"ceda1b88-32ac-40b2-a841-71eb041c9427"},"exampleIndex":249},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56905,"millis":0.056905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.385 karate.env system property was: null \n"},{"result":{"nanos":45504,"millis":0.045504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123510,"millis":0.12351,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116209,"millis":0.116209,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315923,"millis":0.315923,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123409,"millis":0.123409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448333,"millis":0.448333,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92907,"millis":0.092907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":152812,"millis":0.152812,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59305,"millis":0.059305,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":349026,"millis":0.349026,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":49204,"millis":0.049204,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":599270807,"millis":599.270807,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":868264,"millis":0.868264,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":744655,"millis":0.744655,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":483536,"millis":0.483536,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443533,"millis":0.443533,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":692451,"millis":0.692451,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":589044,"millis":0.589044,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83506,"millis":0.083506,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432732,"millis":0.432732,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":436632,"millis":0.436632,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":430832,"millis":0.430832,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":179913,"millis":0.179913,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":321224,"millis":0.321224,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.993 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":468535,"millis":0.468535,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":241818,"millis":0.241818,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.994 [print] OGC:WMS \n"},{"result":{"nanos":414430,"millis":0.41443,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95907,"millis":0.095907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.994 [print] #notpresent \n"},{"result":{"nanos":34403,"millis":0.034403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":994674,"millis":0.994674,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.995 [print] OGC:WMS \n"},{"result":{"nanos":670550,"millis":0.67055,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97007,"millis":0.097007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.996 [print] Beheer PDOK \n"},{"result":{"nanos":85706,"millis":0.085706,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.996 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":659849,"millis":0.659849,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558942,"millis":0.558942,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":418331,"millis":0.418331,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":611.703132,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","startTime":1631163633384,"refId":"[1.251:67]","endTime":1631163633998,"exampleData":{"datasetIdentifierCode":"5b40b9b4-fcb2-4553-bcab-34824c43c992"},"exampleIndex":250},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74905,"millis":0.074905,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.491 karate.env system property was: null \n"},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133410,"millis":0.13341,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116508,"millis":0.116508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315123,"millis":0.315123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119909,"millis":0.119909,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429832,"millis":0.429832,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97408,"millis":0.097408,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":152611,"millis":0.152611,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":9701,"millis":0.009701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9801,"millis":0.009801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512346666,"millis":512.346666,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":373428,"millis":0.373428,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":380128,"millis":0.380128,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":368327,"millis":0.368327,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":329725,"millis":0.329725,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":414731,"millis":0.414731,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":420231,"millis":0.420231,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34003,"millis":0.034003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":514638,"millis":0.514638,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321924,"millis":0.321924,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309223,"millis":0.309223,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69705,"millis":0.069705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":920269,"millis":0.920269,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.010 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":349926,"millis":0.349926,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102308,"millis":0.102308,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.011 [print] OGC:WFS \n"},{"result":{"nanos":688351,"millis":0.688351,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193814,"millis":0.193814,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.011 [print] #notpresent \n"},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104708,"millis":0.104708,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.012 [print] OGC:WFS \n"},{"result":{"nanos":403630,"millis":0.40363,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122809,"millis":0.122809,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.012 [print] Beheer PDOK \n"},{"result":{"nanos":77006,"millis":0.077006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.012 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":369828,"millis":0.369828,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":477935,"millis":0.477935,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353226,"millis":0.353226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.69756,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","startTime":1631163633490,"refId":"[1.252:67]","endTime":1631163634014,"exampleData":{"datasetIdentifierCode":"b87a0095-2ad7-4dbb-81a1-fed060df79e1"},"exampleIndex":251},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54204,"millis":0.054204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.758 karate.env system property was: null \n"},{"result":{"nanos":54604,"millis":0.054604,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":117709,"millis":0.117709,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":106008,"millis":0.106008,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":303423,"millis":0.303423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139210,"millis":0.13921,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430932,"millis":0.430932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":121009,"millis":0.121009,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":162112,"millis":0.162112,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49204,"millis":0.049204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30203,"millis":0.030203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522211697,"millis":522.211697,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":505638,"millis":0.505638,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":461934,"millis":0.461934,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":425732,"millis":0.425732,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404330,"millis":0.40433,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":450533,"millis":0.450533,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465834,"millis":0.465834,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26102,"millis":0.026102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334325,"millis":0.334325,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":332524,"millis":0.332524,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335125,"millis":0.335125,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76806,"millis":0.076806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":92607,"millis":0.092607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.286 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":966471,"millis":0.966471,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96507,"millis":0.096507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.287 [print] #notpresent \n"},{"result":{"nanos":678550,"millis":0.67855,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84707,"millis":0.084707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.288 [print] OGC:WFS \n"},{"result":{"nanos":430332,"millis":0.430332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":77406,"millis":0.077406,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.289 [print] #notpresent \n"},{"result":{"nanos":740055,"millis":0.740055,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91707,"millis":0.091707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.289 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":79706,"millis":0.079706,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.290 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":932469,"millis":0.932469,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363127,"millis":0.363127,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.795184,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5471a93b-cf18-43f5-9ddb-71987857435d","startTime":1631163633757,"refId":"[1.253:67]","endTime":1631163634292,"exampleData":{"datasetIdentifierCode":"5471a93b-cf18-43f5-9ddb-71987857435d"},"exampleIndex":252},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48504,"millis":0.048504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.921 karate.env system property was: null \n"},{"result":{"nanos":41703,"millis":0.041703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120209,"millis":0.120209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94807,"millis":0.094807,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":413531,"millis":0.413531,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121009,"millis":0.121009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":510537,"millis":0.510537,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96907,"millis":0.096907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113609,"millis":0.113609,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48104,"millis":0.048104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29103,"millis":0.029103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35002,"millis":0.035002,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521378735,"millis":521.378735,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":653648,"millis":0.653648,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":592544,"millis":0.592544,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":437833,"millis":0.437833,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417131,"millis":0.417131,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":552141,"millis":0.552141,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":536940,"millis":0.53694,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390928,"millis":0.390928,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":378828,"millis":0.378828,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":412430,"millis":0.41243,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120809,"millis":0.120809,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.450 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n"},{"result":{"nanos":860664,"millis":0.860664,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":137110,"millis":0.13711,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.451 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":654548,"millis":0.654548,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115909,"millis":0.115909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.452 [print] #notpresent \n"},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":374827,"millis":0.374827,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.452 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":827662,"millis":0.827662,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95608,"millis":0.095608,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.453 [print] Beheer PDOK \n"},{"result":{"nanos":781158,"millis":0.781158,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.454 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":525439,"millis":0.525439,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":556641,"millis":0.556641,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392129,"millis":0.392129,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.063201,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3e65fa1b-9bb1-41bd-9760-76962751b839","startTime":1631163633921,"refId":"[1.254:67]","endTime":1631163634455,"exampleData":{"datasetIdentifierCode":"3e65fa1b-9bb1-41bd-9760-76962751b839"},"exampleIndex":253},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29403,"millis":0.029403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.000 karate.env system property was: null \n"},{"result":{"nanos":49704,"millis":0.049704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71805,"millis":0.071805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88807,"millis":0.088807,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350526,"millis":0.350526,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63805,"millis":0.063805,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":677450,"millis":0.67745,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53104,"millis":0.053104,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77706,"millis":0.077706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28002,"millis":0.028002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8101,"millis":0.008101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70405,"millis":0.070405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":7701,"millis":0.007701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520441665,"millis":520.441665,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":807060,"millis":0.80706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":780558,"millis":0.780558,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":710153,"millis":0.710153,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":549741,"millis":0.549741,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":473235,"millis":0.473235,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":449933,"millis":0.449933,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":332225,"millis":0.332225,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":328224,"millis":0.328224,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375728,"millis":0.375728,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172713,"millis":0.172713,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1038277,"millis":1.038277,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.529 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":375128,"millis":0.375128,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128409,"millis":0.128409,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.530 [print] #notpresent \n"},{"result":{"nanos":707753,"millis":0.707753,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":428132,"millis":0.428132,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.530 [print] #notpresent \n"},{"result":{"nanos":37803,"millis":0.037803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87607,"millis":0.087607,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.531 [print] #notpresent \n"},{"result":{"nanos":694752,"millis":0.694752,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118208,"millis":0.118208,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.532 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":403630,"millis":0.40363,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.532 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":911567,"millis":0.911567,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571043,"millis":0.571043,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350026,"millis":0.350026,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.914393,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","startTime":1631163634000,"refId":"[1.255:67]","endTime":1631163634534,"exampleData":{"datasetIdentifierCode":"ac3ee940-4f98-427c-a2d9-58696005d9c2"},"exampleIndex":254},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.016 karate.env system property was: null \n"},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44703,"millis":0.044703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":256319,"millis":0.256319,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40103,"millis":0.040103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397230,"millis":0.39723,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29603,"millis":0.029603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66505,"millis":0.066505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":71705,"millis":0.071705,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44403,"millis":0.044403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530049877,"millis":530.049877,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1701,"millis":0.001701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":374928,"millis":0.374928,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":438932,"millis":0.438932,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":398030,"millis":0.39803,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380828,"millis":0.380828,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":11162227,"millis":11.162227,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":534340,"millis":0.53434,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74406,"millis":0.074406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":361726,"millis":0.361726,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":363927,"millis":0.363927,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":385729,"millis":0.385729,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140710,"millis":0.14071,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118109,"millis":0.118109,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.562 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":112809,"millis":0.112809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.563 [print] INSPIRE Atom \n"},{"result":{"nanos":390028,"millis":0.390028,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120209,"millis":0.120209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.563 [print] #notpresent \n"},{"result":{"nanos":69105,"millis":0.069105,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.563 [print] INSPIRE Atom \n"},{"result":{"nanos":515138,"millis":0.515138,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":180113,"millis":0.180113,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.564 [print] Beheer PDOK \n"},{"result":{"nanos":131209,"millis":0.131209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.564 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":438732,"millis":0.438732,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":426232,"millis":0.426232,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":540740,"millis":0.54074,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.266,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","startTime":1631163634015,"refId":"[1.256:67]","endTime":1631163634566,"exampleData":{"datasetIdentifierCode":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507"},"exampleIndex":255},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.294 karate.env system property was: null \n"},{"result":{"nanos":32002,"millis":0.032002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48004,"millis":0.048004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":316524,"millis":0.316524,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":315423,"millis":0.315423,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29203,"millis":0.029203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":3901,"millis":0.003901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40703,"millis":0.040703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540011816,"millis":540.011816,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":760957,"millis":0.760957,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":636948,"millis":0.636948,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":560941,"millis":0.560941,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":537339,"millis":0.537339,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":833262,"millis":0.833262,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":757956,"millis":0.757956,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":141111,"millis":0.141111,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":539040,"millis":0.53904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":524539,"millis":0.524539,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":452334,"millis":0.452334,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183513,"millis":0.183513,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":206915,"millis":0.206915,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.841 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":488337,"millis":0.488337,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166412,"millis":0.166412,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.843 [print] OGC:WMS \n"},{"result":{"nanos":417931,"millis":0.417931,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":177313,"millis":0.177313,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.843 [print] #notpresent \n"},{"result":{"nanos":80506,"millis":0.080506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168113,"millis":0.168113,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.844 [print] OGC:WMS \n"},{"result":{"nanos":470935,"millis":0.470935,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":171113,"millis":0.171113,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.844 [print] Beheer PDOK \n"},{"result":{"nanos":144810,"millis":0.14481,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.844 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":487036,"millis":0.487036,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558942,"millis":0.558942,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":408030,"millis":0.40803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.86092,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3d759186-7cee-4218-aa44-165f3922fbbb","startTime":1631163634293,"refId":"[1.257:67]","endTime":1631163634846,"exampleData":{"datasetIdentifierCode":"3d759186-7cee-4218-aa44-165f3922fbbb"},"exampleIndex":256},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.457 karate.env system property was: null \n"},{"result":{"nanos":33002,"millis":0.033002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52304,"millis":0.052304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54904,"millis":0.054904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247718,"millis":0.247718,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40503,"millis":0.040503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409830,"millis":0.40983,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51603,"millis":0.051603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20102,"millis":0.020102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44203,"millis":0.044203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523995029,"millis":523.995029,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":614546,"millis":0.614546,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":516338,"millis":0.516338,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":479636,"millis":0.479636,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1059378,"millis":1.059378,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":619346,"millis":0.619346,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":581443,"millis":0.581443,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85206,"millis":0.085206,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":482236,"millis":0.482236,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435032,"millis":0.435032,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134510,"millis":0.13451,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":914468,"millis":0.914468,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.990 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":456934,"millis":0.456934,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150011,"millis":0.150011,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.990 [print] OGC:WMS \n"},{"result":{"nanos":759556,"millis":0.759556,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145411,"millis":0.145411,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.991 [print] #notpresent \n"},{"result":{"nanos":410130,"millis":0.41013,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129109,"millis":0.129109,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.992 [print] OGC:WMS \n"},{"result":{"nanos":738155,"millis":0.738155,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158612,"millis":0.158612,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.993 [print] Beheer PDOK \n"},{"result":{"nanos":400730,"millis":0.40073,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.993 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":1044278,"millis":1.044278,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":441033,"millis":0.441033,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362527,"millis":0.362527,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.57326,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","startTime":1631163634457,"refId":"[1.258:67]","endTime":1631163634995,"exampleData":{"datasetIdentifierCode":"ac3a9efe-2154-4a4c-aae3-ea269044945d"},"exampleIndex":257},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17401,"millis":0.017401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.536 karate.env system property was: null \n"},{"result":{"nanos":29502,"millis":0.029502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47303,"millis":0.047303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61705,"millis":0.061705,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":573943,"millis":0.573943,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396829,"millis":0.396829,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89206,"millis":0.089206,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":322024,"millis":0.322024,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47203,"millis":0.047203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526411708,"millis":526.411708,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":586044,"millis":0.586044,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":451833,"millis":0.451833,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389029,"millis":0.389029,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":357927,"millis":0.357927,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":425032,"millis":0.425032,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":486336,"millis":0.486336,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77306,"millis":0.077306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":394329,"millis":0.394329,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387429,"millis":0.387429,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370928,"millis":0.370928,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":144710,"millis":0.14471,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152911,"millis":0.152911,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.069 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":560542,"millis":0.560542,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":181213,"millis":0.181213,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.070 [print] OGC:WFS \n"},{"result":{"nanos":421531,"millis":0.421531,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":136610,"millis":0.13661,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.070 [print] #notpresent \n"},{"result":{"nanos":77606,"millis":0.077606,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":134610,"millis":0.13461,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.070 [print] OGC:WFS \n"},{"result":{"nanos":441033,"millis":0.441033,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139210,"millis":0.13921,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.071 [print] Beheer PDOK \n"},{"result":{"nanos":137610,"millis":0.13761,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.071 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":443933,"millis":0.443933,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475535,"millis":0.475535,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1012575,"millis":1.012575,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.507254,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","startTime":1631163634536,"refId":"[1.259:67]","endTime":1631163635073,"exampleData":{"datasetIdentifierCode":"03c48a93-1e31-4c69-92c6-9a7efecf67a9"},"exampleIndex":258},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48903,"millis":0.048903,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.568 karate.env system property was: null \n"},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111708,"millis":0.111708,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":272821,"millis":0.272821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103407,"millis":0.103407,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429232,"millis":0.429232,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85107,"millis":0.085107,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":140711,"millis":0.140711,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42704,"millis":0.042704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25502,"millis":0.025502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":9801,"millis":0.009801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530557215,"millis":530.557215,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":676351,"millis":0.676351,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":779858,"millis":0.779858,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":744355,"millis":0.744355,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":724154,"millis":0.724154,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":855864,"millis":0.855864,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":767956,"millis":0.767956,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45003,"millis":0.045003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2699500,"millis":2.6995,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394830,"millis":0.39483,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":135110,"millis":0.13511,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100808,"millis":0.100808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.109 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":376728,"millis":0.376728,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":146411,"millis":0.146411,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.109 [print] #notpresent \n"},{"result":{"nanos":373028,"millis":0.373028,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129609,"millis":0.129609,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.110 [print] INSPIRE Atom \n"},{"result":{"nanos":37702,"millis":0.037702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92407,"millis":0.092407,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.110 [print] #notpresent \n"},{"result":{"nanos":514638,"millis":0.514638,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131410,"millis":0.13141,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.111 [print] Beheer PDOK \n"},{"result":{"nanos":114308,"millis":0.114308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.111 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":452734,"millis":0.452734,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":547140,"millis":0.54714,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377928,"millis":0.377928,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.629286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","startTime":1631163634567,"refId":"[1.260:67]","endTime":1631163635112,"exampleData":{"datasetIdentifierCode":"c21c6bf5-8899-4b46-8986-0f65eca05ed0"},"exampleIndex":259},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67405,"millis":0.067405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.848 karate.env system property was: null \n"},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126109,"millis":0.126109,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108108,"millis":0.108108,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298123,"millis":0.298123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110808,"millis":0.110808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428332,"millis":0.428332,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97607,"millis":0.097607,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":105708,"millis":0.105708,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35603,"millis":0.035603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514761345,"millis":514.761345,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":744455,"millis":0.744455,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":692252,"millis":0.692252,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":645048,"millis":0.645048,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":671650,"millis":0.67165,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":736054,"millis":0.736054,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":519238,"millis":0.519238,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36703,"millis":0.036703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":319824,"millis":0.319824,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":336024,"millis":0.336024,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":354826,"millis":0.354826,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":207315,"millis":0.207315,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":148811,"millis":0.148811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.371 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":351726,"millis":0.351726,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163312,"millis":0.163312,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.371 [print] OGC:WMS \n"},{"result":{"nanos":373327,"millis":0.373327,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144711,"millis":0.144711,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.372 [print] #notpresent \n"},{"result":{"nanos":48103,"millis":0.048103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95807,"millis":0.095807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.372 [print] OGC:WMS \n"},{"result":{"nanos":420731,"millis":0.420731,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153811,"millis":0.153811,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.372 [print] Beheer PDOK \n"},{"result":{"nanos":93407,"millis":0.093407,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.373 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":412231,"millis":0.412231,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":550741,"millis":0.550741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":338025,"millis":0.338025,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.838189,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","startTime":1631163634848,"refId":"[1.261:67]","endTime":1631163635374,"exampleData":{"datasetIdentifierCode":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e"},"exampleIndex":260},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46804,"millis":0.046804,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.998 karate.env system property was: null \n"},{"result":{"nanos":39302,"millis":0.039302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109308,"millis":0.109308,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100207,"millis":0.100207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281520,"millis":0.28152,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102708,"millis":0.102708,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373328,"millis":0.373328,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79706,"millis":0.079706,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98608,"millis":0.098608,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33403,"millis":0.033403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51304,"millis":0.051304,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10301,"millis":0.010301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10001,"millis":0.010001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":305423,"millis":0.305423,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38203,"millis":0.038203,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509529957,"millis":509.529957,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1046978,"millis":1.046978,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":670849,"millis":0.670849,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":543041,"millis":0.543041,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":473235,"millis":0.473235,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":538540,"millis":0.53854,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490936,"millis":0.490936,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35402,"millis":0.035402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":354526,"millis":0.354526,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":343626,"millis":0.343626,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":364727,"millis":0.364727,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94007,"millis":0.094007,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88207,"millis":0.088207,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.515 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":568942,"millis":0.568942,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197214,"millis":0.197214,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.515 [print] #notpresent \n"},{"result":{"nanos":429032,"millis":0.429032,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78506,"millis":0.078506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.516 [print] #notpresent \n"},{"result":{"nanos":93507,"millis":0.093507,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126709,"millis":0.126709,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.516 [print] #notpresent \n"},{"result":{"nanos":457534,"millis":0.457534,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69805,"millis":0.069805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.517 [print] KNMI \n"},{"result":{"nanos":146911,"millis":0.146911,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.517 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":436833,"millis":0.436833,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485136,"millis":0.485136,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286021,"millis":0.286021,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.646108,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","startTime":1631163634997,"refId":"[1.262:67]","endTime":1631163635518,"exampleData":{"datasetIdentifierCode":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0"},"exampleIndex":261},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.077 karate.env system property was: null \n"},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122509,"millis":0.122509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109208,"millis":0.109208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311223,"millis":0.311223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108808,"millis":0.108808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398829,"millis":0.398829,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84906,"millis":0.084906,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109908,"millis":0.109908,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35602,"millis":0.035602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32603,"millis":0.032603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bf72cf8_'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509072123,"millis":509.072123,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":706852,"millis":0.706852,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bf72cf8_'"}},{"result":{"nanos":710552,"millis":0.710552,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":662349,"millis":0.662349,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":640447,"millis":0.640447,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":770357,"millis":0.770357,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462434,"millis":0.462434,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":337725,"millis":0.337725,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":314724,"millis":0.314724,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":321624,"millis":0.321624,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67305,"millis":0.067305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.593 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":324724,"millis":0.324724,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65705,"millis":0.065705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.594 [print] #notpresent \n"},{"result":{"nanos":529040,"millis":0.52904,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74105,"millis":0.074105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.594 [print] #notpresent \n"},{"result":{"nanos":33202,"millis":0.033202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":25302,"millis":0.025302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.594 [print] #notpresent \n"},{"result":{"nanos":431732,"millis":0.431732,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122609,"millis":0.122609,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.595 [print] Rijkswaterstaat \n"},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.595 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":2121657,"millis":2.121657,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":510938,"millis":0.510938,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":445633,"millis":0.445633,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.387558,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-83730-e750-485a-9c0c-39bf9bf72cf8_","startTime":1631163635077,"refId":"[1.263:67]","endTime":1631163635598,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bf72cf8_"},"exampleIndex":262},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.114 karate.env system property was: null \n"},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47704,"millis":0.047704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52404,"millis":0.052404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227517,"millis":0.227517,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436633,"millis":0.436633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47703,"millis":0.047703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131509,"millis":0.131509,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528026228,"millis":528.026228,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":910867,"millis":0.910867,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":503338,"millis":0.503338,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":440032,"millis":0.440032,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":467635,"millis":0.467635,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":544740,"millis":0.54474,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":474735,"millis":0.474735,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35803,"millis":0.035803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":395729,"millis":0.395729,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346726,"millis":0.346726,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347826,"millis":0.347826,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81606,"millis":0.081606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89607,"millis":0.089607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.649 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":552240,"millis":0.55224,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202115,"millis":0.202115,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.649 [print] #notpresent \n"},{"result":{"nanos":407431,"millis":0.407431,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78306,"millis":0.078306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.650 [print] INSPIRE Atom \n"},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90807,"millis":0.090807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.650 [print] #notpresent \n"},{"result":{"nanos":474735,"millis":0.474735,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127409,"millis":0.127409,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.651 [print] Beheer PDOK \n"},{"result":{"nanos":98107,"millis":0.098107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.651 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":466235,"millis":0.466235,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653149,"millis":0.653149,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376828,"millis":0.376828,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.37422,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","startTime":1631163635114,"refId":"[1.264:67]","endTime":1631163635652,"exampleData":{"datasetIdentifierCode":"641a0f48-872b-4470-b130-e3d28e6bfdfb"},"exampleIndex":263},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.376 karate.env system property was: null \n"},{"result":{"nanos":29403,"millis":0.029403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48304,"millis":0.048304,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50704,"millis":0.050704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237817,"millis":0.237817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388529,"millis":0.388529,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118709,"millis":0.118709,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20601,"millis":0.020601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66405,"millis":0.066405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556509839,"millis":556.509839,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":572242,"millis":0.572242,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":431232,"millis":0.431232,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":378528,"millis":0.378528,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380129,"millis":0.380129,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":590244,"millis":0.590244,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":527939,"millis":0.527939,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83807,"millis":0.083807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":384329,"millis":0.384329,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":371828,"millis":0.371828,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":366527,"millis":0.366527,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134410,"millis":0.13441,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":793459,"millis":0.793459,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.939 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":675150,"millis":0.67515,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":170713,"millis":0.170713,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.940 [print] OGC:WMS \n"},{"result":{"nanos":777758,"millis":0.777758,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":184914,"millis":0.184914,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.941 [print] #notpresent \n"},{"result":{"nanos":386429,"millis":0.386429,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":152612,"millis":0.152612,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.942 [print] OGC:WMS \n"},{"result":{"nanos":784958,"millis":0.784958,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153611,"millis":0.153611,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.943 [print] Beheer PDOK \n"},{"result":{"nanos":454934,"millis":0.454934,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.943 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":1023775,"millis":1.023775,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":456234,"millis":0.456234,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":435932,"millis":0.435932,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.268714,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","startTime":1631163635376,"refId":"[1.265:67]","endTime":1631163635945,"exampleData":{"datasetIdentifierCode":"f0c6fbfe-a172-4223-8af3-58f6a28c881d"},"exampleIndex":264},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.520 karate.env system property was: null \n"},{"result":{"nanos":36503,"millis":0.036503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52904,"millis":0.052904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254219,"millis":0.254219,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42304,"millis":0.042304,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432532,"millis":0.432532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35403,"millis":0.035403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42503,"millis":0.042503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52204,"millis":0.052204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":743455,"millis":0.743455,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535781902,"millis":535.781902,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":815561,"millis":0.815561,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":619746,"millis":0.619746,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":518038,"millis":0.518038,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":469335,"millis":0.469335,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":691351,"millis":0.691351,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586744,"millis":0.586744,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87206,"millis":0.087206,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":430132,"millis":0.430132,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":579143,"millis":0.579143,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":506337,"millis":0.506337,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183214,"millis":0.183214,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":183914,"millis":0.183914,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.065 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":701152,"millis":0.701152,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157812,"millis":0.157812,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.066 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":636847,"millis":0.636847,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139310,"millis":0.13931,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.067 [print] #notpresent \n"},{"result":{"nanos":244818,"millis":0.244818,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101807,"millis":0.101807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.067 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":617646,"millis":0.617646,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125909,"millis":0.125909,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.068 [print] Beheer PDOK \n"},{"result":{"nanos":390729,"millis":0.390729,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.068 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n"},{"result":{"nanos":436433,"millis":0.436433,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":409830,"millis":0.40983,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326524,"millis":0.326524,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.605578,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","startTime":1631163635520,"refId":"[1.266:67]","endTime":1631163636069,"exampleData":{"datasetIdentifierCode":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7"},"exampleIndex":265},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17802,"millis":0.017802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.600 karate.env system property was: null \n"},{"result":{"nanos":411931,"millis":0.411931,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55904,"millis":0.055904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261119,"millis":0.261119,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":79106,"millis":0.079106,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405230,"millis":0.40523,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92106,"millis":0.092106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":320424,"millis":0.320424,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18102,"millis":0.018102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47304,"millis":0.047304,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":4001,"millis":0.004001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510604136,"millis":510.604136,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":628147,"millis":0.628147,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":606545,"millis":0.606545,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":516239,"millis":0.516239,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":503937,"millis":0.503937,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":715653,"millis":0.715653,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":662149,"millis":0.662149,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":115809,"millis":0.115809,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":492236,"millis":0.492236,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":521238,"millis":0.521238,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":396430,"millis":0.39643,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":137210,"millis":0.13721,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":377228,"millis":0.377228,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.119 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":558841,"millis":0.558841,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147511,"millis":0.147511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.120 [print] OGC:WMS \n"},{"result":{"nanos":590344,"millis":0.590344,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168813,"millis":0.168813,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.120 [print] #notpresent \n"},{"result":{"nanos":243218,"millis":0.243218,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":323724,"millis":0.323724,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.121 [print] OGC:WMS \n"},{"result":{"nanos":441633,"millis":0.441633,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":356526,"millis":0.356526,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.122 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":311423,"millis":0.311423,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.122 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":437932,"millis":0.437932,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":438033,"millis":0.438033,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387829,"millis":0.387829,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.49952,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","startTime":1631163635600,"refId":"[1.267:67]","endTime":1631163636123,"exampleData":{"datasetIdentifierCode":"1ff0035a-acc0-4a67-a76c-3b79646b4eef"},"exampleIndex":266},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.654 karate.env system property was: null \n"},{"result":{"nanos":33103,"millis":0.033103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51404,"millis":0.051404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55004,"millis":0.055004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242618,"millis":0.242618,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81606,"millis":0.081606,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423531,"millis":0.423531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35902,"millis":0.035902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55604,"millis":0.055604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69005,"millis":0.069005,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23402,"millis":0.023402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520225150,"millis":520.22515,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":709453,"millis":0.709453,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":691351,"millis":0.691351,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":510038,"millis":0.510038,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":358627,"millis":0.358627,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":510738,"millis":0.510738,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":535040,"millis":0.53504,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80406,"millis":0.080406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":377228,"millis":0.377228,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":375428,"millis":0.375428,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":352627,"millis":0.352627,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":376828,"millis":0.376828,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":312023,"millis":0.312023,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.182 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":508238,"millis":0.508238,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":369327,"millis":0.369327,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.183 [print] OGC:WCS \n"},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":349626,"millis":0.349626,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.184 [print] #notpresent \n"},{"result":{"nanos":83806,"millis":0.083806,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":299022,"millis":0.299022,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.184 [print] OGC:WCS \n"},{"result":{"nanos":398729,"millis":0.398729,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":321224,"millis":0.321224,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.185 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":271020,"millis":0.27102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.185 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":402729,"millis":0.402729,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":378428,"millis":0.378428,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280121,"millis":0.280121,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.669924,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"49a53bc1-dd76-417f-b9af-066901ddfec0","startTime":1631163635654,"refId":"[1.268:67]","endTime":1631163636186,"exampleData":{"datasetIdentifierCode":"49a53bc1-dd76-417f-b9af-066901ddfec0"},"exampleIndex":267},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53304,"millis":0.053304,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.948 karate.env system property was: null \n"},{"result":{"nanos":45404,"millis":0.045404,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":156712,"millis":0.156712,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110608,"millis":0.110608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340325,"millis":0.340325,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113708,"millis":0.113708,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439332,"millis":0.439332,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91607,"millis":0.091607,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131909,"millis":0.131909,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40403,"millis":0.040403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52303,"millis":0.052303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23101,"millis":0.023101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539248959,"millis":539.248959,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2501,"millis":0.002501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2230066,"millis":2.230066,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":2691799,"millis":2.691799,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1827636,"millis":1.827636,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1679124,"millis":1.679124,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1488811,"millis":1.488811,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1855937,"millis":1.855937,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38303,"millis":0.038303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1089881,"millis":1.089881,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1021975,"millis":1.021975,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1267793,"millis":1.267793,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":175413,"millis":0.175413,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":108708,"millis":0.108708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.505 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1510412,"millis":1.510412,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":94007,"millis":0.094007,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.506 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1351201,"millis":1.351201,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72306,"millis":0.072306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.508 [print] #notpresent \n"},{"result":{"nanos":176213,"millis":0.176213,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":218616,"millis":0.218616,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.508 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1840736,"millis":1.840736,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":293122,"millis":0.293122,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.510 [print] Beheer PDOK \n"},{"result":{"nanos":85406,"millis":0.085406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.510 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":1859138,"millis":1.859138,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":539040,"millis":0.53904,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347225,"millis":0.347225,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":564.766547,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","startTime":1631163635947,"refId":"[1.269:67]","endTime":1631163636513,"exampleData":{"datasetIdentifierCode":"2b9da196-422e-4b0e-a5ba-ba41ade308e9"},"exampleIndex":268},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.074 karate.env system property was: null \n"},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120709,"millis":0.120709,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110109,"millis":0.110109,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":299423,"millis":0.299423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113409,"millis":0.113409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431932,"millis":0.431932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88407,"millis":0.088407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":148611,"millis":0.148611,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":208216,"millis":0.208216,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36003,"millis":0.036003,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24102,"millis":0.024102,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526588521,"millis":526.588521,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2701,"millis":0.002701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":800360,"millis":0.80036,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":424031,"millis":0.424031,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":436232,"millis":0.436232,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":558342,"millis":0.558342,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":494036,"millis":0.494036,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37003,"millis":0.037003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":358127,"millis":0.358127,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307123,"millis":0.307123,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316824,"millis":0.316824,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83506,"millis":0.083506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103008,"millis":0.103008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.608 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":709853,"millis":0.709853,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79406,"millis":0.079406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.608 [print] OGC:WFS \n"},{"result":{"nanos":325324,"millis":0.325324,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65205,"millis":0.065205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.609 [print] INSPIRE Atom \n"},{"result":{"nanos":27903,"millis":0.027903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87606,"millis":0.087606,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.609 [print] OGC:WFS \n"},{"result":{"nanos":396029,"millis":0.396029,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92207,"millis":0.092207,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.609 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":2293770,"millis":2.29377,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.612 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":808360,"millis":0.80836,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":744355,"millis":0.744355,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":545840,"millis":0.54584,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.833134,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","startTime":1631163636073,"refId":"[1.270:67]","endTime":1631163636614,"exampleData":{"datasetIdentifierCode":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5"},"exampleIndex":269},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61305,"millis":0.061305,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.127 karate.env system property was: null \n"},{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153811,"millis":0.153811,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124609,"millis":0.124609,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314923,"millis":0.314923,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":460334,"millis":0.460334,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":465235,"millis":0.465235,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":124509,"millis":0.124509,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151211,"millis":0.151211,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":346926,"millis":0.346926,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38003,"millis":0.038003,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524424361,"millis":524.424361,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2001,"millis":0.002001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":643048,"millis":0.643048,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":340625,"millis":0.340625,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376428,"millis":0.376428,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":396830,"millis":0.39683,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":425232,"millis":0.425232,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":402330,"millis":0.40233,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309123,"millis":0.309123,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":308923,"millis":0.308923,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322124,"millis":0.322124,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72405,"millis":0.072405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.658 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":299822,"millis":0.299822,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139410,"millis":0.13941,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.658 [print] INSPIRE Atom \n"},{"result":{"nanos":271420,"millis":0.27142,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106108,"millis":0.106108,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.659 [print] #notpresent \n"},{"result":{"nanos":27902,"millis":0.027902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.659 [print] INSPIRE Atom \n"},{"result":{"nanos":341926,"millis":0.341926,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116209,"millis":0.116209,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.659 [print] Beheer PDOK \n"},{"result":{"nanos":70806,"millis":0.070806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.660 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":371228,"millis":0.371228,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":409930,"millis":0.40993,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348226,"millis":0.348226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.036902,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"54122631-d343-40be-9c28-e44626b37a0e","startTime":1631163636126,"refId":"[1.271:67]","endTime":1631163636661,"exampleData":{"datasetIdentifierCode":"54122631-d343-40be-9c28-e44626b37a0e"},"exampleIndex":270},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44003,"millis":0.044003,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.189 karate.env system property was: null \n"},{"result":{"nanos":37102,"millis":0.037102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":106908,"millis":0.106908,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96307,"millis":0.096307,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257319,"millis":0.257319,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96607,"millis":0.096607,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408230,"millis":0.40823,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":305223,"millis":0.305223,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44304,"millis":0.044304,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":9801,"millis":0.009801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":9401,"millis":0.009401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9201,"millis":0.009201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515657111,"millis":515.657111,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1701,"millis":0.001701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":418731,"millis":0.418731,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":426032,"millis":0.426032,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419631,"millis":0.419631,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":382529,"millis":0.382529,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433232,"millis":0.433232,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408631,"millis":0.408631,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334725,"millis":0.334725,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337825,"millis":0.337825,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333124,"millis":0.333124,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78806,"millis":0.078806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":73605,"millis":0.073605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.710 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1053078,"millis":1.053078,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.711 [print] OGC:WFS \n"},{"result":{"nanos":386829,"millis":0.386829,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118409,"millis":0.118409,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.712 [print] #notpresent \n"},{"result":{"nanos":35002,"millis":0.035002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53604,"millis":0.053604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.712 [print] OGC:WFS \n"},{"result":{"nanos":405030,"millis":0.40503,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104308,"millis":0.104308,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.712 [print] Beheer PDOK \n"},{"result":{"nanos":45604,"millis":0.045604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.712 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":399930,"millis":0.39993,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":421431,"millis":0.421431,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288321,"millis":0.288321,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.277151,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e264c1e4-90fe-4968-bbf2-7019f6095348","startTime":1631163636188,"refId":"[1.272:67]","endTime":1631163636714,"exampleData":{"datasetIdentifierCode":"e264c1e4-90fe-4968-bbf2-7019f6095348"},"exampleIndex":271},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16202,"millis":0.016202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.515 karate.env system property was: null \n"},{"result":{"nanos":31003,"millis":0.031003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47504,"millis":0.047504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51704,"millis":0.051704,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241617,"millis":0.241617,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38803,"millis":0.038803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431432,"millis":0.431432,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32803,"millis":0.032803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54304,"millis":0.054304,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20402,"millis":0.020402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":223516,"millis":0.223516,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516016738,"millis":516.016738,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":602445,"millis":0.602445,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":456234,"millis":0.456234,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":350626,"millis":0.350626,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":301422,"millis":0.301422,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":497537,"millis":0.497537,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":572742,"millis":0.572742,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84406,"millis":0.084406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":391129,"millis":0.391129,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355926,"millis":0.355926,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":321124,"millis":0.321124,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118909,"millis":0.118909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":237118,"millis":0.237118,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.037 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":601744,"millis":0.601744,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144511,"millis":0.144511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.038 [print] INSPIRE Atom \n"},{"result":{"nanos":500437,"millis":0.500437,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":136910,"millis":0.13691,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.039 [print] #notpresent \n"},{"result":{"nanos":192514,"millis":0.192514,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111808,"millis":0.111808,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.039 [print] INSPIRE Atom \n"},{"result":{"nanos":625646,"millis":0.625646,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148411,"millis":0.148411,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.040 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":247918,"millis":0.247918,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.040 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":527939,"millis":0.527939,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":448233,"millis":0.448233,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308923,"millis":0.308923,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.523943,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","startTime":1631163636515,"refId":"[1.273:67]","endTime":1631163637042,"exampleData":{"datasetIdentifierCode":"f5660ac6-8031-4acc-832c-1d1b82b062ba"},"exampleIndex":272},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.616 karate.env system property was: null \n"},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47903,"millis":0.047903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56004,"millis":0.056004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":235917,"millis":0.235917,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393529,"millis":0.393529,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":418031,"millis":0.418031,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44003,"millis":0.044003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3701,"millis":0.003701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520117442,"millis":520.117442,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":728554,"millis":0.728554,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":677250,"millis":0.67725,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":555041,"millis":0.555041,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":550841,"millis":0.550841,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":869865,"millis":0.869865,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":722854,"millis":0.722854,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":127809,"millis":0.127809,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":461434,"millis":0.461434,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":433632,"millis":0.433632,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":590044,"millis":0.590044,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":237717,"millis":0.237717,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":324624,"millis":0.324624,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.145 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":504538,"millis":0.504538,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145411,"millis":0.145411,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.145 [print] OGC:WMS \n"},{"result":{"nanos":505338,"millis":0.505338,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143910,"millis":0.14391,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.146 [print] #notpresent \n"},{"result":{"nanos":178413,"millis":0.178413,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95807,"millis":0.095807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.146 [print] OGC:WMS \n"},{"result":{"nanos":487336,"millis":0.487336,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121709,"millis":0.121709,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.147 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":208415,"millis":0.208415,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.147 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":455134,"millis":0.455134,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":465934,"millis":0.465934,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348926,"millis":0.348926,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.433677,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","startTime":1631163636616,"refId":"[1.274:67]","endTime":1631163637149,"exampleData":{"datasetIdentifierCode":"2d1860f2-f8ba-457e-bd64-93cdabd69aee"},"exampleIndex":273},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16602,"millis":0.016602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.663 karate.env system property was: null \n"},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":171513,"millis":0.171513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231217,"millis":0.231217,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455934,"millis":0.455934,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36502,"millis":0.036502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60604,"millis":0.060604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12501,"millis":0.012501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18402,"millis":0.018402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516402766,"millis":516.402766,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":775658,"millis":0.775658,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":866764,"millis":0.866764,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":817261,"millis":0.817261,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":671250,"millis":0.67125,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":627646,"millis":0.627646,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":603345,"millis":0.603345,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75906,"millis":0.075906,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390129,"millis":0.390129,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":446233,"millis":0.446233,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":453934,"millis":0.453934,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":680050,"millis":0.68005,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":741955,"millis":0.741955,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.188 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n"},{"result":{"nanos":512238,"millis":0.512238,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":518739,"millis":0.518739,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.189 [print] #notpresent \n"},{"result":{"nanos":466835,"millis":0.466835,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":421432,"millis":0.421432,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.190 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":82107,"millis":0.082107,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":392629,"millis":0.392629,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.190 [print] #notpresent \n"},{"result":{"nanos":467535,"millis":0.467535,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.191 [print] Beheer PDOK \n"},{"result":{"nanos":746155,"millis":0.746155,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.192 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n"},{"result":{"nanos":512438,"millis":0.512438,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":375228,"millis":0.375228,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":434632,"millis":0.434632,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.113386,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"598c4109-21d2-4a6c-b083-9975a6736849","startTime":1631163636662,"refId":"[1.275:67]","endTime":1631163637193,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736849"},"exampleIndex":274},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.720 karate.env system property was: null \n"},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58905,"millis":0.058905,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220316,"millis":0.220316,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37003,"millis":0.037003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":15046315,"millis":15.046315,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":147211,"millis":0.147211,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117609,"millis":0.117609,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20802,"millis":0.020802,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525534543,"millis":525.534543,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":539440,"millis":0.53944,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":520839,"millis":0.520839,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":508538,"millis":0.508538,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":462535,"millis":0.462535,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":676650,"millis":0.67665,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586043,"millis":0.586043,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84707,"millis":0.084707,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":449834,"millis":0.449834,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":440633,"millis":0.440633,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":438732,"millis":0.438732,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":805860,"millis":0.80586,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":766157,"millis":0.766157,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.269 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":443833,"millis":0.443833,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":499037,"millis":0.499037,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.270 [print] #notpresent \n"},{"result":{"nanos":439833,"millis":0.439833,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":492936,"millis":0.492936,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.270 [print] OGC:WFS \n"},{"result":{"nanos":102908,"millis":0.102908,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":461935,"millis":0.461935,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.271 [print] #notpresent \n"},{"result":{"nanos":495836,"millis":0.495836,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":468535,"millis":0.468535,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.272 [print] Beheer PDOK \n"},{"result":{"nanos":709252,"millis":0.709252,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.273 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":519039,"millis":0.519039,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":490936,"millis":0.490936,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336125,"millis":0.336125,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.127692,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","startTime":1631163636720,"refId":"[1.276:67]","endTime":1631163637274,"exampleData":{"datasetIdentifierCode":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c"},"exampleIndex":275},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.044 karate.env system property was: null \n"},{"result":{"nanos":60104,"millis":0.060104,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":113108,"millis":0.113108,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97107,"millis":0.097107,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":308323,"millis":0.308323,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112308,"millis":0.112308,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416031,"millis":0.416031,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":86206,"millis":0.086206,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106508,"millis":0.106508,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36303,"millis":0.036303,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":116509,"millis":0.116509,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515897429,"millis":515.897429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":609645,"millis":0.609645,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":574642,"millis":0.574642,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":559542,"millis":0.559542,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":571942,"millis":0.571942,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":604445,"millis":0.604445,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":558242,"millis":0.558242,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":421031,"millis":0.421031,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":419131,"millis":0.419131,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":441933,"millis":0.441933,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":784758,"millis":0.784758,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":715153,"millis":0.715153,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.568 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n"},{"result":{"nanos":399630,"millis":0.39963,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":428431,"millis":0.428431,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.569 [print] #notpresent \n"},{"result":{"nanos":432032,"millis":0.432032,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":415331,"millis":0.415331,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.570 [print] OGC:WMS \n"},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":409531,"millis":0.409531,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.570 [print] #notpresent \n"},{"result":{"nanos":522639,"millis":0.522639,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":443533,"millis":0.443533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.571 [print] Beheer PDOK \n"},{"result":{"nanos":669450,"millis":0.66945,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.572 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":500037,"millis":0.500037,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":543340,"millis":0.54334,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312823,"millis":0.312823,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.886492,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","startTime":1631163637043,"refId":"[1.277:67]","endTime":1631163637573,"exampleData":{"datasetIdentifierCode":"88a93a3b-d522-4c5d-9b0f-c6c39a118442"},"exampleIndex":276},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46303,"millis":0.046303,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.151 karate.env system property was: null \n"},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":255119,"millis":0.255119,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":171512,"millis":0.171512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311624,"millis":0.311624,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":181613,"millis":0.181613,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431532,"millis":0.431532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":206415,"millis":0.206415,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145810,"millis":0.14581,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":143311,"millis":0.143311,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544011812,"millis":544.011812,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":957671,"millis":0.957671,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":1111082,"millis":1.111082,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":787658,"millis":0.787658,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":580243,"millis":0.580243,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":651148,"millis":0.651148,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6657694,"millis":6.657694,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78606,"millis":0.078606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":474936,"millis":0.474936,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":428031,"millis":0.428031,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":436532,"millis":0.436532,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":106708,"millis":0.106708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":441833,"millis":0.441833,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.710 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":487536,"millis":0.487536,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":331025,"millis":0.331025,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.711 [print] #notpresent \n"},{"result":{"nanos":613245,"millis":0.613245,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":319424,"millis":0.319424,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.712 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":228917,"millis":0.228917,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.713 [print] #notpresent \n"},{"result":{"nanos":677651,"millis":0.677651,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80306,"millis":0.080306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.713 [print] Beheer PDOK \n"},{"result":{"nanos":205315,"millis":0.205315,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.714 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":683151,"millis":0.683151,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":583643,"millis":0.583643,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":380028,"millis":0.380028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":563.402548,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","startTime":1631163637150,"refId":"[1.278:67]","endTime":1631163637715,"exampleData":{"datasetIdentifierCode":"68d14b1c-71ad-4ce7-8267-45787a80c2d4"},"exampleIndex":277},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45603,"millis":0.045603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.196 karate.env system property was: null \n"},{"result":{"nanos":60804,"millis":0.060804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108008,"millis":0.108008,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":178913,"millis":0.178913,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":256419,"millis":0.256419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91307,"millis":0.091307,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330525,"millis":0.330525,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":202215,"millis":0.202215,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":421431,"millis":0.421431,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25802,"millis":0.025802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9501,"millis":0.009501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":9501,"millis":0.009501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529164912,"millis":529.164912,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1701,"millis":0.001701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":508438,"millis":0.508438,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":682751,"millis":0.682751,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":587243,"millis":0.587243,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":552341,"millis":0.552341,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":563742,"millis":0.563742,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":466035,"millis":0.466035,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":453033,"millis":0.453033,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":429632,"millis":0.429632,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":475035,"millis":0.475035,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67805,"millis":0.067805,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":126709,"millis":0.126709,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.733 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":601645,"millis":0.601645,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110409,"millis":0.110409,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.733 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":535939,"millis":0.535939,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96207,"millis":0.096207,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.734 [print] #notpresent \n"},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137411,"millis":0.137411,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.734 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":589244,"millis":0.589244,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118809,"millis":0.118809,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.735 [print] Beheer PDOK \n"},{"result":{"nanos":141310,"millis":0.14131,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.735 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n"},{"result":{"nanos":1098782,"millis":1.098782,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":413530,"millis":0.41353,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326025,"millis":0.326025,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.122927,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"94e5b115-bece-4140-99ed-93b8f363948e","startTime":1631163637195,"refId":"[1.279:67]","endTime":1631163637737,"exampleData":{"datasetIdentifierCode":"94e5b115-bece-4140-99ed-93b8f363948e"},"exampleIndex":278},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46103,"millis":0.046103,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.277 karate.env system property was: null \n"},{"result":{"nanos":35602,"millis":0.035602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":110508,"millis":0.110508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98508,"millis":0.098508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":273921,"millis":0.273921,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117109,"millis":0.117109,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405730,"millis":0.40573,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35202,"millis":0.035202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":403030,"millis":0.40303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20502,"millis":0.020502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20802,"millis":0.020802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43903,"millis":0.043903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517807771,"millis":517.807771,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1017175,"millis":1.017175,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":899867,"millis":0.899867,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":861964,"millis":0.861964,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":912067,"millis":0.912067,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":27579544,"millis":27.579544,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":823161,"millis":0.823161,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":111208,"millis":0.111208,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":465634,"millis":0.465634,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":475136,"millis":0.475136,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4033899,"millis":4.033899,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":234717,"millis":0.234717,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":241118,"millis":0.241118,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.835 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n"},{"result":{"nanos":778558,"millis":0.778558,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":205215,"millis":0.205215,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.836 [print] OGC:WMS \n"},{"result":{"nanos":504838,"millis":0.504838,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193614,"millis":0.193614,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.837 [print] #notpresent \n"},{"result":{"nanos":187214,"millis":0.187214,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167813,"millis":0.167813,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.837 [print] OGC:WMS \n"},{"result":{"nanos":655148,"millis":0.655148,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144811,"millis":0.144811,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.838 [print] Beheer PDOK \n"},{"result":{"nanos":239217,"millis":0.239217,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.838 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":632647,"millis":0.632647,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":469135,"millis":0.469135,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":370627,"millis":0.370627,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":561.643621,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a7aeddf2-3b37-4668-9c75-de93d9326276","startTime":1631163637276,"refId":"[1.280:67]","endTime":1631163637840,"exampleData":{"datasetIdentifierCode":"a7aeddf2-3b37-4668-9c75-de93d9326276"},"exampleIndex":279},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.576 karate.env system property was: null \n"},{"result":{"nanos":31203,"millis":0.031203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46404,"millis":0.046404,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52304,"millis":0.052304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":234717,"millis":0.234717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400630,"millis":0.40063,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33902,"millis":0.033902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":389129,"millis":0.389129,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18502,"millis":0.018502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44103,"millis":0.044103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523274275,"millis":523.274275,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":690351,"millis":0.690351,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":615946,"millis":0.615946,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":549541,"millis":0.549541,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":601444,"millis":0.601444,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":683651,"millis":0.683651,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":710553,"millis":0.710553,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80606,"millis":0.080606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":800859,"millis":0.800859,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":582744,"millis":0.582744,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":541440,"millis":0.54144,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130209,"millis":0.130209,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174413,"millis":0.174413,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.107 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n"},{"result":{"nanos":653849,"millis":0.653849,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":209416,"millis":0.209416,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.108 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":540940,"millis":0.54094,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":189814,"millis":0.189814,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.109 [print] #notpresent \n"},{"result":{"nanos":103408,"millis":0.103408,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":179413,"millis":0.179413,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.109 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":614245,"millis":0.614245,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":333025,"millis":0.333025,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.110 [print] Beheer PDOK \n"},{"result":{"nanos":181613,"millis":0.181613,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.110 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n"},{"result":{"nanos":603944,"millis":0.603944,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463335,"millis":0.463335,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402430,"millis":0.40243,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.258467,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","startTime":1631163637575,"refId":"[1.281:67]","endTime":1631163638112,"exampleData":{"datasetIdentifierCode":"bfcc588f-9393-4c70-b989-d9e92ac2f493"},"exampleIndex":280},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.717 karate.env system property was: null \n"},{"result":{"nanos":44704,"millis":0.044704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52104,"millis":0.052104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243018,"millis":0.243018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65004,"millis":0.065004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434932,"millis":0.434932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89607,"millis":0.089607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":113709,"millis":0.113709,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":577766986,"millis":577.766986,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":680850,"millis":0.68085,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":502337,"millis":0.502337,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411330,"millis":0.41133,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":373928,"millis":0.373928,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3917489,"millis":3.917489,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":651948,"millis":0.651948,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":103308,"millis":0.103308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":417531,"millis":0.417531,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":422331,"millis":0.422331,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":443433,"millis":0.443433,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":268220,"millis":0.26822,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":251318,"millis":0.251318,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.306 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":435733,"millis":0.435733,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":230517,"millis":0.230517,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.306 [print] #notpresent \n"},{"result":{"nanos":426932,"millis":0.426932,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":205416,"millis":0.205416,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.307 [print] INSPIRE Atom \n"},{"result":{"nanos":87307,"millis":0.087307,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154412,"millis":0.154412,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.307 [print] #notpresent \n"},{"result":{"nanos":488736,"millis":0.488736,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205615,"millis":0.205615,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.308 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":169712,"millis":0.169712,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.308 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":444033,"millis":0.444033,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":461434,"millis":0.461434,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348126,"millis":0.348126,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":591.103776,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"070014b4-1f63-4819-beea-000b7d5f8d86","startTime":1631163637717,"refId":"[1.282:67]","endTime":1631163638310,"exampleData":{"datasetIdentifierCode":"070014b4-1f63-4819-beea-000b7d5f8d86"},"exampleIndex":281},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.741 karate.env system property was: null \n"},{"result":{"nanos":27902,"millis":0.027902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41704,"millis":0.041704,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46903,"millis":0.046903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191114,"millis":0.191114,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410431,"millis":0.410431,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":437932,"millis":0.437932,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49303,"millis":0.049303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":563584334,"millis":563.584334,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":447333,"millis":0.447333,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":420131,"millis":0.420131,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391029,"millis":0.391029,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427131,"millis":0.427131,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":524839,"millis":0.524839,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81806,"millis":0.081806,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":418030,"millis":0.41803,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394329,"millis":0.394329,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398329,"millis":0.398329,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":560141,"millis":0.560141,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":791759,"millis":0.791759,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.312 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n"},{"result":{"nanos":442933,"millis":0.442933,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":2327372,"millis":2.327372,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.314 [print] OGC:WCS \n"},{"result":{"nanos":358626,"millis":0.358626,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":138710,"millis":0.13871,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.315 [print] #notpresent \n"},{"result":{"nanos":2511885,"millis":2.511885,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1455907,"millis":1.455907,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.319 [print] OGC:WCS \n"},{"result":{"nanos":749656,"millis":0.749656,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":366927,"millis":0.366927,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.320 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":545440,"millis":0.54544,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.321 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":1051278,"millis":1.051278,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":379028,"millis":0.379028,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325324,"millis":0.325324,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.858105,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","startTime":1631163637739,"refId":"[1.283:67]","endTime":1631163638322,"exampleData":{"datasetIdentifierCode":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0"},"exampleIndex":282},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59904,"millis":0.059904,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.842 karate.env system property was: null \n"},{"result":{"nanos":36002,"millis":0.036002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111008,"millis":0.111008,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117108,"millis":0.117108,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":332425,"millis":0.332425,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108208,"millis":0.108208,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429932,"millis":0.429932,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88306,"millis":0.088306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103808,"millis":0.103808,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34703,"millis":0.034703,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27303,"millis":0.027303,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529959925,"millis":529.959925,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":481635,"millis":0.481635,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":501537,"millis":0.501537,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":461734,"millis":0.461734,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":508337,"millis":0.508337,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":580643,"millis":0.580643,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":523339,"millis":0.523339,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":379328,"millis":0.379328,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390329,"millis":0.390329,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362127,"millis":0.362127,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":236617,"millis":0.236617,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":271621,"millis":0.271621,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.379 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":404329,"millis":0.404329,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202415,"millis":0.202415,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.379 [print] #notpresent \n"},{"result":{"nanos":501237,"millis":0.501237,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":209615,"millis":0.209615,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.380 [print] OGC:WFS \n"},{"result":{"nanos":38603,"millis":0.038603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.380 [print] #notpresent \n"},{"result":{"nanos":520239,"millis":0.520239,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":190514,"millis":0.190514,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.381 [print] Beheer PDOK \n"},{"result":{"nanos":239918,"millis":0.239918,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.381 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":516938,"millis":0.516938,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":491736,"millis":0.491736,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324224,"millis":0.324224,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.947762,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c374d556-7b6e-459b-83c7-74da6ad90a59","startTime":1631163637841,"refId":"[1.284:67]","endTime":1631163638383,"exampleData":{"datasetIdentifierCode":"c374d556-7b6e-459b-83c7-74da6ad90a59"},"exampleIndex":283},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51604,"millis":0.051604,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.114 karate.env system property was: null \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119609,"millis":0.119609,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110508,"millis":0.110508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":317423,"millis":0.317423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113709,"millis":0.113709,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449634,"millis":0.449634,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":111909,"millis":0.111909,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116409,"millis":0.116409,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":99707,"millis":0.099707,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519170462,"millis":519.170462,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2401,"millis":0.002401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1054378,"millis":1.054378,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":942670,"millis":0.94267,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":824861,"millis":0.824861,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4327719,"millis":4.327719,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4789954,"millis":4.789954,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":558642,"millis":0.558642,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369828,"millis":0.369828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":340525,"millis":0.340525,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353626,"millis":0.353626,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151811,"millis":0.151811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109308,"millis":0.109308,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.650 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":371127,"millis":0.371127,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108008,"millis":0.108008,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.650 [print] OGC:WMS \n"},{"result":{"nanos":359526,"millis":0.359526,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100007,"millis":0.100007,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.651 [print] #notpresent \n"},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58104,"millis":0.058104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.651 [print] OGC:WMS \n"},{"result":{"nanos":435532,"millis":0.435532,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120509,"millis":0.120509,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.651 [print] Beheer PDOK \n"},{"result":{"nanos":44503,"millis":0.044503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.651 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":631447,"millis":0.631447,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1150685,"millis":1.150685,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":517738,"millis":0.517738,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.583798,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e258f171-6f56-4d4d-8311-027b30213c2d","startTime":1631163638114,"refId":"[1.285:67]","endTime":1631163638654,"exampleData":{"datasetIdentifierCode":"e258f171-6f56-4d4d-8311-027b30213c2d"},"exampleIndex":284},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52403,"millis":0.052403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.316 karate.env system property was: null \n"},{"result":{"nanos":42803,"millis":0.042803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134110,"millis":0.13411,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113708,"millis":0.113708,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298722,"millis":0.298722,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92807,"millis":0.092807,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363627,"millis":0.363627,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":81506,"millis":0.081506,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":580543,"millis":0.580543,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43604,"millis":0.043604,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29002,"millis":0.029002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517998259,"millis":517.998259,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":613545,"millis":0.613545,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":525139,"millis":0.525139,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":462734,"millis":0.462734,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":619846,"millis":0.619846,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":616046,"millis":0.616046,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":594344,"millis":0.594344,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382828,"millis":0.382828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415231,"millis":0.415231,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":434532,"millis":0.434532,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76605,"millis":0.076605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116108,"millis":0.116108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.841 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n"},{"result":{"nanos":509738,"millis":0.509738,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122809,"millis":0.122809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.842 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":647847,"millis":0.647847,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":107608,"millis":0.107608,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.843 [print] #notpresent \n"},{"result":{"nanos":32702,"millis":0.032702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.843 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":487236,"millis":0.487236,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112408,"millis":0.112408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.843 [print] Beheer PDOK \n"},{"result":{"nanos":43904,"millis":0.043904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.843 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n"},{"result":{"nanos":630947,"millis":0.630947,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":601244,"millis":0.601244,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428131,"millis":0.428131,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.548735,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","startTime":1631163638314,"refId":"[1.286:67]","endTime":1631163638845,"exampleData":{"datasetIdentifierCode":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf"},"exampleIndex":285},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46204,"millis":0.046204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.325 karate.env system property was: null \n"},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104107,"millis":0.104107,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98107,"millis":0.098107,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281221,"millis":0.281221,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104808,"millis":0.104808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387928,"millis":0.387928,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84506,"millis":0.084506,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143011,"millis":0.143011,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":346126,"millis":0.346126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47203,"millis":0.047203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9701,"millis":0.009701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540929353,"millis":540.929353,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1590517,"millis":1.590517,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":689351,"millis":0.689351,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":630147,"millis":0.630147,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":661049,"millis":0.661049,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":687751,"millis":0.687751,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":709752,"millis":0.709752,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29802,"millis":0.029802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":13782518,"millis":13.782518,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":746055,"millis":0.746055,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":669549,"millis":0.669549,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148811,"millis":0.148811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":978972,"millis":0.978972,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.889 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wfs\\\/v1_1?request=getCapabilities&service=WFS \n"},{"result":{"nanos":597644,"millis":0.597644,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":560742,"millis":0.560742,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.891 [print] #notpresent \n"},{"result":{"nanos":568142,"millis":0.568142,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":576642,"millis":0.576642,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.892 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":118509,"millis":0.118509,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":493837,"millis":0.493837,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.892 [print] #notpresent \n"},{"result":{"nanos":682950,"millis":0.68295,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":522439,"millis":0.522439,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.894 [print] Beheer PDOK \n"},{"result":{"nanos":127310,"millis":0.12731,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.894 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":771357,"millis":0.771357,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":488336,"millis":0.488336,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390929,"millis":0.390929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":569.898793,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","startTime":1631163638324,"refId":"[1.287:67]","endTime":1631163638895,"exampleData":{"datasetIdentifierCode":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7"},"exampleIndex":286},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.385 karate.env system property was: null \n"},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44203,"millis":0.044203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49804,"millis":0.049804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228216,"millis":0.228216,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423731,"millis":0.423731,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33802,"millis":0.033802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":158911,"millis":0.158911,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533164279,"millis":533.164279,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":622546,"millis":0.622546,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":611545,"millis":0.611545,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":574643,"millis":0.574643,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":558441,"millis":0.558441,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":690151,"millis":0.690151,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":653148,"millis":0.653148,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":105808,"millis":0.105808,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":454433,"millis":0.454433,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":413731,"millis":0.413731,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411630,"millis":0.41163,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":104407,"millis":0.104407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125609,"millis":0.125609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.925 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wms\\\/v1_1?request=getCapabilities&service=WMS \n"},{"result":{"nanos":908667,"millis":0.908667,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145611,"millis":0.145611,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.926 [print] #notpresent \n"},{"result":{"nanos":881066,"millis":0.881066,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144511,"millis":0.144511,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.927 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":406430,"millis":0.40643,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":113209,"millis":0.113209,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.928 [print] #notpresent \n"},{"result":{"nanos":855664,"millis":0.855664,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140711,"millis":0.140711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.929 [print] Beheer PDOK \n"},{"result":{"nanos":410430,"millis":0.41043,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.929 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":642847,"millis":0.642847,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":419131,"millis":0.419131,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336725,"millis":0.336725,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.020452,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9e2e977a-16a6-42a4-a208-c4f70704f383","startTime":1631163638385,"refId":"[1.288:67]","endTime":1631163638931,"exampleData":{"datasetIdentifierCode":"9e2e977a-16a6-42a4-a208-c4f70704f383"},"exampleIndex":287},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.656 karate.env system property was: null \n"},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47903,"millis":0.047903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55404,"millis":0.055404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244419,"millis":0.244419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420431,"millis":0.420431,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34002,"millis":0.034002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123109,"millis":0.123109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16202,"millis":0.016202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48404,"millis":0.048404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":611112136,"millis":611.112136,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":742355,"millis":0.742355,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":646248,"millis":0.646248,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":573943,"millis":0.573943,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":620346,"millis":0.620346,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":682250,"millis":0.68225,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":610545,"millis":0.610545,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88607,"millis":0.088607,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403129,"millis":0.403129,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":826561,"millis":0.826561,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":488036,"millis":0.488036,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":150711,"millis":0.150711,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160612,"millis":0.160612,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.275 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1303996,"millis":1.303996,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":169513,"millis":0.169513,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.277 [print] OGC:WFS \n"},{"result":{"nanos":473235,"millis":0.473235,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137510,"millis":0.13751,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.277 [print] #notpresent \n"},{"result":{"nanos":80306,"millis":0.080306,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":157012,"millis":0.157012,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.278 [print] OGC:WFS \n"},{"result":{"nanos":512838,"millis":0.512838,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135310,"millis":0.13531,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.278 [print] Beheer PDOK \n"},{"result":{"nanos":129910,"millis":0.12991,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.278 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":485636,"millis":0.485636,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460034,"millis":0.460034,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":474235,"millis":0.474235,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":622.747997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"972edbaa-f860-4c48-b449-4f238a263472","startTime":1631163638656,"refId":"[1.289:67]","endTime":1631163639280,"exampleData":{"datasetIdentifierCode":"972edbaa-f860-4c48-b449-4f238a263472"},"exampleIndex":288},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.847 karate.env system property was: null \n"},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121909,"millis":0.121909,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294821,"millis":0.294821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46104,"millis":0.046104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":847262,"millis":0.847262,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45303,"millis":0.045303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":130410,"millis":0.13041,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20502,"millis":0.020502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21602,"millis":0.021602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51504,"millis":0.051504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518636606,"millis":518.636606,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":880765,"millis":0.880765,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":950371,"millis":0.950371,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":786158,"millis":0.786158,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":758956,"millis":0.758956,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1060079,"millis":1.060079,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":973271,"millis":0.973271,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":123309,"millis":0.123309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414831,"millis":0.414831,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":464134,"millis":0.464134,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425632,"millis":0.425632,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129210,"millis":0.12921,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193415,"millis":0.193415,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.375 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":436332,"millis":0.436332,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":172212,"millis":0.172212,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.376 [print] OGC:WFS \n"},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":186614,"millis":0.186614,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.376 [print] #notpresent \n"},{"result":{"nanos":110008,"millis":0.110008,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147211,"millis":0.147211,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.377 [print] OGC:WFS \n"},{"result":{"nanos":511038,"millis":0.511038,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":176513,"millis":0.176513,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.377 [print] Beheer PDOK \n"},{"result":{"nanos":173513,"millis":0.173513,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.378 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":474735,"millis":0.474735,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":422431,"millis":0.422431,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":383929,"millis":0.383929,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.11853,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d7d19437-f875-45b3-86cd-2fa3335479ec","startTime":1631163638847,"refId":"[1.290:67]","endTime":1631163639379,"exampleData":{"datasetIdentifierCode":"d7d19437-f875-45b3-86cd-2fa3335479ec"},"exampleIndex":289},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50403,"millis":0.050403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.898 karate.env system property was: null \n"},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":478936,"millis":0.478936,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145011,"millis":0.145011,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368228,"millis":0.368228,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124409,"millis":0.124409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496337,"millis":0.496337,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":94007,"millis":0.094007,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":154311,"millis":0.154311,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56304,"millis":0.056304,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":164413,"millis":0.164413,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":136610,"millis":0.13661,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16902,"millis":0.016902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514794922,"millis":514.794922,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":423431,"millis":0.423431,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":459034,"millis":0.459034,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":435832,"millis":0.435832,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":475035,"millis":0.475035,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":595844,"millis":0.595844,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":566042,"millis":0.566042,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81606,"millis":0.081606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":365427,"millis":0.365427,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394429,"millis":0.394429,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":373727,"millis":0.373727,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":598944,"millis":0.598944,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":548341,"millis":0.548341,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.421 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":383728,"millis":0.383728,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":400830,"millis":0.40083,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.422 [print] OGC:WMS \n"},{"result":{"nanos":414830,"millis":0.41483,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":459734,"millis":0.459734,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.423 [print] #notpresent \n"},{"result":{"nanos":43503,"millis":0.043503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":377228,"millis":0.377228,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.423 [print] OGC:WMS \n"},{"result":{"nanos":531039,"millis":0.531039,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":353226,"millis":0.353226,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.424 [print] Beheer PDOK \n"},{"result":{"nanos":582143,"millis":0.582143,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.425 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":476536,"millis":0.476536,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":433132,"millis":0.433132,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":341425,"millis":0.341425,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.274145,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","startTime":1631163638898,"refId":"[1.291:67]","endTime":1631163639426,"exampleData":{"datasetIdentifierCode":"68722979-8d6c-4ee4-a81a-8381d2588fe5"},"exampleIndex":290},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46503,"millis":0.046503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.934 karate.env system property was: null \n"},{"result":{"nanos":35202,"millis":0.035202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":229717,"millis":0.229717,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145211,"millis":0.145211,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":326324,"millis":0.326324,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101007,"millis":0.101007,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470335,"millis":0.470335,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":97908,"millis":0.097908,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":154211,"millis":0.154211,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":324424,"millis":0.324424,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37902,"millis":0.037902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508964491,"millis":508.964491,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":382628,"millis":0.382628,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":455934,"millis":0.455934,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":507437,"millis":0.507437,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":508038,"millis":0.508038,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":568242,"millis":0.568242,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504037,"millis":0.504037,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41303,"millis":0.041303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363827,"millis":0.363827,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":369827,"millis":0.369827,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":376228,"millis":0.376228,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":6271563,"millis":6.271563,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141411,"millis":0.141411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.456 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n"},{"result":{"nanos":433832,"millis":0.433832,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117109,"millis":0.117109,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.457 [print] OGC:WCS \n"},{"result":{"nanos":399629,"millis":0.399629,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":549941,"millis":0.549941,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.458 [print] #notpresent \n"},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1094280,"millis":1.09428,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.459 [print] OGC:WCS \n"},{"result":{"nanos":491837,"millis":0.491837,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1632821,"millis":1.632821,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.461 [print] Beheer PDOK \n"},{"result":{"nanos":108608,"millis":0.108608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.461 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":565242,"millis":0.565242,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":572142,"millis":0.572142,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375028,"millis":0.375028,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.862984,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","startTime":1631163638933,"refId":"[1.292:67]","endTime":1631163639463,"exampleData":{"datasetIdentifierCode":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808"},"exampleIndex":291},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52504,"millis":0.052504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.282 karate.env system property was: null \n"},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116209,"millis":0.116209,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120909,"millis":0.120909,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":327324,"millis":0.327324,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139811,"millis":0.139811,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":626247,"millis":0.626247,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104407,"millis":0.104407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115609,"millis":0.115609,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38503,"millis":0.038503,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":562916177,"millis":562.916177,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":535140,"millis":0.53514,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":515238,"millis":0.515238,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411430,"millis":0.41143,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":435932,"millis":0.435932,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":550741,"millis":0.550741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":522938,"millis":0.522938,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27902,"millis":0.027902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352926,"millis":0.352926,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":333125,"millis":0.333125,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353426,"millis":0.353426,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":704252,"millis":0.704252,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":625047,"millis":0.625047,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.853 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":403430,"millis":0.40343,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":447833,"millis":0.447833,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.854 [print] OGC:WFS \n"},{"result":{"nanos":408730,"millis":0.40873,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":420431,"millis":0.420431,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.855 [print] #notpresent \n"},{"result":{"nanos":43703,"millis":0.043703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":375228,"millis":0.375228,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.855 [print] OGC:WFS \n"},{"result":{"nanos":754256,"millis":0.754256,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":384028,"millis":0.384028,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.856 [print] Beheer PDOK \n"},{"result":{"nanos":645647,"millis":0.645647,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.857 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":497937,"millis":0.497937,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548741,"millis":0.548741,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280720,"millis":0.28072,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":575.26829,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bc0b75c6-3eef-49de-aca2-8483024903c1","startTime":1631163639282,"refId":"[1.293:67]","endTime":1631163639858,"exampleData":{"datasetIdentifierCode":"bc0b75c6-3eef-49de-aca2-8483024903c1"},"exampleIndex":292},{"sectionIndex":0,"stepResults":[{"result":{"nanos":83306,"millis":0.083306,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.381 karate.env system property was: null \n"},{"result":{"nanos":35703,"millis":0.035703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104308,"millis":0.104308,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151711,"millis":0.151711,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":282620,"millis":0.28262,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91007,"millis":0.091007,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311323,"millis":0.311323,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70705,"millis":0.070705,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107108,"millis":0.107108,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31703,"millis":0.031703,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24402,"millis":0.024402,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10001,"millis":0.010001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8101,"millis":0.008101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551801156,"millis":551.801156,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":18908697,"millis":18.908697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":536939,"millis":0.536939,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399730,"millis":0.39973,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":336925,"millis":0.336925,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":549041,"millis":0.549041,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465534,"millis":0.465534,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83606,"millis":0.083606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":452934,"millis":0.452934,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":406930,"millis":0.40693,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":389329,"millis":0.389329,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":6710495,"millis":6.710495,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":773157,"millis":0.773157,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.965 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":477235,"millis":0.477235,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":598544,"millis":0.598544,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.966 [print] OGC:WFS \n"},{"result":{"nanos":7570759,"millis":7.570759,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":701152,"millis":0.701152,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.975 [print] #notpresent \n"},{"result":{"nanos":92807,"millis":0.092807,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460134,"millis":0.460134,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.975 [print] OGC:WFS \n"},{"result":{"nanos":435233,"millis":0.435233,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":490437,"millis":0.490437,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.976 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":727054,"millis":0.727054,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.977 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":565342,"millis":0.565342,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":462834,"millis":0.462834,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334525,"millis":0.334525,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":596.069927,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","startTime":1631163639381,"refId":"[1.294:67]","endTime":1631163639978,"exampleData":{"datasetIdentifierCode":"c7dad4b9-42a8-452f-a33b-d4938ed22142"},"exampleIndex":293},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16702,"millis":0.016702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.428 karate.env system property was: null \n"},{"result":{"nanos":28402,"millis":0.028402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68805,"millis":0.068805,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46103,"millis":0.046103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215715,"millis":0.215715,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402929,"millis":0.402929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33203,"millis":0.033203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":424231,"millis":0.424231,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20502,"millis":0.020502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43803,"millis":0.043803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537897529,"millis":537.897529,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":445433,"millis":0.445433,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":421331,"millis":0.421331,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":362127,"millis":0.362127,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391029,"millis":0.391029,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":509838,"millis":0.509838,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":482036,"millis":0.482036,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77105,"millis":0.077105,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":362127,"millis":0.362127,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":400929,"millis":0.400929,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370228,"millis":0.370228,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2018849,"millis":2.018849,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":6201859,"millis":6.201859,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.980 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n"},{"result":{"nanos":454833,"millis":0.454833,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":598345,"millis":0.598345,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.981 [print] #notpresent \n"},{"result":{"nanos":437932,"millis":0.437932,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1619020,"millis":1.61902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.983 [print] INSPIRE Atom \n"},{"result":{"nanos":122409,"millis":0.122409,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":461334,"millis":0.461334,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.984 [print] #notpresent \n"},{"result":{"nanos":448933,"millis":0.448933,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":567642,"millis":0.567642,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.985 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":777158,"millis":0.777158,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.986 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":440632,"millis":0.440632,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1762830,"millis":1.76283,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349426,"millis":0.349426,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":559.360816,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","startTime":1631163639428,"refId":"[1.295:67]","endTime":1631163639988,"exampleData":{"datasetIdentifierCode":"7c664a91-1aa2-4923-9d17-6a43e4075f47"},"exampleIndex":294},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.465 karate.env system property was: null \n"},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36403,"millis":0.036403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46904,"millis":0.046904,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228317,"millis":0.228317,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410131,"millis":0.410131,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32503,"millis":0.032503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64505,"millis":0.064505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22702,"millis":0.022702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44203,"millis":0.044203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516672461,"millis":516.672461,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":402529,"millis":0.402529,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":359027,"millis":0.359027,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":357626,"millis":0.357626,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":315723,"millis":0.315723,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":464235,"millis":0.464235,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459934,"millis":0.459934,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84607,"millis":0.084607,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":341225,"millis":0.341225,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349526,"millis":0.349526,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":373527,"millis":0.373527,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":132410,"millis":0.13241,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110408,"millis":0.110408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.987 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":340925,"millis":0.340925,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128909,"millis":0.128909,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.987 [print] INSPIRE Atom \n"},{"result":{"nanos":366627,"millis":0.366627,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":8187405,"millis":8.187405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.996 [print] #notpresent \n"},{"result":{"nanos":92907,"millis":0.092907,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145311,"millis":0.145311,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.996 [print] INSPIRE Atom \n"},{"result":{"nanos":391129,"millis":0.391129,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":221617,"millis":0.221617,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.996 [print] Beheer PDOK \n"},{"result":{"nanos":152212,"millis":0.152212,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.997 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":433832,"millis":0.433832,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":410430,"millis":0.41043,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318423,"millis":0.318423,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.62174,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","startTime":1631163639464,"refId":"[1.296:67]","endTime":1631163639998,"exampleData":{"datasetIdentifierCode":"bb85e473-c04a-42a6-9fdc-f0bb0239327e"},"exampleIndex":295},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.861 karate.env system property was: null \n"},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36102,"millis":0.036102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50204,"millis":0.050204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244018,"millis":0.244018,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39503,"millis":0.039503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394530,"millis":0.39453,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32703,"millis":0.032703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":389429,"millis":0.389429,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528544937,"millis":528.544937,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":982773,"millis":0.982773,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":499337,"millis":0.499337,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":393929,"millis":0.393929,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":353726,"millis":0.353726,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":617845,"millis":0.617845,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":697852,"millis":0.697852,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91207,"millis":0.091207,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":422431,"millis":0.422431,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":443533,"millis":0.443533,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":372427,"millis":0.372427,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":581043,"millis":0.581043,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":670949,"millis":0.670949,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.397 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":786358,"millis":0.786358,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":492937,"millis":0.492937,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.398 [print] INSPIRE Atom \n"},{"result":{"nanos":431532,"millis":0.431532,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":454734,"millis":0.454734,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.399 [print] #notpresent \n"},{"result":{"nanos":115508,"millis":0.115508,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":415531,"millis":0.415531,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.400 [print] INSPIRE Atom \n"},{"result":{"nanos":410230,"millis":0.41023,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":434432,"millis":0.434432,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.401 [print] Beheer PDOK \n"},{"result":{"nanos":643548,"millis":0.643548,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.401 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":440632,"millis":0.440632,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":438333,"millis":0.438333,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320923,"millis":0.320923,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.392987,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","startTime":1631163639860,"refId":"[1.297:67]","endTime":1631163640403,"exampleData":{"datasetIdentifierCode":"e222648d-d19e-4a99-a67d-2af1c9aabd75"},"exampleIndex":296},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45203,"millis":0.045203,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.995 karate.env system property was: null \n"},{"result":{"nanos":33702,"millis":0.033702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":2365074,"millis":2.365074,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":275120,"millis":0.27512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315123,"millis":0.315123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116109,"millis":0.116109,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422531,"millis":0.422531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":94406,"millis":0.094406,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":448433,"millis":0.448433,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11601,"millis":0.011601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525597120,"millis":525.59712,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2401,"millis":0.002401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":698052,"millis":0.698052,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":731254,"millis":0.731254,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":844663,"millis":0.844663,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725353,"millis":0.725353,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748055,"millis":0.748055,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":684250,"millis":0.68425,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53704,"millis":0.053704,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":341825,"millis":0.341825,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307123,"millis":0.307123,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":315823,"millis":0.315823,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83906,"millis":0.083906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":192914,"millis":0.192914,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.531 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":701852,"millis":0.701852,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160811,"millis":0.160811,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.532 [print] OGC:WMS \n"},{"result":{"nanos":747755,"millis":0.747755,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122009,"millis":0.122009,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.533 [print] #notpresent \n"},{"result":{"nanos":230317,"millis":0.230317,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71405,"millis":0.071405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.533 [print] OGC:WMS \n"},{"result":{"nanos":882965,"millis":0.882965,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120109,"millis":0.120109,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.535 [print] Beheer PDOK \n"},{"result":{"nanos":71405,"millis":0.071405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.535 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":877065,"millis":0.877065,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":785958,"millis":0.785958,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":556241,"millis":0.556241,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.900745,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","startTime":1631163639992,"refId":"[1.298:67]","endTime":1631163640537,"exampleData":{"datasetIdentifierCode":"488c1e6d-363e-4476-b2ff-17756ac9b35f"},"exampleIndex":297},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47703,"millis":0.047703,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.992 karate.env system property was: null \n"},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111409,"millis":0.111409,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108508,"millis":0.108508,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347826,"millis":0.347826,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140210,"millis":0.14021,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416831,"millis":0.416831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84807,"millis":0.084807,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":6619089,"millis":6.619089,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56204,"millis":0.056204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":593336323,"millis":593.336323,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":605845,"millis":0.605845,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":639647,"millis":0.639647,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":656948,"millis":0.656948,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":576743,"millis":0.576743,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":696852,"millis":0.696852,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":799359,"millis":0.799359,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38703,"millis":0.038703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":480736,"millis":0.480736,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":451134,"millis":0.451134,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":498137,"millis":0.498137,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":7308240,"millis":7.30824,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1342099,"millis":1.342099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.608 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":663849,"millis":0.663849,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":6677193,"millis":6.677193,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.616 [print] #notpresent \n"},{"result":{"nanos":341425,"millis":0.341425,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":2493084,"millis":2.493084,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.618 [print] #notpresent \n"},{"result":{"nanos":45204,"millis":0.045204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":404229,"millis":0.404229,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.619 [print] #notpresent \n"},{"result":{"nanos":395629,"millis":0.395629,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":412831,"millis":0.412831,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.620 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":879365,"millis":0.879365,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.621 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":655549,"millis":0.655549,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463734,"millis":0.463734,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326424,"millis":0.326424,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":629.26858,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","startTime":1631163639990,"refId":"[1.299:67]","endTime":1631163640622,"exampleData":{"datasetIdentifierCode":"b81f9ce3-f612-4761-ba37-4c8afda9033a"},"exampleIndex":298},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.000 karate.env system property was: null \n"},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":92607,"millis":0.092607,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96607,"millis":0.096607,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":290721,"millis":0.290721,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107708,"millis":0.107708,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399129,"millis":0.399129,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85606,"millis":0.085606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104408,"millis":0.104408,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22202,"millis":0.022202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":601237407,"millis":601.237407,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":306523,"millis":0.306523,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":354326,"millis":0.354326,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":315023,"millis":0.315023,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":353926,"millis":0.353926,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":375728,"millis":0.375728,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393929,"millis":0.393929,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":290022,"millis":0.290022,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1032976,"millis":1.032976,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":274820,"millis":0.27482,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3650170,"millis":3.65017,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":793859,"millis":0.793859,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.611 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":399129,"millis":0.399129,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":372728,"millis":0.372728,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.612 [print] OGC:WMS \n"},{"result":{"nanos":325724,"millis":0.325724,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":371927,"millis":0.371927,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.613 [print] #notpresent \n"},{"result":{"nanos":42303,"millis":0.042303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":338725,"millis":0.338725,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.613 [print] OGC:WMS \n"},{"result":{"nanos":381228,"millis":0.381228,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":337725,"millis":0.337725,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.614 [print] Beheer PDOK \n"},{"result":{"nanos":479536,"millis":0.479536,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.614 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":316624,"millis":0.316624,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485635,"millis":0.485635,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1255893,"millis":1.255893,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":615.883789,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","startTime":1631163640000,"refId":"[1.300:67]","endTime":1631163640617,"exampleData":{"datasetIdentifierCode":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36"},"exampleIndex":299},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43003,"millis":0.043003,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.406 karate.env system property was: null \n"},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98007,"millis":0.098007,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252619,"millis":0.252619,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89806,"millis":0.089806,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317023,"millis":0.317023,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72505,"millis":0.072505,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":473035,"millis":0.473035,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29202,"millis":0.029202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10301,"millis":0.010301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":499901522,"millis":499.901522,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":955771,"millis":0.955771,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":751055,"millis":0.751055,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":668549,"millis":0.668549,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":624447,"millis":0.624447,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":906867,"millis":0.906867,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":817560,"millis":0.81756,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":123509,"millis":0.123509,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":588344,"millis":0.588344,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":610046,"millis":0.610046,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":667450,"millis":0.66745,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":205915,"millis":0.205915,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":337725,"millis":0.337725,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.915 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":673950,"millis":0.67395,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202215,"millis":0.202215,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.916 [print] OGC:WFS \n"},{"result":{"nanos":450033,"millis":0.450033,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113008,"millis":0.113008,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.917 [print] #notpresent \n"},{"result":{"nanos":70205,"millis":0.070205,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70305,"millis":0.070305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.917 [print] OGC:WFS \n"},{"result":{"nanos":396329,"millis":0.396329,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120809,"millis":0.120809,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.917 [print] Beheer PDOK \n"},{"result":{"nanos":71005,"millis":0.071005,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.917 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":392929,"millis":0.392929,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":414131,"millis":0.414131,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317723,"millis":0.317723,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":512.062219,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d94b1eca-8a7d-4dc4-b979-36257878758f","startTime":1631163640405,"refId":"[1.301:67]","endTime":1631163640919,"exampleData":{"datasetIdentifierCode":"d94b1eca-8a7d-4dc4-b979-36257878758f"},"exampleIndex":300},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.540 karate.env system property was: null \n"},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48103,"millis":0.048103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236017,"millis":0.236017,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400029,"millis":0.400029,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":144711,"millis":0.144711,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bm72cf8_'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532704445,"millis":532.704445,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":634647,"millis":0.634647,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bm72cf8_'"}},{"result":{"nanos":541440,"millis":0.54144,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":502437,"millis":0.502437,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449534,"millis":0.449534,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":664149,"millis":0.664149,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":593444,"millis":0.593444,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90107,"millis":0.090107,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":468434,"millis":0.468434,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390929,"millis":0.390929,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":394330,"millis":0.39433,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":153212,"millis":0.153212,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":154512,"millis":0.154512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.079 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1247392,"millis":1.247392,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151511,"millis":0.151511,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.081 [print] #notpresent \n"},{"result":{"nanos":692951,"millis":0.692951,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":134810,"millis":0.13481,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.082 [print] #notpresent \n"},{"result":{"nanos":390529,"millis":0.390529,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114508,"millis":0.114508,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.082 [print] #notpresent \n"},{"result":{"nanos":689351,"millis":0.689351,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136510,"millis":0.13651,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.083 [print] Rijkswaterstaat \n"},{"result":{"nanos":426332,"millis":0.426332,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.084 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":862264,"millis":0.862264,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":428932,"millis":0.428932,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":313623,"millis":0.313623,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.421811,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-83730-e750-485a-9c0c-39bf9bm72cf8_","startTime":1631163640540,"refId":"[1.302:67]","endTime":1631163641085,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bm72cf8_"},"exampleIndex":301},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.624 karate.env system property was: null \n"},{"result":{"nanos":25702,"millis":0.025702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":28702,"millis":0.028702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42103,"millis":0.042103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":205015,"millis":0.205015,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336325,"millis":0.336325,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30502,"millis":0.030502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":365027,"millis":0.365027,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19302,"millis":0.019302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39002,"millis":0.039002,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565396760,"millis":565.39676,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":431732,"millis":0.431732,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":499137,"millis":0.499137,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":337725,"millis":0.337725,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":304622,"millis":0.304622,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":524039,"millis":0.524039,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":605244,"millis":0.605244,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91606,"millis":0.091606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":326324,"millis":0.326324,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339025,"millis":0.339025,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332325,"millis":0.332325,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118909,"millis":0.118909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.195 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":444033,"millis":0.444033,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139710,"millis":0.13971,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.196 [print] INSPIRE Atom \n"},{"result":{"nanos":431732,"millis":0.431732,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":215516,"millis":0.215516,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.196 [print] #notpresent \n"},{"result":{"nanos":73805,"millis":0.073805,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74705,"millis":0.074705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.196 [print] INSPIRE Atom \n"},{"result":{"nanos":599644,"millis":0.599644,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149711,"millis":0.149711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.197 [print] Beheer PDOK \n"},{"result":{"nanos":86006,"millis":0.086006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.197 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":564041,"millis":0.564041,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498437,"millis":0.498437,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308023,"millis":0.308023,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":574.194106,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d0b60508-5bf5-4360-b34a-875f10a9a711","startTime":1631163640618,"refId":"[1.303:67]","endTime":1631163641199,"exampleData":{"datasetIdentifierCode":"d0b60508-5bf5-4360-b34a-875f10a9a711"},"exampleIndex":302},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.627 karate.env system property was: null \n"},{"result":{"nanos":25302,"millis":0.025302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":39403,"millis":0.039403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":180914,"millis":0.180914,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":340325,"millis":0.340325,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364827,"millis":0.364827,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36302,"millis":0.036302,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517567227,"millis":517.567227,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":753255,"millis":0.753255,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":712953,"millis":0.712953,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":742055,"millis":0.742055,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":386528,"millis":0.386528,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":480436,"millis":0.480436,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1024375,"millis":1.024375,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":150011,"millis":0.150011,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":392129,"millis":0.392129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":392429,"millis":0.392429,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162212,"millis":0.162212,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":267320,"millis":0.26732,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.152 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n"},{"result":{"nanos":562841,"millis":0.562841,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140111,"millis":0.140111,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.153 [print] #notpresent \n"},{"result":{"nanos":498637,"millis":0.498637,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127510,"millis":0.12751,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.153 [print] INSPIRE Atom \n"},{"result":{"nanos":182913,"millis":0.182913,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96707,"millis":0.096707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.154 [print] #notpresent \n"},{"result":{"nanos":507637,"millis":0.507637,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129910,"millis":0.12991,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.154 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":187714,"millis":0.187714,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.154 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":476935,"millis":0.476935,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":424031,"millis":0.424031,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396229,"millis":0.396229,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.316419,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","startTime":1631163640626,"refId":"[1.304:67]","endTime":1631163641156,"exampleData":{"datasetIdentifierCode":"efb5222c-112a-4c57-9bbf-f2af918cb9b5"},"exampleIndex":303},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51004,"millis":0.051004,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.921 karate.env system property was: null \n"},{"result":{"nanos":40202,"millis":0.040202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111008,"millis":0.111008,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99207,"millis":0.099207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286121,"millis":0.286121,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103408,"millis":0.103408,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437033,"millis":0.437033,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85407,"millis":0.085407,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102808,"millis":0.102808,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32602,"millis":0.032602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21501,"millis":0.021501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535310537,"millis":535.310537,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":832861,"millis":0.832861,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":917168,"millis":0.917168,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":749255,"millis":0.749255,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":475335,"millis":0.475335,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1038277,"millis":1.038277,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1001474,"millis":1.001474,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54804,"millis":0.054804,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":629647,"millis":0.629647,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":628047,"millis":0.628047,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":664049,"millis":0.664049,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112008,"millis":0.112008,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153011,"millis":0.153011,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.467 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1513112,"millis":1.513112,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135310,"millis":0.13531,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.469 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1314697,"millis":1.314697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115808,"millis":0.115808,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.470 [print] #notpresent \n"},{"result":{"nanos":562842,"millis":0.562842,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96107,"millis":0.096107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.471 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":868164,"millis":0.868164,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70105,"millis":0.070105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.472 [print] Beheer PDOK \n"},{"result":{"nanos":58604,"millis":0.058604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.472 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n"},{"result":{"nanos":2007248,"millis":2.007248,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":610645,"millis":0.610645,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443633,"millis":0.443633,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.804054,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d7a395a2-8673-4794-a5a6-fed6492cd580","startTime":1631163640920,"refId":"[1.305:67]","endTime":1631163641476,"exampleData":{"datasetIdentifierCode":"d7a395a2-8673-4794-a5a6-fed6492cd580"},"exampleIndex":304},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48003,"millis":0.048003,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.087 karate.env system property was: null \n"},{"result":{"nanos":39103,"millis":0.039103,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105607,"millis":0.105607,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118509,"millis":0.118509,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":308822,"millis":0.308822,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110808,"millis":0.110808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412931,"millis":0.412931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85707,"millis":0.085707,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111009,"millis":0.111009,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35003,"millis":0.035003,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28302,"millis":0.028302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530395175,"millis":530.395175,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":683750,"millis":0.68375,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":743755,"millis":0.743755,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":694451,"millis":0.694451,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":664749,"millis":0.664749,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":808260,"millis":0.80826,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":595044,"millis":0.595044,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313423,"millis":0.313423,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":284521,"millis":0.284521,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":280921,"millis":0.280921,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75005,"millis":0.075005,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86206,"millis":0.086206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.625 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":599345,"millis":0.599345,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121809,"millis":0.121809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.626 [print] #notpresent \n"},{"result":{"nanos":467834,"millis":0.467834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97407,"millis":0.097407,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.627 [print] OGC:WMS \n"},{"result":{"nanos":32002,"millis":0.032002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71805,"millis":0.071805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.627 [print] #notpresent \n"},{"result":{"nanos":575642,"millis":0.575642,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76106,"millis":0.076106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.628 [print] RIVM \n"},{"result":{"nanos":75105,"millis":0.075105,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.628 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":640447,"millis":0.640447,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":563342,"millis":0.563342,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":383528,"millis":0.383528,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.818042,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"745968a3-37af-4406-988e-ec595f58c7fe","startTime":1631163641087,"refId":"[1.306:67]","endTime":1631163641629,"exampleData":{"datasetIdentifierCode":"745968a3-37af-4406-988e-ec595f58c7fe"},"exampleIndex":305},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.158 karate.env system property was: null \n"},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112009,"millis":0.112009,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100908,"millis":0.100908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294121,"millis":0.294121,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117009,"millis":0.117009,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":531839,"millis":0.531839,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96307,"millis":0.096307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111108,"millis":0.111108,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35903,"millis":0.035903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":12001,"millis":0.012001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514090770,"millis":514.09077,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":656648,"millis":0.656648,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":689351,"millis":0.689351,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375528,"millis":0.375528,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384329,"millis":0.384329,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460934,"millis":0.460934,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":409131,"millis":0.409131,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23401,"millis":0.023401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":291421,"millis":0.291421,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":315024,"millis":0.315024,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":339725,"millis":0.339725,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79506,"millis":0.079506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":73105,"millis":0.073105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.679 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1239892,"millis":1.239892,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134509,"millis":0.134509,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.680 [print] #notpresent \n"},{"result":{"nanos":790459,"millis":0.790459,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113908,"millis":0.113908,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.681 [print] INSPIRE Atom \n"},{"result":{"nanos":226916,"millis":0.226916,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.681 [print] #notpresent \n"},{"result":{"nanos":981373,"millis":0.981373,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112609,"millis":0.112609,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.682 [print] Beheer PDOK \n"},{"result":{"nanos":230717,"millis":0.230717,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.683 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":972972,"millis":0.972972,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711753,"millis":0.711753,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":550340,"millis":0.55034,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.899742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","startTime":1631163641158,"refId":"[1.307:67]","endTime":1631163641685,"exampleData":{"datasetIdentifierCode":"ddf33bff-8de3-4cca-b6f5-24d18daa502f"},"exampleIndex":306},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48504,"millis":0.048504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.201 karate.env system property was: null \n"},{"result":{"nanos":38902,"millis":0.038902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":201615,"millis":0.201615,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":135110,"millis":0.13511,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286321,"millis":0.286321,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107908,"millis":0.107908,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":454633,"millis":0.454633,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98107,"millis":0.098107,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102107,"millis":0.102107,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22002,"millis":0.022002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":10501,"millis":0.010501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516571354,"millis":516.571354,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":451633,"millis":0.451633,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":435633,"millis":0.435633,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":393730,"millis":0.39373,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":379428,"millis":0.379428,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":456734,"millis":0.456734,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":422531,"millis":0.422531,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24802,"millis":0.024802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":11406242,"millis":11.406242,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":510838,"millis":0.510838,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":436932,"millis":0.436932,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":496837,"millis":0.496837,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2742602,"millis":2.742602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.739 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":435933,"millis":0.435933,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":230317,"millis":0.230317,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.739 [print] #notpresent \n"},{"result":{"nanos":467835,"millis":0.467835,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":136710,"millis":0.13671,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.740 [print] #notpresent \n"},{"result":{"nanos":81106,"millis":0.081106,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84507,"millis":0.084507,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.740 [print] #notpresent \n"},{"result":{"nanos":459834,"millis":0.459834,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134910,"millis":0.13491,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.741 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":2958118,"millis":2.958118,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.741 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":474035,"millis":0.474035,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":456734,"millis":0.456734,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333125,"millis":0.333125,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.581877,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","startTime":1631163641201,"refId":"[1.308:67]","endTime":1631163641745,"exampleData":{"datasetIdentifierCode":"eec0708d-bab6-41c2-aa5b-9c435a1a177e"},"exampleIndex":307},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.477 karate.env system property was: null \n"},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35303,"millis":0.035303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50204,"millis":0.050204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227717,"millis":0.227717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37603,"millis":0.037603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412831,"millis":0.412831,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63205,"millis":0.063205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18902,"millis":0.018902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73005,"millis":0.073005,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":595498583,"millis":595.498583,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4000595,"millis":4.000595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":6202758,"millis":6.202758,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":6451376,"millis":6.451376,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6289465,"millis":6.289465,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5682620,"millis":5.68262,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6166355,"millis":6.166355,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83606,"millis":0.083606,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3221838,"millis":3.221838,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3531561,"millis":3.531561,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3638769,"millis":3.638769,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":528039,"millis":0.528039,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":200915,"millis":0.200915,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.121 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":3514859,"millis":3.514859,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":152211,"millis":0.152211,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.125 [print] #notpresent \n"},{"result":{"nanos":3764378,"millis":3.764378,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":164612,"millis":0.164612,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.129 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":70005,"millis":0.070005,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80206,"millis":0.080206,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.129 [print] #notpresent \n"},{"result":{"nanos":5215485,"millis":5.215485,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134510,"millis":0.13451,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.134 [print] Beheer PDOK \n"},{"result":{"nanos":66605,"millis":0.066605,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.134 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":6788401,"millis":6.788401,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":457934,"millis":0.457934,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":338825,"millis":0.338825,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":663.28139,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"37e05521-c323-4dbe-aba4-de1178ba44a5","startTime":1631163641477,"refId":"[1.309:67]","endTime":1631163642142,"exampleData":{"datasetIdentifierCode":"37e05521-c323-4dbe-aba4-de1178ba44a5"},"exampleIndex":308},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.631 karate.env system property was: null \n"},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":172312,"millis":0.172312,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53004,"millis":0.053004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247818,"millis":0.247818,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39203,"millis":0.039203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398429,"millis":0.398429,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72005,"millis":0.072005,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20702,"millis":0.020702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46603,"millis":0.046603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":502842939,"millis":502.842939,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":6166955,"millis":6.166955,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":434732,"millis":0.434732,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":346626,"millis":0.346626,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":297621,"millis":0.297621,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1509312,"millis":1.509312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":507937,"millis":0.507937,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75406,"millis":0.075406,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329624,"millis":0.329624,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2960118,"millis":2.960118,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":383828,"millis":0.383828,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134310,"millis":0.13431,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110408,"millis":0.110408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.149 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":385529,"millis":0.385529,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121109,"millis":0.121109,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.150 [print] #notpresent \n"},{"result":{"nanos":383228,"millis":0.383228,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118508,"millis":0.118508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.150 [print] #notpresent \n"},{"result":{"nanos":78806,"millis":0.078806,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63104,"millis":0.063104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.150 [print] #notpresent \n"},{"result":{"nanos":333524,"millis":0.333524,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106408,"millis":0.106408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.151 [print] KNMI \n"},{"result":{"nanos":97108,"millis":0.097108,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.151 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":340725,"millis":0.340725,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":338325,"millis":0.338325,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328924,"millis":0.328924,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.958997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7f79fc69-d0c7-4913-a05a-527c90453297","startTime":1631163641631,"refId":"[1.310:67]","endTime":1631163642152,"exampleData":{"datasetIdentifierCode":"7f79fc69-d0c7-4913-a05a-527c90453297"},"exampleIndex":309},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.687 karate.env system property was: null \n"},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40603,"millis":0.040603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243918,"millis":0.243918,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37503,"millis":0.037503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":383128,"millis":0.383128,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46003,"millis":0.046003,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18901,"millis":0.018901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":149311,"millis":0.149311,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521167093,"millis":521.167093,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":651748,"millis":0.651748,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":523139,"millis":0.523139,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":479235,"millis":0.479235,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":459934,"millis":0.459934,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":587243,"millis":0.587243,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":556741,"millis":0.556741,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88807,"millis":0.088807,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":374128,"millis":0.374128,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421531,"millis":0.421531,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425432,"millis":0.425432,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129610,"millis":0.12961,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":162212,"millis":0.162212,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.215 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n"},{"result":{"nanos":664449,"millis":0.664449,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151211,"millis":0.151211,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.215 [print] OGC:WCS \n"},{"result":{"nanos":583943,"millis":0.583943,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131510,"millis":0.13151,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.216 [print] #notpresent \n"},{"result":{"nanos":179813,"millis":0.179813,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95707,"millis":0.095707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.216 [print] OGC:WCS \n"},{"result":{"nanos":570542,"millis":0.570542,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":138810,"millis":0.13881,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.217 [print] Rijkswaterstaat \n"},{"result":{"nanos":183413,"millis":0.183413,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.217 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":616346,"millis":0.616346,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":529440,"millis":0.52944,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349025,"millis":0.349025,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.297142,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","startTime":1631163641687,"refId":"[1.311:67]","endTime":1631163642219,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1"},"exampleIndex":310},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57504,"millis":0.057504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.748 karate.env system property was: null \n"},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119509,"millis":0.119509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":95408,"millis":0.095408,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":282821,"millis":0.282821,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102508,"millis":0.102508,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401830,"millis":0.40183,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83906,"millis":0.083906,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":499137,"millis":0.499137,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52704,"millis":0.052704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30802,"millis":0.030802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11201,"millis":0.011201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10301,"millis":0.010301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530435278,"millis":530.435278,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2401,"millis":0.002401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1198988,"millis":1.198988,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":1441106,"millis":1.441106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2016249,"millis":2.016249,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":868864,"millis":0.868864,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1013375,"millis":1.013375,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1030876,"millis":1.030876,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79106,"millis":0.079106,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":616145,"millis":0.616145,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":680050,"millis":0.68005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":705352,"millis":0.705352,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110208,"millis":0.110208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114609,"millis":0.114609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.290 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n"},{"result":{"nanos":17198070,"millis":17.19807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118009,"millis":0.118009,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.308 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":762857,"millis":0.762857,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61404,"millis":0.061404,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.309 [print] #notpresent \n"},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.309 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1034077,"millis":1.034077,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62605,"millis":0.062605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.310 [print] Rijkswaterstaat \n"},{"result":{"nanos":24202,"millis":0.024202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.310 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":986773,"millis":0.986773,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514938,"millis":0.514938,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":398630,"millis":0.39863,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":563.349511,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1631163641747,"refId":"[1.312:67]","endTime":1631163642312,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":311},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53904,"millis":0.053904,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.144 karate.env system property was: null \n"},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109508,"millis":0.109508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97507,"millis":0.097507,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":300822,"millis":0.300822,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105508,"millis":0.105508,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374528,"millis":0.374528,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80006,"millis":0.080006,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":407930,"millis":0.40793,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529326496,"millis":529.326496,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1043377,"millis":1.043377,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":1416304,"millis":1.416304,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":695851,"millis":0.695851,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":710253,"millis":0.710253,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":799159,"millis":0.799159,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":780957,"millis":0.780957,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27302,"millis":0.027302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":499037,"millis":0.499037,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":516438,"millis":0.516438,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":548340,"millis":0.54834,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95407,"millis":0.095407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133910,"millis":0.13391,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.683 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n"},{"result":{"nanos":1102481,"millis":1.102481,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105908,"millis":0.105908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.685 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":976072,"millis":0.976072,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82006,"millis":0.082006,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.686 [print] #notpresent \n"},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":33802,"millis":0.033802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.686 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":752956,"millis":0.752956,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88206,"millis":0.088206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.687 [print] Rijkswaterstaat \n"},{"result":{"nanos":31902,"millis":0.031902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.687 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1433506,"millis":1.433506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573042,"millis":0.573042,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":370727,"millis":0.370727,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.893468,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","startTime":1631163642144,"refId":"[1.313:67]","endTime":1631163642690,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2"},"exampleIndex":312},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61405,"millis":0.061405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.157 karate.env system property was: null \n"},{"result":{"nanos":37803,"millis":0.037803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":100808,"millis":0.100808,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113509,"millis":0.113509,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271020,"millis":0.27102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103808,"millis":0.103808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1485810,"millis":1.48581,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":99607,"millis":0.099607,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103307,"millis":0.103307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63405,"millis":0.063405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24902,"millis":0.024902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10101,"millis":0.010101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549599093,"millis":549.599093,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":394129,"millis":0.394129,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":459234,"millis":0.459234,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":426331,"millis":0.426331,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":495236,"millis":0.495236,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":525939,"millis":0.525939,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":508138,"millis":0.508138,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":332825,"millis":0.332825,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327224,"millis":0.327224,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":324424,"millis":0.324424,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62404,"millis":0.062404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":56304,"millis":0.056304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.713 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n"},{"result":{"nanos":361826,"millis":0.361826,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":58104,"millis":0.058104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.714 [print] INSPIRE Atom \n"},{"result":{"nanos":347726,"millis":0.347726,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":47303,"millis":0.047303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.714 [print] #notpresent \n"},{"result":{"nanos":25502,"millis":0.025502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.714 [print] INSPIRE Atom \n"},{"result":{"nanos":459134,"millis":0.459134,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61005,"millis":0.061005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.715 [print] Rijkswaterstaat \n"},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.715 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":458034,"millis":0.458034,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":427131,"millis":0.427131,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":724054,"millis":0.724054,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":559.085192,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1631163642154,"refId":"[1.314:67]","endTime":1631163642716,"exampleData":{"datasetIdentifierCode":"adn83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":313},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48504,"millis":0.048504,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.221 karate.env system property was: null \n"},{"result":{"nanos":39503,"millis":0.039503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109508,"millis":0.109508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98007,"millis":0.098007,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301722,"millis":0.301722,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":85406,"millis":0.085406,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330125,"millis":0.330125,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70006,"millis":0.070006,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87207,"millis":0.087207,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27502,"millis":0.027502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23302,"millis":0.023302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bt72cf9'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8201,"millis":0.008201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512662665,"millis":512.662665,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":414131,"millis":0.414131,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bt72cf9'"}},{"result":{"nanos":458533,"millis":0.458533,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":354626,"millis":0.354626,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":337625,"millis":0.337625,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":386628,"millis":0.386628,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":363727,"millis":0.363727,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":19902,"millis":0.019902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":274620,"millis":0.27462,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281521,"millis":0.281521,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":294821,"millis":0.294821,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56204,"millis":0.056204,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":51603,"millis":0.051603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.739 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":338825,"millis":0.338825,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81106,"millis":0.081106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.740 [print] INSPIRE Atom \n"},{"result":{"nanos":348725,"millis":0.348725,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61805,"millis":0.061805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.740 [print] #notpresent \n"},{"result":{"nanos":27302,"millis":0.027302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":27102,"millis":0.027102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.740 [print] INSPIRE Atom \n"},{"result":{"nanos":424132,"millis":0.424132,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59005,"millis":0.059005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.741 [print] Rijkswaterstaat \n"},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.741 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":374027,"millis":0.374027,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":958471,"millis":0.958471,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bt72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374628,"millis":0.374628,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bt72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.323229,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-3730-e750-485a-9c0c-39bf9bt72cf9","startTime":1631163642221,"refId":"[1.315:67]","endTime":1631163642742,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bt72cf9"},"exampleIndex":314},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17402,"millis":0.017402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.314 karate.env system property was: null \n"},{"result":{"nanos":30803,"millis":0.030803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33503,"millis":0.033503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47104,"millis":0.047104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231418,"millis":0.231418,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53004,"millis":0.053004,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430232,"millis":0.430232,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":40803,"millis":0.040803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19102,"millis":0.019102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1f86238'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517471320,"millis":517.47132,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":667550,"millis":0.66755,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1f86238'"}},{"result":{"nanos":743255,"millis":0.743255,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":723754,"millis":0.723754,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":710853,"millis":0.710853,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":754656,"millis":0.754656,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":709252,"millis":0.709252,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35802,"millis":0.035802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":505638,"millis":0.505638,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":469234,"millis":0.469234,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":330824,"millis":0.330824,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69905,"millis":0.069905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160912,"millis":0.160912,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.839 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":313923,"millis":0.313923,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":57904,"millis":0.057904,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.839 [print] OGC:WFS \n"},{"result":{"nanos":400829,"millis":0.400829,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72905,"millis":0.072905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.840 [print] #notpresent \n"},{"result":{"nanos":31002,"millis":0.031002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":28902,"millis":0.028902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.840 [print] OGC:WFS \n"},{"result":{"nanos":526139,"millis":0.526139,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67505,"millis":0.067505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.840 [print] Rijkswaterstaat \n"},{"result":{"nanos":28702,"millis":0.028702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.840 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":511037,"millis":0.511037,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532240,"millis":0.53224,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1f86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":351025,"millis":0.351025,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1f86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.289448,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-f5eb-b09f-4f6d-8397-8878a1f86238","startTime":1631163642314,"refId":"[1.316:67]","endTime":1631163642842,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1f86238"},"exampleIndex":315},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.692 karate.env system property was: null \n"},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34303,"millis":0.034303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47203,"millis":0.047203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237217,"millis":0.237217,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387229,"millis":0.387229,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19702,"millis":0.019702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43403,"millis":0.043403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bf72cf9'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534591884,"millis":534.591884,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":940670,"millis":0.94067,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bf72cf9'"}},{"result":{"nanos":7981689,"millis":7.981689,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":455034,"millis":0.455034,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":413330,"millis":0.41333,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":485836,"millis":0.485836,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":455933,"millis":0.455933,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24602,"millis":0.024602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327724,"millis":0.327724,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325124,"millis":0.325124,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":389329,"millis":0.389329,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76006,"millis":0.076006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87007,"millis":0.087007,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.240 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":376928,"millis":0.376928,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":69505,"millis":0.069505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.241 [print] OGC:WFS \n"},{"result":{"nanos":366727,"millis":0.366727,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":55105,"millis":0.055105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.241 [print] #notpresent \n"},{"result":{"nanos":25502,"millis":0.025502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":19602,"millis":0.019602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.241 [print] OGC:WFS \n"},{"result":{"nanos":471935,"millis":0.471935,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67005,"millis":0.067005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.242 [print] Rijkswaterstaat \n"},{"result":{"nanos":21902,"millis":0.021902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.242 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":487836,"millis":0.487836,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596144,"millis":0.596144,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bf72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360926,"millis":0.360926,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bf72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.441656,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-3730-e750-485a-9c0c-39bf9bf72cf9","startTime":1631163642692,"refId":"[1.317:67]","endTime":1631163643243,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bf72cf9"},"exampleIndex":316},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.718 karate.env system property was: null \n"},{"result":{"nanos":26902,"millis":0.026902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41803,"millis":0.041803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198815,"millis":0.198815,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35502,"millis":0.035502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":378128,"millis":0.378128,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28402,"millis":0.028402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":46403,"millis":0.046403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37203,"millis":0.037203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533172579,"millis":533.172579,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":419131,"millis":0.419131,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":468735,"millis":0.468735,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":457133,"millis":0.457133,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":430732,"millis":0.430732,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":540740,"millis":0.54074,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462634,"millis":0.462634,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":376928,"millis":0.376928,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":354426,"millis":0.354426,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362527,"millis":0.362527,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89507,"millis":0.089507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":67905,"millis":0.067905,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.257 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":921868,"millis":0.921868,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64705,"millis":0.064705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.258 [print] INSPIRE Atom \n"},{"result":{"nanos":406630,"millis":0.40663,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":50603,"millis":0.050603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.258 [print] #notpresent \n"},{"result":{"nanos":29202,"millis":0.029202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.258 [print] INSPIRE Atom \n"},{"result":{"nanos":544040,"millis":0.54404,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62505,"millis":0.062505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.259 [print] Rijkswaterstaat \n"},{"result":{"nanos":26502,"millis":0.026502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.259 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":498937,"millis":0.498937,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":418731,"millis":0.418731,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342225,"millis":0.342225,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.506191,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1631163642718,"refId":"[1.318:67]","endTime":1631163643260,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":317},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.744 karate.env system property was: null \n"},{"result":{"nanos":27002,"millis":0.027002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":29902,"millis":0.029902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":38903,"millis":0.038903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":186014,"millis":0.186014,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35702,"millis":0.035702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355726,"millis":0.355726,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26302,"millis":0.026302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":46804,"millis":0.046804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":9801,"millis":0.009801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4001,"millis":0.004001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46404,"millis":0.046404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1t86238'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545112462,"millis":545.112462,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":558642,"millis":0.558642,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1t86238'"}},{"result":{"nanos":632547,"millis":0.632547,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":570742,"millis":0.570742,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":549041,"millis":0.549041,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":600844,"millis":0.600844,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":577643,"millis":0.577643,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30702,"millis":0.030702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":403030,"millis":0.40303,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":416731,"millis":0.416731,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79806,"millis":0.079806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":78005,"millis":0.078005,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.295 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":462535,"millis":0.462535,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81706,"millis":0.081706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.296 [print] INSPIRE Atom \n"},{"result":{"nanos":429631,"millis":0.429631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72506,"millis":0.072506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.296 [print] #notpresent \n"},{"result":{"nanos":35503,"millis":0.035503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":44903,"millis":0.044903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.297 [print] INSPIRE Atom \n"},{"result":{"nanos":576743,"millis":0.576743,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76705,"millis":0.076705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.297 [print] Rijkswaterstaat \n"},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.297 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":564641,"millis":0.564641,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":456034,"millis":0.456034,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1t86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348026,"millis":0.348026,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1t86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.058126,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f5eb-b09f-4f6d-8397-8878a1t86238","startTime":1631163642744,"refId":"[1.319:67]","endTime":1631163643299,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1t86238"},"exampleIndex":318},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16902,"millis":0.016902,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.844 karate.env system property was: null \n"},{"result":{"nanos":30403,"millis":0.030403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34803,"millis":0.034803,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43703,"millis":0.043703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216716,"millis":0.216716,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37803,"millis":0.037803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413331,"millis":0.413331,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31203,"millis":0.031203,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50504,"millis":0.050504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28502,"millis":0.028502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42203,"millis":0.042203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bf72cf8'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530780203,"millis":530.780203,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3001,"millis":0.003001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":894766,"millis":0.894766,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bf72cf8'"}},{"result":{"nanos":961671,"millis":0.961671,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":758556,"millis":0.758556,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":437232,"millis":0.437232,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":468535,"millis":0.468535,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":707153,"millis":0.707153,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":444233,"millis":0.444233,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394129,"millis":0.394129,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":359927,"millis":0.359927,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70705,"millis":0.070705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":79206,"millis":0.079206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.382 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":350126,"millis":0.350126,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70106,"millis":0.070106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.382 [print] OGC:WFS \n"},{"result":{"nanos":349126,"millis":0.349126,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61804,"millis":0.061804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.383 [print] #notpresent \n"},{"result":{"nanos":27602,"millis":0.027602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.383 [print] OGC:WFS \n"},{"result":{"nanos":424331,"millis":0.424331,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118508,"millis":0.118508,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.383 [print] Rijkswaterstaat \n"},{"result":{"nanos":43303,"millis":0.043303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.383 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":574142,"millis":0.574142,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":510238,"millis":0.510238,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":588543,"millis":0.588543,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.513626,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-83730-e750-485a-9c0c-39bf9bf72cf8","startTime":1631163642844,"refId":"[1.320:67]","endTime":1631163643385,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bf72cf8"},"exampleIndex":319},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22802,"millis":0.022802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.245 karate.env system property was: null \n"},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46804,"millis":0.046804,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74805,"millis":0.074805,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309623,"millis":0.309623,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56804,"millis":0.056804,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519839,"millis":0.519839,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53504,"millis":0.053504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55204,"millis":0.055204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bm72cf8'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3801,"millis":0.003801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521809440,"millis":521.80944,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2701,"millis":0.002701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":709052,"millis":0.709052,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bm72cf8'"}},{"result":{"nanos":754256,"millis":0.754256,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":709752,"millis":0.709752,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":734454,"millis":0.734454,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":794359,"millis":0.794359,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":730954,"millis":0.730954,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35503,"millis":0.035503,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":519538,"millis":0.519538,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":510638,"millis":0.510638,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":517238,"millis":0.517238,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100208,"millis":0.100208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90506,"millis":0.090506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.775 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":428432,"millis":0.428432,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73306,"millis":0.073306,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.776 [print] OGC:WMS \n"},{"result":{"nanos":388028,"millis":0.388028,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60104,"millis":0.060104,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.776 [print] #notpresent \n"},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.776 [print] OGC:WMS \n"},{"result":{"nanos":802259,"millis":0.802259,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80406,"millis":0.080406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.777 [print] Rijkswaterstaat \n"},{"result":{"nanos":24502,"millis":0.024502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.777 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":559542,"millis":0.559542,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":612545,"millis":0.612545,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393029,"millis":0.393029,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.75605,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-83730-e750-485a-9c0c-39bf9bm72cf8","startTime":1631163643245,"refId":"[1.321:67]","endTime":1631163643779,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bm72cf8"},"exampleIndex":320},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.262 karate.env system property was: null \n"},{"result":{"nanos":28703,"millis":0.028703,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32503,"millis":0.032503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45604,"millis":0.045604,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":206915,"millis":0.206915,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47704,"millis":0.047704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367527,"millis":0.367527,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30602,"millis":0.030602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48804,"millis":0.048804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39303,"millis":0.039303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bm72cf9'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":573696473,"millis":573.696473,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":561042,"millis":0.561042,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bm72cf9'"}},{"result":{"nanos":592444,"millis":0.592444,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":511837,"millis":0.511837,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":479236,"millis":0.479236,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":584844,"millis":0.584844,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":533339,"millis":0.533339,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":373027,"millis":0.373027,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":361827,"millis":0.361827,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":418731,"millis":0.418731,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73605,"millis":0.073605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86806,"millis":0.086806,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.842 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":413031,"millis":0.413031,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77106,"millis":0.077106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.842 [print] OGC:WMS \n"},{"result":{"nanos":385528,"millis":0.385528,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68105,"millis":0.068105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.843 [print] #notpresent \n"},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":30003,"millis":0.030003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.843 [print] OGC:WMS \n"},{"result":{"nanos":8979664,"millis":8.979664,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89407,"millis":0.089407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.852 [print] Rijkswaterstaat \n"},{"result":{"nanos":28002,"millis":0.028002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.852 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":649648,"millis":0.649648,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513738,"millis":0.513738,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bm72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348226,"millis":0.348226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bm72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":590.824444,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-3730-e750-485a-9c0c-39bf9bm72cf9","startTime":1631163643262,"refId":"[1.322:67]","endTime":1631163643854,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bm72cf9"},"exampleIndex":321},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15001,"millis":0.015001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.301 karate.env system property was: null \n"},{"result":{"nanos":27802,"millis":0.027802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43203,"millis":0.043203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208415,"millis":0.208415,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33202,"millis":0.033202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":332424,"millis":0.332424,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43003,"millis":0.043003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3901,"millis":0.003901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37103,"millis":0.037103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566975876,"millis":566.975876,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":483036,"millis":0.483036,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":552040,"millis":0.55204,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":471535,"millis":0.471535,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427431,"millis":0.427431,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":583243,"millis":0.583243,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":562242,"millis":0.562242,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396330,"millis":0.39633,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":371527,"millis":0.371527,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":382428,"millis":0.382428,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":58404,"millis":0.058404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":75005,"millis":0.075005,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.873 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":394229,"millis":0.394229,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":69605,"millis":0.069605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.874 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":385529,"millis":0.385529,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61205,"millis":0.061205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.874 [print] #notpresent \n"},{"result":{"nanos":29903,"millis":0.029903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.874 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":512438,"millis":0.512438,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65804,"millis":0.065804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.875 [print] Rijkswaterstaat \n"},{"result":{"nanos":27202,"millis":0.027202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.875 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":509237,"millis":0.509237,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":436432,"millis":0.436432,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337725,"millis":0.337725,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":575.06827,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f297898-2640-44c2-bbe9-c0480df83794","startTime":1631163643300,"refId":"[1.323:67]","endTime":1631163643876,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480df83794"},"exampleIndex":322},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.387 karate.env system property was: null \n"},{"result":{"nanos":29702,"millis":0.029702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57504,"millis":0.057504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44703,"millis":0.044703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221816,"millis":0.221816,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38603,"millis":0.038603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374228,"millis":0.374228,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29803,"millis":0.029803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65205,"millis":0.065205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25802,"millis":0.025802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26902,"millis":0.026902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3701,"millis":0.003701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517772842,"millis":517.772842,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1562616,"millis":1.562616,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":804259,"millis":0.804259,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":836662,"millis":0.836662,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":790858,"millis":0.790858,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":760957,"millis":0.760957,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":815161,"millis":0.815161,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28102,"millis":0.028102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":535539,"millis":0.535539,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":533640,"millis":0.53364,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":564241,"millis":0.564241,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75806,"millis":0.075806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":79806,"millis":0.079806,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.914 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":534039,"millis":0.534039,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68005,"millis":0.068005,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.914 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":530639,"millis":0.530639,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63604,"millis":0.063604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.915 [print] #notpresent \n"},{"result":{"nanos":28602,"millis":0.028602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":27702,"millis":0.027702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.915 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":770457,"millis":0.770457,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65805,"millis":0.065805,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.916 [print] Rijkswaterstaat \n"},{"result":{"nanos":26602,"millis":0.026602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.916 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":732954,"millis":0.732954,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":464035,"millis":0.464035,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327024,"millis":0.327024,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.798031,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","startTime":1631163643387,"refId":"[1.324:67]","endTime":1631163643918,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611f0gfim"},"exampleIndex":323},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16402,"millis":0.016402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.781 karate.env system property was: null \n"},{"result":{"nanos":29502,"millis":0.029502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34702,"millis":0.034702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46203,"millis":0.046203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229417,"millis":0.229417,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38503,"millis":0.038503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":378328,"millis":0.378328,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30102,"millis":0.030102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67105,"millis":0.067105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20202,"millis":0.020202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48503,"millis":0.048503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523516266,"millis":523.516266,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1203289,"millis":1.203289,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":983573,"millis":0.983573,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":853063,"millis":0.853063,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":826861,"millis":0.826861,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":898966,"millis":0.898966,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1035776,"millis":1.035776,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46703,"millis":0.046703,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":623146,"millis":0.623146,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":568341,"millis":0.568341,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363727,"millis":0.363727,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74706,"millis":0.074706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88207,"millis":0.088207,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.314 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":375028,"millis":0.375028,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73405,"millis":0.073405,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.314 [print] OGC:WMS \n"},{"result":{"nanos":380128,"millis":0.380128,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58404,"millis":0.058404,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.315 [print] #notpresent \n"},{"result":{"nanos":38403,"millis":0.038403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":20302,"millis":0.020302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.315 [print] OGC:WMS \n"},{"result":{"nanos":486736,"millis":0.486736,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61904,"millis":0.061904,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.315 [print] Rijkswaterstaat \n"},{"result":{"nanos":23402,"millis":0.023402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.315 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":496537,"millis":0.496537,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":629146,"millis":0.629146,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362927,"millis":0.362927,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.060117,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-f297898-2640-44c2-bbe9-c0480dm83794","startTime":1631163643781,"refId":"[1.325:67]","endTime":1631163644317,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dm83794"},"exampleIndex":324},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.856 karate.env system property was: null \n"},{"result":{"nanos":32803,"millis":0.032803,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35703,"millis":0.035703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48003,"millis":0.048003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233217,"millis":0.233217,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40203,"millis":0.040203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399030,"millis":0.39903,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32503,"millis":0.032503,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51904,"millis":0.051904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11501,"millis":0.011501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20102,"millis":0.020102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1m86238'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521423212,"millis":521.423212,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":685551,"millis":0.685551,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1m86238'"}},{"result":{"nanos":981572,"millis":0.981572,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":842962,"millis":0.842962,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":831861,"millis":0.831861,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":881865,"millis":0.881865,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":578943,"millis":0.578943,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21002,"millis":0.021002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":351726,"millis":0.351726,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":329425,"millis":0.329425,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":324824,"millis":0.324824,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62305,"millis":0.062305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":67305,"millis":0.067305,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.385 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":366627,"millis":0.366627,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65405,"millis":0.065405,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.385 [print] OGC:WMS \n"},{"result":{"nanos":394630,"millis":0.39463,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66505,"millis":0.066505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.386 [print] #notpresent \n"},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":31602,"millis":0.031602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.386 [print] OGC:WMS \n"},{"result":{"nanos":556841,"millis":0.556841,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59804,"millis":0.059804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.386 [print] Rijkswaterstaat \n"},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.386 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":498737,"millis":0.498737,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1240391,"millis":1.240391,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1m86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389629,"millis":0.389629,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1m86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.094602,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-f5eb-b09f-4f6d-8397-8878a1m86238","startTime":1631163643855,"refId":"[1.326:67]","endTime":1631163644388,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1m86238"},"exampleIndex":325},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15002,"millis":0.015002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.878 karate.env system property was: null \n"},{"result":{"nanos":26402,"millis":0.026402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":31202,"millis":0.031202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41203,"millis":0.041203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238318,"millis":0.238318,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39803,"millis":0.039803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392129,"millis":0.392129,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51404,"millis":0.051404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11801,"millis":0.011801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17502,"millis":0.017502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41503,"millis":0.041503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516039614,"millis":516.039614,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":413330,"millis":0.41333,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":486436,"millis":0.486436,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":464334,"millis":0.464334,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":436332,"millis":0.436332,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":578243,"millis":0.578243,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":502537,"millis":0.502537,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25802,"millis":0.025802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":331524,"millis":0.331524,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":375228,"millis":0.375228,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398629,"millis":0.398629,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64205,"millis":0.064205,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134509,"millis":0.134509,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.400 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":483336,"millis":0.483336,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63505,"millis":0.063505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.400 [print] INSPIRE Atom \n"},{"result":{"nanos":450933,"millis":0.450933,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110008,"millis":0.110008,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.401 [print] #notpresent \n"},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":37802,"millis":0.037802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.401 [print] INSPIRE Atom \n"},{"result":{"nanos":451833,"millis":0.451833,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100307,"millis":0.100307,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.402 [print] Rijkswaterstaat \n"},{"result":{"nanos":38503,"millis":0.038503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.402 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":431632,"millis":0.431632,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":344225,"millis":0.344225,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395229,"millis":0.395229,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.15051,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f297898-2640-44c2-bbe9-c0480dt83794","startTime":1631163643878,"refId":"[1.327:67]","endTime":1631163644403,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dt83794"},"exampleIndex":326},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.920 karate.env system property was: null \n"},{"result":{"nanos":30402,"millis":0.030402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32902,"millis":0.032902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43603,"millis":0.043603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221616,"millis":0.221616,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401730,"millis":0.40173,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50303,"millis":0.050303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17302,"millis":0.017302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523352954,"millis":523.352954,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1501,"millis":0.001501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":582643,"millis":0.582643,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":736355,"millis":0.736355,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":11707964,"millis":11.707964,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":627547,"millis":0.627547,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":900067,"millis":0.900067,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":880765,"millis":0.880765,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27802,"millis":0.027802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":527439,"millis":0.527439,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":507437,"millis":0.507437,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":603145,"millis":0.603145,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86406,"millis":0.086406,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87906,"millis":0.087906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.462 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1023776,"millis":1.023776,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75706,"millis":0.075706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.463 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":787758,"millis":0.787758,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78005,"millis":0.078005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.464 [print] #notpresent \n"},{"result":{"nanos":285821,"millis":0.285821,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":55604,"millis":0.055604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.464 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1063878,"millis":1.063878,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78206,"millis":0.078206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.465 [print] Rijkswaterstaat \n"},{"result":{"nanos":31203,"millis":0.031203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.465 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":1457808,"millis":1.457808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":452033,"millis":0.452033,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288722,"millis":0.288722,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.270821,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","startTime":1631163643919,"refId":"[1.328:67]","endTime":1631163644467,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611m0gfim"},"exampleIndex":327},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.319 karate.env system property was: null \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33302,"millis":0.033302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44203,"millis":0.044203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232717,"millis":0.232717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35303,"millis":0.035303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389529,"millis":0.389529,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32502,"millis":0.032502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50104,"millis":0.050104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18302,"millis":0.018302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":613191989,"millis":613.191989,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":902766,"millis":0.902766,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":917968,"millis":0.917968,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":859963,"millis":0.859963,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":802559,"millis":0.802559,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":908267,"millis":0.908267,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1099181,"millis":1.099181,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51604,"millis":0.051604,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":682251,"millis":0.682251,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625346,"millis":0.625346,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":577242,"millis":0.577242,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95907,"millis":0.095907,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":112708,"millis":0.112708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.941 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n"},{"result":{"nanos":419031,"millis":0.419031,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197414,"millis":0.197414,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.942 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":423131,"millis":0.423131,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117308,"millis":0.117308,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.942 [print] #notpresent \n"},{"result":{"nanos":36103,"millis":0.036103,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58705,"millis":0.058705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.943 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":554441,"millis":0.554441,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118509,"millis":0.118509,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.943 [print] Rijkswaterstaat \n"},{"result":{"nanos":51804,"millis":0.051804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.943 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":583543,"millis":0.583543,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":534439,"millis":0.534439,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339025,"millis":0.339025,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":625.215975,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cf69ec50-9849-4afd-853c-ee5621fd336d","startTime":1631163644319,"refId":"[1.329:67]","endTime":1631163644945,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621fd336d"},"exampleIndex":328},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.390 karate.env system property was: null \n"},{"result":{"nanos":30702,"millis":0.030702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32303,"millis":0.032303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50104,"millis":0.050104,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229917,"millis":0.229917,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40503,"millis":0.040503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436032,"millis":0.436032,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35303,"millis":0.035303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53204,"millis":0.053204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20002,"millis":0.020002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44403,"millis":0.044403,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":636029877,"millis":636.029877,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":485836,"millis":0.485836,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":540940,"millis":0.54094,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":497036,"millis":0.497036,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":475035,"millis":0.475035,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":508738,"millis":0.508738,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":451533,"millis":0.451533,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286421,"millis":0.286421,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":310322,"millis":0.310322,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":400730,"millis":0.40073,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60204,"millis":0.060204,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86706,"millis":0.086706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.032 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":415531,"millis":0.415531,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123309,"millis":0.123309,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.033 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":773658,"millis":0.773658,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122209,"millis":0.122209,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.034 [print] #notpresent \n"},{"result":{"nanos":37903,"millis":0.037903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58404,"millis":0.058404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.034 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1482709,"millis":1.482709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":860363,"millis":0.860363,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.036 [print] Rijkswaterstaat \n"},{"result":{"nanos":1254193,"millis":1.254193,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.037 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":955771,"millis":0.955771,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2364374,"millis":2.364374,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":588844,"millis":0.588844,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":650.226125,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"cf69ec50-9849-4afd-853c-ee5621md336d","startTime":1631163644390,"refId":"[1.330:67]","endTime":1631163645041,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621md336d"},"exampleIndex":329},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.405 karate.env system property was: null \n"},{"result":{"nanos":23401,"millis":0.023401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":25102,"millis":0.025102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54004,"millis":0.054004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183813,"millis":0.183813,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33602,"millis":0.033602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434232,"millis":0.434232,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33102,"millis":0.033102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47004,"millis":0.047004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10801,"millis":0.010801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22101,"millis":0.022101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57104,"millis":0.057104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":668417668,"millis":668.417668,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":901167,"millis":0.901167,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":1250893,"millis":1.250893,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1061478,"millis":1.061478,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1038776,"millis":1.038776,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1142085,"millis":1.142085,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1073079,"millis":1.073079,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36002,"millis":0.036002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":705253,"millis":0.705253,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":681550,"millis":0.68155,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":613146,"millis":0.613146,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90607,"millis":0.090607,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":838562,"millis":0.838562,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.084 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":1319497,"millis":1.319497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":584343,"millis":0.584343,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.086 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":599544,"millis":0.599544,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":471235,"millis":0.471235,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.087 [print] #notpresent \n"},{"result":{"nanos":42403,"millis":0.042403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460734,"millis":0.460734,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.088 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":851863,"millis":0.851863,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":446533,"millis":0.446533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.089 [print] Rijkswaterstaat \n"},{"result":{"nanos":673049,"millis":0.673049,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.090 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":821460,"millis":0.82146,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":537540,"millis":0.53754,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":541940,"millis":0.54194,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":686.156975,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","startTime":1631163644404,"refId":"[1.331:67]","endTime":1631163645092,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416efaadd1"},"exampleIndex":330},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.469 karate.env system property was: null \n"},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32402,"millis":0.032402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45103,"millis":0.045103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213016,"millis":0.213016,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396729,"millis":0.396729,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30902,"millis":0.030902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59404,"millis":0.059404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10701,"millis":0.010701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17102,"millis":0.017102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42703,"millis":0.042703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524540942,"millis":524.540942,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":485236,"millis":0.485236,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":511638,"millis":0.511638,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":507237,"millis":0.507237,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":460334,"millis":0.460334,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":477635,"millis":0.477635,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":414731,"millis":0.414731,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23101,"millis":0.023101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310423,"millis":0.310423,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":296522,"millis":0.296522,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":320924,"millis":0.320924,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71305,"millis":0.071305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90006,"millis":0.090006,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.000 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":331824,"millis":0.331824,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117709,"millis":0.117709,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.000 [print] INSPIRE Atom \n"},{"result":{"nanos":434932,"millis":0.434932,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111509,"millis":0.111509,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.001 [print] #notpresent \n"},{"result":{"nanos":31703,"millis":0.031703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74205,"millis":0.074205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.001 [print] INSPIRE Atom \n"},{"result":{"nanos":475235,"millis":0.475235,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110408,"millis":0.110408,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.001 [print] Rijkswaterstaat \n"},{"result":{"nanos":59404,"millis":0.059404,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.002 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":508038,"millis":0.508038,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":843162,"millis":0.843162,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":362327,"millis":0.362327,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.923358,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","startTime":1631163644469,"refId":"[1.332:67]","endTime":1631163645003,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416etaadd1"},"exampleIndex":331},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.947 karate.env system property was: null \n"},{"result":{"nanos":32002,"millis":0.032002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36303,"millis":0.036303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43903,"millis":0.043903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236817,"millis":0.236817,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38003,"millis":0.038003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407130,"millis":0.40713,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34302,"millis":0.034302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50604,"millis":0.050604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9001,"millis":0.009001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44204,"millis":0.044204,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":566795163,"millis":566.795163,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1213790,"millis":1.21379,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":1115082,"millis":1.115082,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1000274,"millis":1.000274,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":607745,"millis":0.607745,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":562041,"millis":0.562041,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":648848,"millis":0.648848,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28002,"millis":0.028002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":431132,"millis":0.431132,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":367228,"millis":0.367228,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":414031,"millis":0.414031,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78606,"millis":0.078606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":130910,"millis":0.13091,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.522 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1060978,"millis":1.060978,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96207,"millis":0.096207,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.523 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":776657,"millis":0.776657,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67305,"millis":0.067305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.524 [print] #notpresent \n"},{"result":{"nanos":285221,"millis":0.285221,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68506,"millis":0.068506,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.524 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":570342,"millis":0.570342,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96907,"millis":0.096907,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.525 [print] Rijkswaterstaat \n"},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.525 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1504712,"millis":1.504712,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558841,"millis":0.558841,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":672450,"millis":0.67245,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.180353,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","startTime":1631163644947,"refId":"[1.333:67]","endTime":1631163645528,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416emaadd1"},"exampleIndex":332},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.005 karate.env system property was: null \n"},{"result":{"nanos":29802,"millis":0.029802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32802,"millis":0.032802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46103,"millis":0.046103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":239717,"millis":0.239717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40003,"millis":0.040003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430731,"millis":0.430731,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35403,"millis":0.035403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74706,"millis":0.074706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12201,"millis":0.012201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29602,"millis":0.029602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44303,"millis":0.044303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3901,"millis":0.003901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528336723,"millis":528.336723,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":501137,"millis":0.501137,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":579143,"millis":0.579143,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":527939,"millis":0.527939,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":506737,"millis":0.506737,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":552441,"millis":0.552441,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":550741,"millis":0.550741,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25602,"millis":0.025602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":357727,"millis":0.357727,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":296322,"millis":0.296322,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309923,"millis":0.309923,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":47103,"millis":0.047103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":79206,"millis":0.079206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.540 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":577343,"millis":0.577343,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72506,"millis":0.072506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.540 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":510338,"millis":0.510338,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127809,"millis":0.127809,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.541 [print] #notpresent \n"},{"result":{"nanos":133710,"millis":0.13371,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":234317,"millis":0.234317,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.541 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":562541,"millis":0.562541,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119609,"millis":0.119609,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.542 [print] Rijkswaterstaat \n"},{"result":{"nanos":245118,"millis":0.245118,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.542 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":615745,"millis":0.615745,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":428132,"millis":0.428132,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363026,"millis":0.363026,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.710213,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","startTime":1631163645005,"refId":"[1.334:67]","endTime":1631163645544,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2"},"exampleIndex":333},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.044 karate.env system property was: null \n"},{"result":{"nanos":31502,"millis":0.031502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33402,"millis":0.033402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47703,"millis":0.047703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222216,"millis":0.222216,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39303,"millis":0.039303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395929,"millis":0.395929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414030,"millis":0.41403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19701,"millis":0.019701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42004,"millis":0.042004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528758853,"millis":528.758853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":677650,"millis":0.67765,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":790359,"millis":0.790359,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716753,"millis":0.716753,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":673950,"millis":0.67395,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":755656,"millis":0.755656,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":710753,"millis":0.710753,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33702,"millis":0.033702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":534540,"millis":0.53454,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":488236,"millis":0.488236,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395729,"millis":0.395729,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96608,"millis":0.096608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.581 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":517339,"millis":0.517339,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116709,"millis":0.116709,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.581 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":440132,"millis":0.440132,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110808,"millis":0.110808,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.582 [print] #notpresent \n"},{"result":{"nanos":556141,"millis":0.556141,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108608,"millis":0.108608,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.583 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":590744,"millis":0.590744,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114309,"millis":0.114309,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.583 [print] Rijkswaterstaat \n"},{"result":{"nanos":77406,"millis":0.077406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.583 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":551941,"millis":0.551941,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":457733,"millis":0.457733,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1125584,"millis":1.125584,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.806442,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","startTime":1631163645043,"refId":"[1.335:67]","endTime":1631163645586,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2"},"exampleIndex":334},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.094 karate.env system property was: null \n"},{"result":{"nanos":31702,"millis":0.031702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36302,"millis":0.036302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51004,"millis":0.051004,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302223,"millis":0.302223,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46603,"millis":0.046603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435532,"millis":0.435532,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34902,"millis":0.034902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":654048,"millis":0.654048,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23902,"millis":0.023902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22102,"millis":0.022102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47104,"millis":0.047104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10001,"millis":0.010001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545513791,"millis":545.513791,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":442433,"millis":0.442433,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":536840,"millis":0.53684,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":510237,"millis":0.510237,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":471835,"millis":0.471835,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":511438,"millis":0.511438,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":660849,"millis":0.660849,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35103,"millis":0.035103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348326,"millis":0.348326,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":359827,"millis":0.359827,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335124,"millis":0.335124,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65505,"millis":0.065505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":65204,"millis":0.065204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.646 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":904367,"millis":0.904367,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79306,"millis":0.079306,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.647 [print] OGC:WMS \n"},{"result":{"nanos":704652,"millis":0.704652,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76506,"millis":0.076506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.648 [print] #notpresent \n"},{"result":{"nanos":37703,"millis":0.037703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":333825,"millis":0.333825,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.648 [print] OGC:WMS \n"},{"result":{"nanos":825061,"millis":0.825061,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83706,"millis":0.083706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.649 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":796859,"millis":0.796859,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.650 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":452934,"millis":0.452934,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":422031,"millis":0.422031,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337125,"millis":0.337125,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":556.639615,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","startTime":1631163645093,"refId":"[1.336:67]","endTime":1631163645651,"exampleData":{"datasetIdentifierCode":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7"},"exampleIndex":335},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.530 karate.env system property was: null \n"},{"result":{"nanos":30202,"millis":0.030202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35002,"millis":0.035002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44603,"millis":0.044603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231717,"millis":0.231717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311923,"millis":0.311923,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26102,"millis":0.026102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44103,"millis":0.044103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":260519,"millis":0.260519,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33502,"millis":0.033502,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36803,"millis":0.036803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511999815,"millis":511.999815,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":622446,"millis":0.622446,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":552341,"millis":0.552341,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":486536,"millis":0.486536,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":456633,"millis":0.456633,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":530839,"millis":0.530839,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":526939,"millis":0.526939,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26802,"millis":0.026802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":442933,"millis":0.442933,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387628,"millis":0.387628,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":367028,"millis":0.367028,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147411,"millis":0.147411,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":755756,"millis":0.755756,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.049 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":425931,"millis":0.425931,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129310,"millis":0.12931,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.050 [print] OGC:WMS \n"},{"result":{"nanos":716953,"millis":0.716953,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":116908,"millis":0.116908,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.051 [print] #notpresent \n"},{"result":{"nanos":335725,"millis":0.335725,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94807,"millis":0.094807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.051 [print] OGC:WMS \n"},{"result":{"nanos":828662,"millis":0.828662,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117109,"millis":0.117109,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.052 [print] Rijkswaterstaat \n"},{"result":{"nanos":397929,"millis":0.397929,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.052 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":546640,"millis":0.54664,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":506538,"millis":0.506538,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327224,"millis":0.327224,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.985624,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","startTime":1631163645530,"refId":"[1.337:67]","endTime":1631163646054,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3"},"exampleIndex":336},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17602,"millis":0.017602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.546 karate.env system property was: null \n"},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":31703,"millis":0.031703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44304,"millis":0.044304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232917,"millis":0.232917,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":391929,"millis":0.391929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32102,"millis":0.032102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51204,"millis":0.051204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":149311,"millis":0.149311,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547835363,"millis":547.835363,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":891066,"millis":0.891066,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":817260,"millis":0.81726,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":742655,"millis":0.742655,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":720654,"millis":0.720654,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":814160,"millis":0.81416,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":608245,"millis":0.608245,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43103,"millis":0.043103,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":502938,"millis":0.502938,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376028,"millis":0.376028,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347925,"millis":0.347925,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78606,"millis":0.078606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74906,"millis":0.074906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.101 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":551641,"millis":0.551641,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114809,"millis":0.114809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.102 [print] OGC:WMS \n"},{"result":{"nanos":460934,"millis":0.460934,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122909,"millis":0.122909,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.102 [print] #notpresent \n"},{"result":{"nanos":132610,"millis":0.13261,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65504,"millis":0.065504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.103 [print] OGC:WMS \n"},{"result":{"nanos":578943,"millis":0.578943,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69905,"millis":0.069905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.103 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":80806,"millis":0.080806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.103 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":602145,"millis":0.602145,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":432432,"millis":0.432432,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317824,"millis":0.317824,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":558.453653,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bd14098b-44e6-47e5-959d-f40dda65da5a","startTime":1631163645545,"refId":"[1.338:67]","endTime":1631163646105,"exampleData":{"datasetIdentifierCode":"bd14098b-44e6-47e5-959d-f40dda65da5a"},"exampleIndex":337},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27302,"millis":0.027302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.589 karate.env system property was: null \n"},{"result":{"nanos":47403,"millis":0.047403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55804,"millis":0.055804,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71506,"millis":0.071506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320123,"millis":0.320123,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66005,"millis":0.066005,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":608745,"millis":0.608745,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49503,"millis":0.049503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41103,"millis":0.041103,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547790460,"millis":547.79046,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":682650,"millis":0.68265,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":435533,"millis":0.435533,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391429,"millis":0.391429,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":405530,"millis":0.40553,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":454033,"millis":0.454033,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":441333,"millis":0.441333,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25902,"millis":0.025902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":326524,"millis":0.326524,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":328224,"millis":0.328224,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":329724,"millis":0.329724,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73506,"millis":0.073506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1125683,"millis":1.125683,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.144 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":454833,"millis":0.454833,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138410,"millis":0.13841,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.145 [print] #notpresent \n"},{"result":{"nanos":432532,"millis":0.432532,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122709,"millis":0.122709,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.145 [print] #notpresent \n"},{"result":{"nanos":34503,"millis":0.034503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76106,"millis":0.076106,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.145 [print] #notpresent \n"},{"result":{"nanos":1301596,"millis":1.301596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":176413,"millis":0.176413,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.147 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":121508,"millis":0.121508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.147 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":487536,"millis":0.487536,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":453834,"millis":0.453834,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321024,"millis":0.321024,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":558.297333,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"97312a37-4ebf-4526-94e6-b29e90c2944a","startTime":1631163645588,"refId":"[1.339:67]","endTime":1631163646148,"exampleData":{"datasetIdentifierCode":"97312a37-4ebf-4526-94e6-b29e90c2944a"},"exampleIndex":338},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.653 karate.env system property was: null \n"},{"result":{"nanos":30302,"millis":0.030302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45703,"millis":0.045703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217116,"millis":0.217116,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38002,"millis":0.038002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368127,"millis":0.368127,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31302,"millis":0.031302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50404,"millis":0.050404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40903,"millis":0.040903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518219775,"millis":518.219775,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":430432,"millis":0.430432,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":399929,"millis":0.399929,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":340125,"millis":0.340125,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":327624,"millis":0.327624,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":386429,"millis":0.386429,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":430031,"millis":0.430031,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26702,"millis":0.026702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":282121,"millis":0.282121,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281321,"millis":0.281321,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281421,"millis":0.281421,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69105,"millis":0.069105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":83206,"millis":0.083206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.177 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":554441,"millis":0.554441,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110708,"millis":0.110708,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.178 [print] INSPIRE Atom \n"},{"result":{"nanos":363627,"millis":0.363627,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119409,"millis":0.119409,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.178 [print] #notpresent \n"},{"result":{"nanos":32302,"millis":0.032302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57504,"millis":0.057504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.178 [print] INSPIRE Atom \n"},{"result":{"nanos":421231,"millis":0.421231,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76206,"millis":0.076206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.179 [print] Beheer PDOK \n"},{"result":{"nanos":266719,"millis":0.266719,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.179 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":374928,"millis":0.374928,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":563241,"millis":0.563241,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342525,"millis":0.342525,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.776826,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","startTime":1631163645653,"refId":"[1.340:67]","endTime":1631163646180,"exampleData":{"datasetIdentifierCode":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9"},"exampleIndex":339},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.057 karate.env system property was: null \n"},{"result":{"nanos":49303,"millis":0.049303,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34903,"millis":0.034903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74506,"millis":0.074506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232117,"millis":0.232117,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39703,"millis":0.039703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409030,"millis":0.40903,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32202,"millis":0.032202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104307,"millis":0.104307,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14501,"millis":0.014501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":334225,"millis":0.334225,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9701,"millis":0.009701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45503,"millis":0.045503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520140554,"millis":520.140554,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2501,"millis":0.002501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":841862,"millis":0.841862,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":838562,"millis":0.838562,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":780458,"millis":0.780458,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":772357,"millis":0.772357,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":867164,"millis":0.867164,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":857664,"millis":0.857664,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45604,"millis":0.045604,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":584643,"millis":0.584643,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":568442,"millis":0.568442,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":579343,"millis":0.579343,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68505,"millis":0.068505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89707,"millis":0.089707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.586 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":11050717,"millis":11.050717,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173413,"millis":0.173413,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.597 [print] OGC:WMS \n"},{"result":{"nanos":735854,"millis":0.735854,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":443733,"millis":0.443733,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.599 [print] #notpresent \n"},{"result":{"nanos":41903,"millis":0.041903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":377027,"millis":0.377027,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.599 [print] OGC:WMS \n"},{"result":{"nanos":543341,"millis":0.543341,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":410431,"millis":0.410431,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.600 [print] Beheer PDOK \n"},{"result":{"nanos":108308,"millis":0.108308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.600 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":519138,"millis":0.519138,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532240,"millis":0.53224,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":399829,"millis":0.399829,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.784702,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","startTime":1631163646056,"refId":"[1.341:67]","endTime":1631163646602,"exampleData":{"datasetIdentifierCode":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21"},"exampleIndex":340},{"sectionIndex":0,"stepResults":[{"result":{"nanos":97107,"millis":0.097107,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.107 karate.env system property was: null \n"},{"result":{"nanos":28802,"millis":0.028802,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":28703,"millis":0.028703,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":37703,"millis":0.037703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216116,"millis":0.216116,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407730,"millis":0.40773,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34802,"millis":0.034802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50904,"millis":0.050904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17902,"millis":0.017902,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41703,"millis":0.041703,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514781262,"millis":514.781262,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461534,"millis":0.461534,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":535640,"millis":0.53564,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":465335,"millis":0.465335,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":503537,"millis":0.503537,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":556241,"millis":0.556241,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":562441,"millis":0.562441,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23502,"millis":0.023502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":398329,"millis":0.398329,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390829,"millis":0.390829,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395729,"millis":0.395729,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72905,"millis":0.072905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":97507,"millis":0.097507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.628 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":553741,"millis":0.553741,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":241918,"millis":0.241918,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.628 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":377128,"millis":0.377128,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60904,"millis":0.060904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.629 [print] #notpresent \n"},{"result":{"nanos":148811,"millis":0.148811,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203815,"millis":0.203815,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.629 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":594244,"millis":0.594244,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72906,"millis":0.072906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.630 [print] Beheer PDOK \n"},{"result":{"nanos":214316,"millis":0.214316,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.630 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":537839,"millis":0.537839,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":5376098,"millis":5.376098,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441833,"millis":0.441833,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.09512,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a84f9836-9111-4e45-a311-3dab39019e15","startTime":1631163646106,"refId":"[1.342:67]","endTime":1631163646637,"exampleData":{"datasetIdentifierCode":"a84f9836-9111-4e45-a311-3dab39019e15"},"exampleIndex":341},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.151 karate.env system property was: null \n"},{"result":{"nanos":31402,"millis":0.031402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34603,"millis":0.034603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49703,"millis":0.049703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231017,"millis":0.231017,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40303,"millis":0.040303,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423732,"millis":0.423732,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33803,"millis":0.033803,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":187714,"millis":0.187714,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24502,"millis":0.024502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43303,"millis":0.043303,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506654665,"millis":506.654665,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":483236,"millis":0.483236,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":579243,"millis":0.579243,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":478335,"millis":0.478335,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":456134,"millis":0.456134,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":517939,"millis":0.517939,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":487636,"millis":0.487636,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31102,"millis":0.031102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":378428,"millis":0.378428,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376228,"millis":0.376228,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363927,"millis":0.363927,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81706,"millis":0.081706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":72105,"millis":0.072105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.663 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":711752,"millis":0.711752,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":335925,"millis":0.335925,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.664 [print] #notpresent \n"},{"result":{"nanos":417331,"millis":0.417331,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130610,"millis":0.13061,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.665 [print] #notpresent \n"},{"result":{"nanos":231417,"millis":0.231417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95007,"millis":0.095007,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.665 [print] #notpresent \n"},{"result":{"nanos":524139,"millis":0.524139,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94107,"millis":0.094107,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.666 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":86806,"millis":0.086806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.666 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":490736,"millis":0.490736,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":408730,"millis":0.40873,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323124,"millis":0.323124,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":515.968553,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"12505d53-a942-467e-a462-ddbe5ac6467f","startTime":1631163646150,"refId":"[1.343:67]","endTime":1631163646668,"exampleData":{"datasetIdentifierCode":"12505d53-a942-467e-a462-ddbe5ac6467f"},"exampleIndex":342},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.182 karate.env system property was: null \n"},{"result":{"nanos":30002,"millis":0.030002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33002,"millis":0.033002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44803,"millis":0.044803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220016,"millis":0.220016,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38103,"millis":0.038103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382528,"millis":0.382528,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31802,"millis":0.031802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70805,"millis":0.070805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":101107,"millis":0.101107,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10401,"millis":0.010401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71505,"millis":0.071505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519621327,"millis":519.621327,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":670650,"millis":0.67065,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":733154,"millis":0.733154,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":663249,"millis":0.663249,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":649448,"millis":0.649448,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":721653,"millis":0.721653,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":666349,"millis":0.666349,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26502,"millis":0.026502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":318824,"millis":0.318824,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":287521,"millis":0.287521,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":297522,"millis":0.297522,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57804,"millis":0.057804,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":52604,"millis":0.052604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.709 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":304422,"millis":0.304422,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93807,"millis":0.093807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.709 [print] #notpresent \n"},{"result":{"nanos":310523,"millis":0.310523,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":107308,"millis":0.107308,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.710 [print] #notpresent \n"},{"result":{"nanos":26602,"millis":0.026602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":40202,"millis":0.040202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.710 [print] #notpresent \n"},{"result":{"nanos":438633,"millis":0.438633,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86207,"millis":0.086207,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.710 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":39903,"millis":0.039903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.710 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":441832,"millis":0.441832,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492737,"millis":0.492737,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":351826,"millis":0.351826,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.576885,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","startTime":1631163646182,"refId":"[1.344:67]","endTime":1631163646712,"exampleData":{"datasetIdentifierCode":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217"},"exampleIndex":343},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.604 karate.env system property was: null \n"},{"result":{"nanos":49504,"millis":0.049504,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47004,"millis":0.047004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48204,"millis":0.048204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232418,"millis":0.232418,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39003,"millis":0.039003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411730,"millis":0.41173,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28402,"millis":0.028402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50804,"millis":0.050804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26802,"millis":0.026802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":435732,"millis":0.435732,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":507223912,"millis":507.223912,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":500037,"millis":0.500037,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":466435,"millis":0.466435,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402230,"millis":0.40223,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":398530,"millis":0.39853,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":495237,"millis":0.495237,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":458434,"millis":0.458434,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27402,"millis":0.027402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323924,"millis":0.323924,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":318324,"millis":0.318324,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332425,"millis":0.332425,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80106,"millis":0.080106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":95607,"millis":0.095607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:47.118 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":349926,"millis":0.349926,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151712,"millis":0.151712,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:47.118 [print] #notpresent \n"},{"result":{"nanos":365727,"millis":0.365727,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109208,"millis":0.109208,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:47.119 [print] #notpresent \n"},{"result":{"nanos":33102,"millis":0.033102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63505,"millis":0.063505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:47.119 [print] #notpresent \n"},{"result":{"nanos":434332,"millis":0.434332,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110008,"millis":0.110008,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:47.119 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":52303,"millis":0.052303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:47.119 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":479036,"millis":0.479036,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":583543,"millis":0.583543,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342825,"millis":0.342825,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":515.625635,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8a772a52-d659-47b3-a131-82398fb78664","startTime":1631163646604,"refId":"[1.345:67]","endTime":1631163647121,"exampleData":{"datasetIdentifierCode":"8a772a52-d659-47b3-a131-82398fb78664"},"exampleIndex":344}],"callDepth":0,"name":"get details","description":"","resultDate":"2021-09-09 05:00:47 AM","durationMillis":190872.052063,"passedCount":345}